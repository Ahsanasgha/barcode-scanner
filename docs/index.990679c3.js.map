{"mappings":"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","sources":["node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b712a39d37b65cb3.js","node_modules/@parcel/runtime-js/lib/runtime-48e58fadf08ca53f.js","node_modules/@georapbox/clipboard-copy-element/dist/src/clipboard-copy.js","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@georapbox/clipboard-copy-element/dist/src/clipboard-copy-defined.js","node_modules/@georapbox/resize-observer-element/dist/src/resize-observer.js","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@georapbox/resize-observer-element/dist/src/resize-observer-defined.js","node_modules/@georapbox/capture-photo-element/dist/src/capture-photo.js","node_modules/@georapbox/web-storage/dist/WebStorage.esm.min.js","src/js/services/storage.js","src/js/utils/ary.js","src/js/toast-alert.js","src/js/index.js"],"sourcesContent":["export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = (__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"kNnD0\"))).then(() => parcelRequire('liRO9'));","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eq2Ey\\\":\\\"index.990679c3.js\\\",\\\"kNnD0\\\":\\\"barcode-detector.module.08f05a63.js\\\"}\"));","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <slot name=\"button\"><button type=\"button\" part=\"button\"><slot name=\"button-content\">Copy</slot></button></slot>\n`;\n\nclass ClipboardCopy extends HTMLElement {\n  #buttonSlot;\n  #buttonEl;\n\n  constructor() {\n    super();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n\n    this.#buttonSlot = this.shadowRoot.querySelector('slot[name=\"button\"]');\n    this.#buttonEl = this.#getButton();\n  }\n\n  static get observedAttributes() {\n    return ['disabled'];\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('value');\n    this.#upgradeProperty('from');\n    this.#upgradeProperty('disabled');\n\n    this.#buttonSlot && this.#buttonSlot.addEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.addEventListener('click', this.#onClick);\n  }\n\n  disconnectedCallback() {\n    this.#buttonSlot.removeEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n  }\n\n  attributeChangedCallback(name) {\n    if (name === 'disabled' && this.#buttonEl) {\n      this.#buttonEl.disabled = this.disabled;\n      this.#buttonEl.setAttribute('aria-disabled', this.disabled);\n\n      if (this.#buttonEl.part && this.#buttonEl.part.contains('button')) {\n        this.#buttonEl.part.toggle('button--disabled', this.disabled);\n      }\n    }\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n  }\n\n  get value() {\n    return this.getAttribute('value');\n  }\n\n  set value(value) {\n    this.setAttribute('value', value);\n  }\n\n  get from() {\n    return this.getAttribute('from');\n  }\n\n  set from(value) {\n    this.setAttribute('from', value);\n  }\n\n  async #copy() {\n    if (!this.value && !this.from) {\n      return;\n    }\n\n    try {\n      let copyValue = '';\n\n      if (this.value) {\n        copyValue = this.value;\n      } else if (this.from) {\n        const root = 'getRootNode' in Element.prototype ? this.#buttonEl.getRootNode({ composed: true }) : this.#buttonEl.ownerDocument;\n        const element = root.querySelector(this.from);\n\n        if (!element) {\n          return;\n        }\n\n        if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n          copyValue = element.value;\n        } else if (element instanceof HTMLAnchorElement && element.hasAttribute('href')) {\n          copyValue = element.href;\n        } else {\n          copyValue = element.textContent;\n        }\n      }\n\n      await navigator.clipboard.writeText(copyValue);\n\n      this.dispatchEvent(new CustomEvent('clipboard-copy:success', {\n        bubbles: true,\n        composed: true,\n        detail: { value: copyValue }\n      }));\n    } catch (error) {\n      this.dispatchEvent(new CustomEvent('clipboard-copy:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }\n  }\n\n  #getButton() {\n    if (!this.#buttonSlot) {\n      return null;\n    }\n\n    return this.#buttonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'button';\n    });\n  }\n\n  #onClick = evt => {\n    evt.preventDefault();\n\n    if (this.disabled) {\n      return;\n    }\n\n    this.dispatchEvent(new Event('clipboard-copy:click', {\n      bubbles: true,\n      composed: true\n    }));\n\n    this.#copy();\n  };\n\n  #onSlotChange = evt => {\n    if (evt.target && evt.target.name === 'button') {\n      this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n      this.#buttonEl = this.#getButton();\n\n      if (this.#buttonEl) {\n        this.#buttonEl.addEventListener('click', this.#onClick);\n\n        if (this.#buttonEl.nodeName !== 'BUTTON' && !this.#buttonEl.hasAttribute('role')) {\n          this.#buttonEl.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  /**\n   * https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n   * This is to safe guard against cases where, for instance, a framework\n   * may have added the element to the page and set a value on one of its\n   * properties, but lazy loaded its definition. Without this guard, the\n   * upgraded element would miss that property and the instance property\n   * would prevent the class property setter from ever being called.\n   */\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static defineCustomElement(elementName = 'clipboard-copy') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, ClipboardCopy);\n    }\n  }\n}\n\nexport { ClipboardCopy };\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","import { ClipboardCopy } from './clipboard-copy.js';\n\nClipboardCopy.defineCustomElement();\n\nexport { ClipboardCopy };\n","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <style>:host { display: contents; }</style>\n  <slot></slot>\n`;\n\nclass ResizeObserverElement extends HTMLElement {\n  #slotEl;\n  #resizeObserver;\n  #observedElements;\n\n  constructor() {\n    super();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n\n    this.#slotEl = this.shadowRoot.querySelector('slot');\n    this.#resizeObserver = null;\n    this.#observedElements = [];\n  }\n\n  static get observedAttributes() {\n    return ['disabled'];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'disabled' && oldValue !== newValue) {\n      this.disabled ? this.#stopObserver() : this.#startObserver();\n    }\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('disabled');\n\n    if ('ResizeObserver' in window) {\n      this.#resizeObserver = new ResizeObserver(entries => {\n        this.dispatchEvent(new CustomEvent('resize-observer:resize', {\n          bubbles: true,\n          composed: true,\n          detail: { entries }\n        }));\n      });\n\n      if (!this.disabled) {\n        this.#startObserver();\n      }\n\n      this.#slotEl.addEventListener('slotchange', this.#onSlotChange);\n    }\n  }\n\n  disconnectedCallback() {\n    this.#stopObserver();\n    this.#slotEl.removeEventListener('slotchange', this.#onSlotChange);\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n  }\n\n  #startObserver() {\n    if (!this.#slotEl || !this.#resizeObserver) {\n      return;\n    }\n\n    this.#observedElements.forEach(el => this.#resizeObserver.unobserve(el));\n    this.#observedElements = [];\n\n    this.#slotEl.assignedElements().forEach(el => {\n      this.#resizeObserver.observe(el);\n      this.#observedElements.push(el);\n    });\n  }\n\n  #stopObserver() {\n    this.#resizeObserver && this.#resizeObserver.disconnect();\n  }\n\n  #onSlotChange = () => {\n    if (!this.disabled) {\n      this.#startObserver();\n    }\n  };\n\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static defineCustomElement(elementName = 'resize-observer') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, ResizeObserverElement);\n    }\n  }\n}\n\nexport { ResizeObserverElement };\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","import { ResizeObserverElement } from './resize-observer.js';\n\nResizeObserverElement.defineCustomElement();\n\nexport { ResizeObserverElement };\n","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <style>\n    :host {\n      all: initial;\n      display: block;\n      box-sizing: border-box;\n    }\n    :host *,\n    :host *::before,\n    :host *::after {\n      box-sizing: inherit;\n    }\n    :host video {\n      display: block;\n    }\n    :host #output:empty {\n      display: none;\n    }\n    [hidden] {\n      display: none !important;\n    }\n  </style>\n  <video part=\"video\" playsinline></video>\n  <canvas hidden></canvas>\n  <div part=\"actions-container\">\n    <slot name=\"capture-button\">\n      <button part=\"capture-button\" type=\"button\"><slot name=\"capture-button-content\">Capture photo</slot></button>\n    </slot>\n    <slot name=\"facing-mode-button\"><button part=\"facing-mode-button\" type=\"button\"><slot name=\"facing-mode-button-content\">Toggle facing mode</slot></button></slot>\n  </div>\n  <div part=\"output-container\" id=\"output\"></div>\n`;\n\nconst clamp = (value, lower, upper) => {\n  if (Number.isNaN(lower)) {\n    lower = 0;\n  }\n\n  if (Number.isNaN(upper)) {\n    upper = 0;\n  }\n\n  return Math.min(Math.max(value, Math.min(lower, upper)), Math.max(lower, upper));\n};\n\nclass CapturePhoto extends HTMLElement {\n  #connected;\n  #supportedConstraints;\n  #stream;\n  #canvasElement;\n  #outputElement;\n  #videoElement;\n  #captureButtonSlot;\n  #captureButton;\n  #facingModeButtonSlot;\n  #facingModeButton;\n\n  constructor() {\n    super();\n\n    this.#connected = false;\n    this.#supportedConstraints = CapturePhoto.isSupported() ? navigator.mediaDevices.getSupportedConstraints() : {};\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('noImage');\n    this.#upgradeProperty('facingMode');\n    this.#upgradeProperty('cameraResolution');\n    this.#upgradeProperty('zoom');\n\n    this.#connected = true;\n    this.#canvasElement = this.shadowRoot.querySelector('canvas');\n    this.#outputElement = this.shadowRoot.getElementById('output');\n    this.#videoElement = this.shadowRoot.querySelector('video');\n    this.#videoElement && this.#videoElement.addEventListener('loadedmetadata', this.#onVideoLoadedMetaData);\n    this.#captureButtonSlot = this.shadowRoot.querySelector('slot[name=\"capture-button\"]');\n    this.#captureButtonSlot && this.#captureButtonSlot.addEventListener('slotchange', this.#onCaptureButtonSlotChange);\n    this.#captureButton = this.#getCaptureButton();\n    this.#captureButton && this.#captureButton.addEventListener('click', this.#onCapturePhotoButtonClick);\n    this.#facingModeButtonSlot = this.shadowRoot.querySelector('slot[name=\"facing-mode-button\"]');\n    this.#facingModeButtonSlot && this.#facingModeButtonSlot.addEventListener('slotchange', this.#onFacingModeButtonSlotChange);\n    this.#facingModeButton = this.#getFacingModeButton();\n\n    if (this.#facingModeButton) {\n      if (this.#supportedConstraints.facingMode) {\n        this.#facingModeButton.addEventListener('click', this.#onFacingModeButtonClick);\n      } else {\n        this.#facingModeButton.hidden = true;\n      }\n    }\n\n    if (!CapturePhoto.isSupported()) {\n      return this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          error: {\n            name: 'NotSupportedError',\n            message: 'Not supported'\n          }\n        }\n      }));\n    }\n\n    this.#requestGetUserMedia();\n  }\n\n  disconnectedCallback() {\n    this.#stopVideoStreaming();\n    this.#facingModeButton && this.#facingModeButton.removeEventListener('click', this.#onFacingModeButtonClick);\n    this.#captureButton && this.#captureButton.removeEventListener('click', this.#onCapturePhotoButtonClick);\n    this.#videoElement && this.#videoElement.removeEventListener('canplay', this.#onVideoLoadedMetaData);\n    this.#captureButtonSlot && this.#captureButtonSlot.removeEventListener('slotchange', this.#onCaptureButtonSlotChange);\n    this.#facingModeButtonSlot && this.#facingModeButtonSlot.removeEventListener('slotchange', this.#onFacingModeButtonSlotChange);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (!this.#connected) {\n      return;\n    }\n\n    if (name === 'no-image') {\n      this.#emptyOutputElement();\n    }\n\n    if (name === 'facing-mode' && this.#supportedConstraints.facingMode && oldValue !== newValue) {\n      this.#stopVideoStreaming();\n      this.#requestGetUserMedia();\n      this.dispatchEvent(new CustomEvent('capture-photo:facing-mode-change', {\n        bubbles: true,\n        composed: true,\n        detail: { facingMode: newValue }\n      }));\n    }\n\n    if (name === 'camera-resolution' && oldValue !== newValue) {\n      this.#stopVideoStreaming();\n      this.#requestGetUserMedia();\n      this.dispatchEvent(new CustomEvent('capture-photo:camera-resolution-change', {\n        bubbles: true,\n        composed: true,\n        detail: { cameraResolution: newValue }\n      }));\n    }\n\n    if (name === 'zoom' && oldValue !== newValue) {\n      this.#applyZoom(this.zoom);\n      this.dispatchEvent(new CustomEvent('capture-photo:zoom-change', {\n        bubbles: true,\n        composed: true,\n        detail: { zoom: this.zoom }\n      }));\n    }\n  }\n\n  static get observedAttributes() {\n    return ['no-image', 'facing-mode', 'camera-resolution', 'zoom'];\n  }\n\n  get noImage() {\n    return this.hasAttribute('no-image');\n  }\n\n  set noImage(value) {\n    if (value) {\n      this.setAttribute('no-image', '');\n    } else {\n      this.removeAttribute('no-image');\n    }\n  }\n\n  get facingMode() {\n    return this.getAttribute('facing-mode');\n  }\n\n  set facingMode(value) {\n    this.setAttribute('facing-mode', value);\n  }\n\n  get cameraResolution() {\n    return this.getAttribute('camera-resolution');\n  }\n\n  set cameraResolution(value) {\n    this.setAttribute('camera-resolution', value);\n  }\n\n  get zoom() {\n    return Number(this.getAttribute('zoom')) || null;\n  }\n\n  set zoom(value) {\n    const numValue = Number(value) || 0;\n    this.setAttribute('zoom', numValue > 0 ? Math.floor(numValue) : 0);\n  }\n\n  get loading() {\n    return this.hasAttribute('loading');\n  }\n\n  #stopVideoStreaming() {\n    if (!this.#videoElement || !this.#stream) {\n      return;\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n    track && track.stop();\n    this.#videoElement.srcObject = null;\n    this.#stream = null;\n  }\n\n  #requestGetUserMedia() {\n    if (!CapturePhoto.isSupported()) {\n      return;\n    }\n\n    this.setAttribute('loading', '');\n\n    const constraints = {\n      video: {\n        facingMode: {\n          ideal: this.facingMode || 'user'\n        }\n      },\n      audio: false\n    };\n\n    if (typeof this.cameraResolution === 'string') {\n      const [width, height] = this.cameraResolution.split('x');\n      constraints.video.width = width;\n      constraints.video.height = height;\n    }\n\n    navigator.mediaDevices.getUserMedia(constraints).then(stream => {\n      this.#videoElement.srcObject = stream;\n      this.#stream = stream;\n      this.#applyZoom(this.zoom);\n    }).catch(error => {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }).finally(() => {\n      this.removeAttribute('loading');\n    });\n  }\n\n  capture() {\n    if (this.loading) {\n      return;\n    }\n\n    try {\n      const ctx = this.#canvasElement.getContext('2d');\n      const width = this.#videoElement.videoWidth;\n      const height = this.#videoElement.videoHeight;\n      this.#canvasElement.width = width;\n      this.#canvasElement.height = height;\n      ctx.drawImage(this.#videoElement, 0, 0, width, height);\n      const dataURI = this.#canvasElement.toDataURL('image/png');\n\n      if (typeof dataURI === 'string' && dataURI.includes('data:image')) {\n        if (!this.noImage) {\n          const image = new Image();\n          image.src = dataURI;\n          image.width = width;\n          image.height = height;\n          image.part = 'output-image';\n          this.#emptyOutputElement();\n          this.#outputElement && this.#outputElement.appendChild(image);\n        }\n\n        this.dispatchEvent(new CustomEvent('capture-photo:success', {\n          bubbles: true,\n          composed: true,\n          detail: { dataURI, width, height }\n        }));\n      }\n    } catch (error) {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }\n  }\n\n  #onFacingModeButtonClick = evt => {\n    evt.preventDefault();\n\n    if (this.loading) {\n      return;\n    }\n\n    this.facingMode = this.facingMode === 'user' || !this.facingMode ? 'environment' : 'user';\n  };\n\n  #onCapturePhotoButtonClick = evt => {\n    evt.preventDefault();\n    this.capture();\n  };\n\n  #onVideoLoadedMetaData = evt => {\n    const video = evt.target;\n\n    video.play().then(() => {\n      this.dispatchEvent(new CustomEvent('capture-photo:video-play', {\n        bubbles: true,\n        composed: true,\n        detail: { video }\n      }));\n    }).catch(error => {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }).finally(() => {\n      this.removeAttribute('loading');\n    });\n  };\n\n  #emptyOutputElement() {\n    if (!this.#outputElement) {\n      return;\n    }\n\n    Array.from(this.#outputElement.childNodes).forEach(node => node.remove());\n  }\n\n  #applyZoom(zoom) {\n    if (!this.#stream || !zoom) {\n      return;\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n\n    if (typeof track.getCapabilities !== 'function' || typeof track.getSettings !== 'function') {\n      return;\n    }\n\n    const capabilities = track.getCapabilities();\n    const settings = track.getSettings();\n\n    if ('zoom' in settings) {\n      track.applyConstraints({\n        advanced: [{\n          zoom: clamp(Number(zoom), capabilities.zoom.min, capabilities.zoom.max)\n        }]\n      });\n    }\n  }\n\n  #onCaptureButtonSlotChange = evt => {\n    if (evt.target && evt.target.name === 'capture-button') {\n      this.#captureButton && this.#captureButton.removeEventListener('click', this.#onCapturePhotoButtonClick);\n      this.#captureButton = this.#getCaptureButton();\n\n      if (this.#captureButton) {\n        this.#captureButton.addEventListener('click', this.#onCapturePhotoButtonClick);\n\n        if (this.#captureButton.nodeName !== 'BUTTON' && !this.#captureButton.hasAttribute('role')) {\n          this.#captureButton.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  #onFacingModeButtonSlotChange = evt => {\n    if (evt.target && evt.target.name === 'facing-mode-button') {\n      this.#facingModeButton && this.#facingModeButton.removeEventListener('click', this.#onFacingModeButtonClick);\n      this.#facingModeButton = this.#getFacingModeButton();\n\n      if (this.#facingModeButton) {\n        this.#facingModeButton.addEventListener('click', this.#onFacingModeButtonClick);\n\n        if (this.#facingModeButton.nodeName !== 'BUTTON' && !this.#facingModeButton.hasAttribute('role')) {\n          this.#facingModeButton.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  #getFacingModeButton() {\n    if (!this.#facingModeButtonSlot) {\n      return null;\n    }\n\n    return this.#facingModeButtonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'facing-mode-button';\n    });\n  }\n\n  #getCaptureButton() {\n    if (!this.#captureButtonSlot) {\n      return null;\n    }\n\n    return this.#captureButtonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'capture-button';\n    });\n  }\n\n  /**\n   * https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n   * This is to safe guard against cases where, for instance, a framework may have added the element to the page and\n   * set a value on one of its properties, but lazy loaded its definition. Without this guard, the upgraded element would\n   * miss that property and the instance property would prevent the class property setter from ever being called.\n   */\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static isSupported() {\n    return Boolean(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\n  }\n\n  static defineCustomElement(elementName = 'capture-photo') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, CapturePhoto);\n    }\n  }\n}\n\nexport { CapturePhoto };\n","/*!\n * @georapbox/web-storage\n * WebStorage is a JavaScript library that improves the way you work with localStorage or sessionStorage using a simple, localStorage-like API. It allows developers to store many types of data instead of just strings.\n *\n * @version v2.1.0\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/web-storage#readme\n * @repository https://github.com/georapbox/web-storage.git\n * @license MIT\n */\nfunction e(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function i(e){return String.prototype.trim?e.trim():e.replace(/(^\\s*|\\s*$)/g,\"\")}function a(e,t){return 0===e.indexOf(t)?e.slice(t.length):e}function c(e){return null!=e&&(\"string\"==typeof e||\"[object String]\"===Object.prototype.toString.call(e))}function u(e){var t=Object.prototype.toString.call(e);return\"[object AsyncFunction]\"===t||\"[object Function]\"===t||\"[object GeneratorFunction]\"===t}function s(e,t){var r=e._driver;Object.keys(r).forEach((function(n){(function(e,t){return r=t,n=e._keyPrefix,r.substr(0,n.length)===n;var r,n})(e,n)&&t(n,r[n])}))}var f=function(){},l={getItem:f,setItem:f,removeItem:f};function v(e){try{var t=window[e],r=\"__web-storage__test\";t.setItem(r,\"test\"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}function y(e){return v(e)?window[e]:(console&&console.warn&&console.warn(\"WebStorage failed to create sync storage; falling back to noop storage.\"),l)}var g=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,r);var n={driver:\"localStorage\",keyPrefix:\"web-storage/\"};if(\"localStorage\"!==(t=o(o({},n),t)).driver&&\"sessionStorage\"!==t.driver)throw new Error('The \"driver\" option must be one of \"localStorage\" or \"sessionStorage\".');if(!c(t.keyPrefix))throw new TypeError('The \"keyPrefix\" option must be a string.');this._storageType=t.driver,this._driver=y(t.driver),this._keyPrefix=i(t.keyPrefix)}var n,f,l;return n=r,(f=[{key:\"getItem\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!c(e))throw new TypeError(\"Failed to execute 'getItem' on 'Storage': The first argument must be a string.\");var r=null;try{var n=this._driver.getItem(this._keyPrefix+e),o=JSON.parse(n);r=o}catch(e){t(e)}return r}},{key:\"setItem\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(!c(e))throw new TypeError(\"Failed to execute 'setItem' on 'Storage': The first argument must be a string.\");e=this._keyPrefix+e,t=null==t||u(t)?null:t;try{this._driver.setItem(e,JSON.stringify(t))}catch(e){r(e)}}},{key:\"removeItem\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!c(e))throw new TypeError(\"Failed to execute 'removeItem' on 'Storage': The first argument must be a string.\");try{this._driver.removeItem(this._keyPrefix+e)}catch(e){t(e)}}},{key:\"clear\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};try{s(this,this._driver.removeItem.bind(this._driver))}catch(t){e(t)}}},{key:\"keys\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},r=[];try{return s(this,(function(t){return r.push(a(t,e._keyPrefix))})),r}catch(e){t(e)}}},{key:\"length\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};try{return this.keys().length}catch(t){e(t)}}},{key:\"iterate\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!u(e))throw new TypeError(\"Failed to iterate on 'Storage': 'iteratorCallback' must be a function.\");try{s(this,(function(r,n){var o=a(r,t._keyPrefix),i=JSON.parse(n);e.call(t,i,o)}))}catch(e){r(e)}}}])&&t(n.prototype,f),l&&t(n,l),r}();g.isAvailable=function(e){return v(e)},g.createInstance=function(e){return new g(e)};export default g;\n","import WebStorage from '@georapbox/web-storage/dist/WebStorage.esm.min.js';\n\nexport const storage = WebStorage.createInstance({\n  driver: 'localStorage',\n  keyPrefix: 'barcode-scanner/'\n});\n\nexport const SETTINGS_STORAGE_KEY = 'settings';\n","/**\n * Creates a function that accepts up to `n` arguments, ignoring any additional arguments.\n *\n * @param {function} fn The function to cap arguments for.\n * @param {Number} n The arity cap.\n * @throws {TypeError} Throws if `fn` is not function.\n * @throws {TypeError} Throws if `n` is not number.\n * @returns {function} Returns the new capped function.\n * @example\n *\n * const array = ['1', '2', '3'];\n *\n * const toInteger = ary(parseInt, 1);\n *\n * array.map(toInteger); // => [1, 2, 3]\n */\nexport const ary = (fn, n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Expected a function for first argument');\n  }\n\n  if (typeof n !== 'number') {\n    throw new TypeError('Expected a number for second argument');\n  }\n\n  return (...args) => {\n    const arityCap = n > 0 ? n : 0;\n\n    return fn(...args.slice(0, arityCap));\n  };\n};\n","const toastContainer = document.getElementById('toastContainer');\n\nconst hideAlert = evt => {\n  const target = evt.currentTarget;\n  target.removeEventListener('click', hideAlert);\n  toastContainer.removeChild(target.parentNode);\n};\n\nexport const toastAlert = (message = '', type = 'info') => {\n  const types = ['info', 'warning', 'danger'];\n\n  if (!types.includes(type)) {\n    type = 'info';\n  }\n\n  const template = /* html */`\n    ${message}\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  `;\n\n  const div = document.createElement('div');\n  div.className = `alert alert-${type} alert-dismissible text-break`;\n  div.innerHTML = template;\n  div.querySelector('button').addEventListener('click', hideAlert);\n  toastContainer.appendChild(div);\n  setTimeout(() => div.classList.add('show'), 100);\n};\n","import '@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.js';\nimport '@georapbox/resize-observer-element/dist/resize-observer-defined.js';\nimport { CapturePhoto } from '@georapbox/capture-photo-element/dist/capture-photo.js';\nimport { storage, SETTINGS_STORAGE_KEY } from './services/storage.js';\nimport { ary } from './utils/ary.js';\nimport { toastAlert } from './toast-alert.js';\n\n(async function () {\n  const ACCEPTED_MIME_TYPES = ['image/jpg', 'image/jpeg', 'image/png', 'image/apng', 'image/gif', 'image/webp', 'image/avif'];\n  const capturePhotoEl = document.querySelector('capture-photo');\n  const cameraResultsEl = document.getElementById('cameraResults');\n  const fileResultsEl = document.getElementById('fileResults');\n  const scanInstructionsEl = document.getElementById('scanInstructions');\n  const scanBtn = document.getElementById('scanBtn');\n  const scanMethodSelect = document.getElementById('scanMethod');\n  const fileInput = document.getElementById('fileInput');\n  const dropzoneEl = document.getElementById('dropzone');\n  const cameraViewEl = document.getElementById('cameraView');\n  const fileViewEl = document.getElementById('fileView');\n  const resizeObserverEl = document.querySelector('resize-observer');\n  const scanFrameEl = document.getElementById('scanFrame');\n  const settingsBtn = document.getElementById('settingsBtn');\n  const settingsDialog = document.getElementById('settingsDialog');\n  const settingsForm = document.forms['settings-form'];\n  let shouldRepeatScan = true;\n  let rafId;\n\n  if (!('BarcodeDetector' in window)) {\n    try {\n      window.BarcodeDetector = (await import('barcode-detector')).default;\n    } catch (err) {\n      cameraViewEl.hidden = true;\n      fileViewEl.hidden = true;\n      scanMethodSelect.hidden = true;\n      settingsBtn.hidden = true;\n      return toastAlert('BarcodeDetector API is not supported by your browser.', 'danger');\n    }\n  }\n\n  const beep = (() => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext || window.audioContext);\n\n    if (!audioCtx) {\n      return;\n    }\n\n    return (duration, frequency, volume, type, callback) => {\n      if (!storage.getItem(SETTINGS_STORAGE_KEY)?.beep) {\n        return;\n      }\n\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      if (volume) {\n        gainNode.gain.value = volume;\n      }\n\n      if (frequency) {\n        oscillator.frequency.value = frequency;\n      }\n\n      if (type) {\n        oscillator.type = type;\n      }\n\n      if (typeof callback === 'function') {\n        oscillator.onended = callback;\n      }\n\n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + ((duration || 500) / 1000));\n    };\n  })();\n\n  function vibrate(duration = 100) {\n    if (typeof window.navigator.vibrate !== 'function' || !storage.getItem(SETTINGS_STORAGE_KEY)?.vibrate) {\n      return;\n    }\n\n    try {\n      window.navigator.vibrate(duration);\n    } catch {\n      // Fail silently...\n    }\n  }\n\n  function resizeScanFrame(videoEl) {\n    if (!videoEl) {\n      return;\n    }\n\n    const rect = videoEl.getBoundingClientRect();\n\n    scanFrameEl.style.cssText = `width: ${rect.width}px; height: ${rect.height}px`;\n  }\n\n  capturePhotoEl.addEventListener('capture-photo:video-play', evt => {\n    scanFrameEl.hidden = false;\n    resizeScanFrame(evt.detail.video);\n    scan();\n  }, {\n    once: true\n  });\n\n  CapturePhoto.defineCustomElement();\n\n  fileInput.accept = ACCEPTED_MIME_TYPES.join(',');\n\n  const capturePhotoVideoEl = capturePhotoEl.shadowRoot.querySelector('video');\n\n  const barcodeDetector = new window.BarcodeDetector({\n    formats: await window.BarcodeDetector.getSupportedFormats()\n  });\n\n  Object.entries(storage.getItem(SETTINGS_STORAGE_KEY) || {}).forEach(([key, value]) => {\n    const settingInput = settingsForm.querySelector(`[name=\"${key}\"]`);\n    if (settingInput) {\n      settingInput.checked = value;\n    }\n  });\n\n  function emptyResults(el) {\n    el.querySelectorAll('.results__item').forEach(el => el.remove());\n  }\n\n  function createResult(value, resultEl) {\n    if (!value) {\n      return;\n    }\n\n    let el;\n\n    try {\n      new URL(value);\n      el = document.createElement('a');\n      el.href = value;\n      el.setAttribute('target', '_blank');\n      el.setAttribute('rel', 'noreferrer noopener');\n\n      if (storage.getItem(SETTINGS_STORAGE_KEY)?.openWebPage) {\n        el.click();\n      }\n    } catch (err) {\n      el = document.createElement('span');\n    }\n\n    el.className = 'results__item';\n    el.textContent = value;\n\n    resultEl.appendChild(el);\n\n    const clipboarCopyEl = resultEl.querySelector('clipboard-copy');\n\n    if (clipboarCopyEl) {\n      clipboarCopyEl.disabled = value === '-';\n    }\n  }\n\n  function detectBarcode(source) {\n    return new Promise((resolve, reject) => {\n      barcodeDetector.detect(source).then(results => {\n        if (Array.isArray(results) && results.length > 0) {\n          resolve(results[0]);\n        } else {\n          reject({\n            message: 'Could not detect barcode from provided source.'\n          });\n        }\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  async function scan() {\n    scanInstructionsEl.hidden = false;\n\n    try {\n      const barcode = await detectBarcode(capturePhotoVideoEl);\n      window.cancelAnimationFrame(rafId);\n      emptyResults(cameraResultsEl);\n      createResult(barcode.rawValue, cameraResultsEl);\n      scanInstructionsEl.hidden = true;\n      scanBtn.hidden = false;\n      scanFrameEl.hidden = true;\n      beep(200, 860, 0.03, 'square');\n      vibrate();\n      return;\n    } catch (err) {\n      // Fail silently...\n    }\n\n    if (shouldRepeatScan) {\n      rafId = window.requestAnimationFrame(ary(scan, 0));\n    }\n  }\n\n  function handleFileSelect(file) {\n    const image = new Image();\n    const reader = new FileReader();\n\n    reader.addEventListener('load', evt => {\n      const data = evt.target.result;\n\n      image.addEventListener('load', async () => {\n        try {\n          const barcode = await detectBarcode(image);\n          emptyResults(fileResultsEl);\n          createResult(barcode.rawValue, fileResultsEl);\n          beep(200, 860, 0.03, 'square');\n          vibrate();\n        } catch (err) {\n          emptyResults(fileResultsEl);\n          createResult('-', fileResultsEl);\n        }\n      });\n\n      image.src = data;\n      dropzoneEl.querySelectorAll('img').forEach(el => el.remove());\n      dropzoneEl.prepend(image);\n    });\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  document.addEventListener('capture-photo:error', evt => {\n    capturePhotoEl.hidden = true;\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = false;\n    scanMethodSelect.hidden = true;\n\n    const error = evt.detail.error;\n\n    if (error.name === 'NotFoundError') {\n      return;\n    }\n\n    const errorMessage = error.name === 'NotAllowedError' ? 'Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.' : error.message;\n\n    toastAlert(errorMessage, 'danger');\n  }, {\n    once: true\n  });\n\n  scanBtn.addEventListener('click', () => {\n    scanBtn.hidden = true;\n    scanFrameEl.hidden = false;\n    emptyResults(cameraResultsEl);\n    scan();\n  });\n\n  scanMethodSelect.addEventListener('change', evt => {\n    const value = evt.target.value;\n\n    [cameraViewEl, fileViewEl].forEach(el => {\n      el.hidden = el.id !== value;\n    });\n\n    if (value === 'cameraView') {\n      shouldRepeatScan = true;\n\n      if (\n        !capturePhotoEl.hidden // Assumes that element is hidden because of error.\n        && !capturePhotoEl.loading\n        && !cameraResultsEl.querySelector('.results__item')\n      ) {\n        scan();\n      }\n    }\n\n    if (value === 'fileView') {\n      shouldRepeatScan = false;\n    }\n  });\n\n  fileInput.addEventListener('change', evt => {\n    const file = evt.target.files[0];\n    handleFileSelect(file);\n  });\n\n  dropzoneEl.addEventListener('dragover', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = 'copy';\n  });\n\n  dropzoneEl.addEventListener('drop', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    const fileList = evt.dataTransfer.files;\n    const [file] = fileList;\n\n    if (!file || !ACCEPTED_MIME_TYPES.includes(file.type)) {\n      return;\n    }\n\n    fileInput.value = fileInput.defaultValue;\n\n    handleFileSelect(file);\n  });\n\n  resizeObserverEl.addEventListener('resize-observer:resize', () => {\n    resizeScanFrame(capturePhotoEl.shadowRoot.querySelector('video'));\n  });\n\n  settingsBtn.addEventListener('click', () => {\n    settingsDialog.showModal();\n  });\n\n  settingsDialog.addEventListener('click', evt => {\n    if (evt.target === evt.currentTarget) {\n      settingsDialog.close();\n    }\n  });\n\n  settingsForm.addEventListener('change', evt => {\n    const settings = {};\n    const checkboxes = evt.currentTarget.querySelectorAll('input[type=\"checkbox\"]');\n\n    checkboxes.forEach(item => settings[item.name] = item.checked);\n    storage.setItem(SETTINGS_STORAGE_KEY, settings);\n  });\n}());\n"],"names":["$7664cb16aa99b643$var$t","$7664cb16aa99b643$var$i","$54e5dea46d3d830b$export$2e2bcd8739ae039","receiver","privateMap","action","has","TypeError","get","$0ebd1ade8fb3d51f$export$2e2bcd8739ae039","descriptor","call","value","$4a9af28d8c332738$export$2e2bcd8739ae039","$ce94785d052866a0$export$2e2bcd8739ae039","obj","privateCollection","$96b9e3133fa8e43f$export$2e2bcd8739ae039","set","$6108fbe778b62371$export$2e2bcd8739ae039","writable","$a5f62c39645bb2ba$export$2e2bcd8739ae039","$1b12450ac511053e$export$2e2bcd8739ae039","privateSet","fn","$39719070878026a5$export$2e2bcd8739ae039","add","$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","import","parcelRequire","resolve","then","register","JSON","parse","$7664cb16aa99b643$var$s","$a4c1285108bf4a9d$var$template","document","createElement","$a4c1285108bf4a9d$var$html","String","raw","innerHTML","$a4c1285108bf4a9d$var$_buttonSlot","$1c2cbcdf680d66d4$var$e","$1c2cbcdf680d66d4$var$i","WeakMap","$a4c1285108bf4a9d$var$_buttonEl","$a4c1285108bf4a9d$var$_copy","WeakSet","$a4c1285108bf4a9d$var$_getButton","$a4c1285108bf4a9d$var$_onClick","$a4c1285108bf4a9d$var$_onSlotChange","$a4c1285108bf4a9d$var$_upgradeProperty","$a4c1285108bf4a9d$export$ea3b71af1761ff40","HTMLElement","observedAttributes","connectedCallback","this","$a4c1285108bf4a9d$var$upgradeProperty","addEventListener","disconnectedCallback","removeEventListener","attributeChangedCallback","name","disabled","setAttribute","part","contains","toggle","hasAttribute","removeAttribute","getAttribute","from","static","elementName","window","customElements","define","constructor","super","evt","preventDefault","dispatchEvent","Event","bubbles","composed","$a4c1285108bf4a9d$var$copy","target","$a4c1285108bf4a9d$var$getButton","nodeName","shadowRoot","attachShadow","mode","appendChild","content","cloneNode","$7664cb16aa99b643$var$d","querySelector","async","copyValue","element","Element","prototype","getRootNode","ownerDocument","HTMLInputElement","HTMLTextAreaElement","HTMLAnchorElement","href","textContent","navigator","clipboard","writeText","CustomEvent","detail","error","assignedElements","flatten","find","el","prop","hasOwnProperty","defineCustomElement","$1c2cbcdf680d66d4$var$s","$3a4003478dee0771$var$template","$3a4003478dee0771$var$html","$3a4003478dee0771$var$_slotEl","$3a4003478dee0771$var$_resizeObserver","$3a4003478dee0771$var$_observedElements","$3a4003478dee0771$var$_startObserver","$3a4003478dee0771$var$_stopObserver","$3a4003478dee0771$var$_onSlotChange","$3a4003478dee0771$var$_upgradeProperty","$3a4003478dee0771$export$f0e45424cc896229","oldValue","newValue","$3a4003478dee0771$var$stopObserver","$3a4003478dee0771$var$startObserver","$3a4003478dee0771$var$upgradeProperty","ResizeObserver","entries","forEach","unobserve","observe","push","disconnect","$c290816263f90981$var$template","$c290816263f90981$var$html","$c290816263f90981$var$_connected","$c290816263f90981$var$_supportedConstraints","$c290816263f90981$var$_stream","$c290816263f90981$var$_canvasElement","$c290816263f90981$var$_outputElement","$c290816263f90981$var$_videoElement","$c290816263f90981$var$_captureButtonSlot","$c290816263f90981$var$_captureButton","$c290816263f90981$var$_facingModeButtonSlot","$c290816263f90981$var$_facingModeButton","$c290816263f90981$var$_stopVideoStreaming","$c290816263f90981$var$_requestGetUserMedia","$c290816263f90981$var$_onFacingModeButtonClick","$c290816263f90981$var$_onCapturePhotoButtonClick","$c290816263f90981$var$_onVideoLoadedMetaData","$c290816263f90981$var$_emptyOutputElement","$c290816263f90981$var$_applyZoom","$c290816263f90981$var$_onCaptureButtonSlotChange","$c290816263f90981$var$_onFacingModeButtonSlotChange","$c290816263f90981$var$_getFacingModeButton","$c290816263f90981$var$_getCaptureButton","$c290816263f90981$var$_upgradeProperty","$c290816263f90981$export$cc30a98fe3890794","$c290816263f90981$var$upgradeProperty","getElementById","$c290816263f90981$var$getCaptureButton","$c290816263f90981$var$getFacingModeButton","facingMode","hidden","isSupported","message","$c290816263f90981$var$requestGetUserMedia","$c290816263f90981$var$stopVideoStreaming","$c290816263f90981$var$emptyOutputElement","cameraResolution","$c290816263f90981$var$applyZoom","zoom","noImage","Number","numValue","Math","floor","loading","capture","ctx","getContext","width","videoWidth","height","videoHeight","drawImage","dataURI","toDataURL","includes","image","Image","src","Boolean","mediaDevices","getUserMedia","video","play","catch","finally","getSupportedConstraints","track","getVideoTracks","stop","srcObject","constraints","ideal","audio","split","stream","Array","childNodes","node","remove","getCapabilities","getSettings","capabilities","lower","upper","applyConstraints","advanced","min","max","isNaN","$24b1664de2ff0d38$var$e","e","t","$24b1664de2ff0d38$var$t","r","n","enumerable","configurable","defineProperty","key","$24b1664de2ff0d38$var$r","$24b1664de2ff0d38$var$n","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","apply","$24b1664de2ff0d38$var$o","arguments","o","getOwnPropertyDescriptors","defineProperties","$24b1664de2ff0d38$var$i","trim","replace","$24b1664de2ff0d38$var$a","indexOf","slice","$24b1664de2ff0d38$var$c","toString","$24b1664de2ff0d38$var$u","$24b1664de2ff0d38$var$s","_driver","_keyPrefix","substr","$24b1664de2ff0d38$var$f","$24b1664de2ff0d38$var$l","getItem","setItem","removeItem","$24b1664de2ff0d38$var$v","e1","$24b1664de2ff0d38$var$y","console","warn","$24b1664de2ff0d38$var$g","driver","keyPrefix","_storageType","f","stringify","bind","isAvailable","createInstance","$0eb43b201e9f90c7$export$ddcffe0146c8f882","$d12fad1f23d6cb00$export$24730179a5f99706","args","arityCap","$3969451ff60cb8d5$var$toastContainer","$3969451ff60cb8d5$var$hideAlert","currentTarget","removeChild","parentNode","$3969451ff60cb8d5$export$af04143326425dbd","type","template","div","className","setTimeout","classList","ACCEPTED_MIME_TYPES","capturePhotoEl","cameraResultsEl","fileResultsEl","scanInstructionsEl","scanBtn","scanMethodSelect","fileInput","dropzoneEl","cameraViewEl","fileViewEl","resizeObserverEl","scanFrameEl","settingsBtn","settingsDialog","settingsForm","forms","rafId","shouldRepeatScan","BarcodeDetector","default","err","beep","audioCtx","AudioContext","webkitAudioContext","audioContext","duration","frequency","volume","callback","oscillator","createOscillator","gainNode","createGain","connect","destination","gain","onended","start","currentTime","vibrate","resizeScanFrame","videoEl","rect","getBoundingClientRect","style","cssText","scan","once","$facf243fe9164505$export$cc30a98fe3890794","accept","join","capturePhotoVideoEl","barcodeDetector","formats","getSupportedFormats","emptyResults","querySelectorAll","createResult","resultEl","URL","openWebPage","click","clipboarCopyEl","detectBarcode","source","Promise","reject","detect","results","isArray","barcode","cancelAnimationFrame","rawValue","requestAnimationFrame","handleFileSelect","file","reader","FileReader","data","result","prepend","readAsDataURL","settingInput","checked","errorMessage","files","stopPropagation","dataTransfer","dropEffect","fileList","defaultValue","showModal","close","settings","item"],"version":3,"file":"index.990679c3.js.map"}
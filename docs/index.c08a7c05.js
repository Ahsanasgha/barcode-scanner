!function(){function e(e,t,i,s){Object.defineProperty(e,t,{get:i,set:s,enumerable:!0,configurable:!0})}var t,i,s,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},r=n.parcelRequirea202;function l(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function d(e,t){var i;return(i=l(e,t,"get")).get?i.get.call(e):i.value}function h(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,i){h(e,t),t.set(e,i)}function u(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,l(e,t,"set"),i),i}function p(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function m(e,t){h(e,t),t.add(e)}null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},n.parcelRequirea202=r),r.register("iE7OH",function(t,i){e(t.exports,"register",function(){return s},function(e){return s=e}),e(t.exports,"resolve",function(){return n},function(e){return n=e});var s,n,o={};s=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)o[t[i]]=e[t[i]]},n=function(e){var t=o[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),r.register("efHoK",function(e,t){e.exports=r("4WKyX")(r("aNJCr").getBundleURL("8tAhj")+r("iE7OH").resolve("6pZ6B")).then(()=>r("dAmQd"))}),r.register("4WKyX",function(e,t){var i=r("2prpb");e.exports=i(function(e){return new Promise(function(t,i){if([].concat(document.getElementsByTagName("script")).some(function(t){return t.src===e})){t();return}var s=document.createElement("link");s.href=e,s.rel="preload",s.as="script",document.head.appendChild(s);var n=document.createElement("script");n.async=!0,n.type="text/javascript",n.src=e,n.onerror=function(t){var s=TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));n.onerror=n.onload=null,n.remove(),i(s)},n.onload=function(){n.onerror=n.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(n)})})}),r.register("2prpb",function(e,t){var i={},s={},n={};e.exports=function(e,t){return function(o){var a=function(e){switch(e){case"preload":return s;case"prefetch":return n;default:return i}}(t);return a[o]?a[o]:a[o]=e.apply(null,arguments).catch(function(e){throw delete a[o],e})}}}),r.register("aNJCr",function(t,i){e(t.exports,"getBundleURL",function(){return s},function(e){return s=e});var s,n={};s=function(e){var t=n[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),n[e]=t),t}}),r("iE7OH").register(JSON.parse('{"8tAhj":"index.c08a7c05.js","6pZ6B":"barcode-detector.01faa0a3.js"}')),Object.defineProperty({},"WebShare",{get:function(){return x},set:t,enumerable:!0,configurable:!0});let b=document.createElement("template"),f=String.raw;b.innerHTML=f`
  <slot name="button"><button type="button" part="button"><slot name="button-content">Share</slot></button></slot>
`;var v=new WeakMap,g=new WeakMap,w=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakSet,k=new WeakSet;class x extends HTMLElement{static get observedAttributes(){return["disabled"]}connectedCallback(){p(this,k,C).call(this,"shareUrl"),p(this,k,C).call(this,"shareTitle"),p(this,k,C).call(this,"shareText"),p(this,k,C).call(this,"shareFiles"),p(this,k,C).call(this,"disabled"),d(this,v)&&d(this,v).addEventListener("slotchange",d(this,E)),d(this,g)&&d(this,g).addEventListener("click",d(this,y))}disconnectedCallback(){d(this,v)&&d(this,v).removeEventListener("slotchange",d(this,E)),d(this,g)&&d(this,g).removeEventListener("click",d(this,y))}attributeChangedCallback(e){"disabled"===e&&d(this,g)&&(d(this,g).disabled=this.disabled,d(this,g).setAttribute("aria-disabled",this.disabled),d(this,g).part&&d(this,g).part.contains("button")&&d(this,g).part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get shareUrl(){return this.getAttribute("share-url")}set shareUrl(e){this.setAttribute("share-url",e)}get shareTitle(){return this.getAttribute("share-title")}set shareTitle(e){this.setAttribute("share-title",e)}get shareText(){return this.getAttribute("share-text")}set shareText(e){this.setAttribute("share-text",e)}get shareFiles(){return d(this,w)}set shareFiles(e){u(this,w,e)}async share(){if(!this.disabled)try{let e={};this.shareUrl&&(e.url=this.shareUrl),this.shareTitle&&(e.title=this.shareTitle),this.shareText&&(e.text=this.shareText),Array.isArray(this.shareFiles)&&this.shareFiles.length>0&&navigator.canShare&&navigator.canShare({files:this.shareFiles})&&(e.files=this.shareFiles),await navigator.share(e),this.dispatchEvent(new CustomEvent("web-share:success",{bubbles:!0,composed:!0,detail:{shareData:e}}))}catch(e){if("AbortError"===e.name)return this.dispatchEvent(new Event("web-share:abort",{bubbles:!0,composed:!0}));this.dispatchEvent(new CustomEvent("web-share:error",{bubbles:!0,composed:!0,detail:{error:e}}))}}static defineCustomElement(e="web-share"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,x)}constructor(){super(),m(this,A),m(this,k),c(this,v,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:void 0}),c(this,w,{writable:!0,value:null}),c(this,y,{writable:!0,value:e=>{e.preventDefault(),this.disabled||(this.dispatchEvent(new Event("web-share:click",{bubbles:!0,composed:!0})),this.share())}}),c(this,E,{writable:!0,value:e=>{e.target&&"button"===e.target.name&&(d(this,g)&&d(this,g).removeEventListener("click",d(this,y)),u(this,g,p(this,A,z).call(this)),d(this,g)&&(d(this,g).addEventListener("click",d(this,y)),"BUTTON"===d(this,g).nodeName||d(this,g).hasAttribute("role")||d(this,g).setAttribute("role","button")))}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(b.content.cloneNode(!0))),u(this,v,this.shadowRoot.querySelector('slot[name="button"]')),u(this,g,p(this,A,z).call(this))}}function z(){return d(this,v)?d(this,v).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"button"===e.getAttribute("slot")):null}function C(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}x.defineCustomElement(),Object.defineProperty({},"FilesDropzone",{get:function(){return q},set:void 0,enumerable:!0,configurable:!0});let S=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jxl","image/jxl"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),T=[".DS_Store","Thumbs.db"],L=e=>{let{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){let i=t.split(".").pop().toLowerCase(),s=S.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e},M=(e,t)=>{let i=L(e);if("string"!=typeof i.path){let{webkitRelativePath:s}=e;Object.defineProperty(i,"path",{value:"string"==typeof t?t:s||e.name,writable:!1,configurable:!1,enumerable:!0})}return i},N=async e=>await new Promise((t,i)=>{e.readEntries(t,i)}),R=async e=>{let t=[],i=await N(e);for(;i.length>0;)t.push(...i),i=await N(e);return t},O=e=>new Promise((t,i)=>{e.file(i=>t(M(i,e.fullPath)),i)}),B=async e=>{let t=[],i=[];for(let t of e){if("file"!==t.kind)continue;let e=t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry();i.push(e)}for(;i.length>0;){let e=i.shift();if(e){if(e.isFile){let i=await O(e);-1===T.indexOf(i.name)&&t.push(i)}else e.isDirectory&&i.push(...await R(e.createReader()))}}return t},j=async e=>{let t=[];for(let i of e)-1===T.indexOf(i.name)&&t.push(M(i));return t},I=async e=>e.dataTransfer?e.dataTransfer.items?await B(e.dataTransfer.items):await j(e.dataTransfer.files):await j(e.target.files),F="files-dropzone",D="TOO_MANY_FILES",W=document.createElement("template");W.innerHTML=`
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    :host([hidden]),
    [hidden] {
      display: none !important;
    }

    :host {
      --dropzone-border-width: 2px;
      --dropzone-border-style: dashed;
      --dropzone-border-radius: 0.25rem;
      --dropzone-border-color: #6c757d;
      --dropzone-border-color-dragover: #0d6efd;
      --dropzone-background-color: #ffffff;
      --dropzone-background-color-dragover: #f4f4f5;
      --dropzone-body-color: #3f3f46;
      --dropzone-body-color-dragover: var(--dropzone-body-color);
      --dropzone-focus-shadow-rgb: 49,132,253;
      --transition-duration: 0.2s;

      display: block;
    }

    :host(:not([no-style])) .dropzone {
      border: var(--dropzone-border-width) var(--dropzone-border-style) var(--dropzone-border-color);
      border-radius: var(--dropzone-border-radius);
      padding: 3rem 1rem;
      overflow: hidden;
      background-color: var(--dropzone-background-color);
      color: var(--dropzone-body-color);
      text-align: center;
      cursor: pointer;
      transition: border var(--transition-duration) ease-in-out, background-color var(--transition-duration) ease-in-out, color var(--transition-duration) ease-in-out, box-shadow var(--transition-duration) ease-in-out;
    }

    :host(:not([no-style])[no-click]) .dropzone {
      cursor: default;
    }

    :host(:not([no-style])[disabled]) .dropzone {
      opacity: 0.8;
      cursor: not-allowed;
    }

    :host(:not([no-style]):not([disabled])) .dropzone--dragover {
      border-color: var(--dropzone-border-color-dragover);
      background-color: var(--dropzone-background-color-dragover);
      color: var(--dropzone-body-color-dragover);
    }

    :host(:not([no-style]):not([disabled])) .dropzone:focus-visible {
      outline: none;
      box-shadow: 0 0 0 0.25rem rgba(var(--dropzone-focus-shadow-rgb), 0.5);
    }
  </style>

  <input type="file" id="fileInput" hidden>

  <div part="dropzone" class="dropzone" id="dropzoneEl" tabindex="0" role="presentation">
    <slot>Drag 'n' drop files here, or click to select files</slot>
  </div>
`;class q extends HTMLElement{#e;#t;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(W.content.cloneNode(!0))),this.#e=this.shadowRoot.getElementById("fileInput"),this.#t=this.shadowRoot.getElementById("dropzoneEl")}static get observedAttributes(){return["accept","disabled","multiple","no-keyboard"]}attributeChangedCallback(e,t,i){"accept"===e&&t!==i&&this.#e&&(this.#e.accept=this.accept),"disabled"===e&&t!==i&&this.#e&&(this.#e.disabled=this.disabled,this.disabled?this.#t.removeAttribute("tabindex"):this.#t.setAttribute("tabindex","0")),"multiple"===e&&t!==i&&this.#e&&(this.#e.multiple=this.multiple),"no-keyboard"===e&&t!==i&&this.#t&&(this.noKeyboard?this.#t.removeAttribute("tabindex"):this.#t.setAttribute("tabindex","0"))}connectedCallback(){this.#i("accept"),this.#i("disabled"),this.#i("maxFiles"),this.#i("maxSize"),this.#i("minSize"),this.#i("multiple"),this.#i("noClick"),this.#i("noDrag"),this.#i("noKeyboard"),this.#i("autoFocus"),this.#i("noStyle"),this.#e.addEventListener("change",this.#s),this.#t.addEventListener("dragenter",this.#n),this.#t.addEventListener("dragover",this.#o),this.#t.addEventListener("dragleave",this.#a),this.#t.addEventListener("drop",this.#r),this.#t.addEventListener("click",this.#l),this.#t.addEventListener("keyup",this.#d),this.autoFocus&&this.#t.focus()}disconnectedCallback(){this.#e.removeEventListener("change",this.#s),this.#t.removeEventListener("dragenter",this.#n),this.#t.removeEventListener("dragover",this.#o),this.#t.removeEventListener("dragleave",this.#a),this.#t.removeEventListener("drop",this.#r),this.#t.removeEventListener("click",this.#l),this.#t.removeEventListener("keyup",this.#d)}get accept(){return this.getAttribute("accept")}set accept(e){this.setAttribute("accept",e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxFiles(){let e=Number(this.getAttribute("max-files"))||0;return e<=0?1/0:Math.floor(Math.abs(e))}set maxFiles(e){this.setAttribute("max-files",e)}get maxSize(){let e=this.getAttribute("max-size");if(null===e)return 1/0;let t=Number(e);return Number.isNaN(t)?1/0:t}set maxSize(e){this.setAttribute("max-size",e)}get minSize(){let e=this.getAttribute("min-size");if(null===e)return 0;let t=Number(e);return Number.isNaN(t)?0:t}set minSize(e){this.setAttribute("min-size",e)}get multiple(){return this.hasAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get noClick(){return this.hasAttribute("no-click")}set noClick(e){e?this.setAttribute("no-click",""):this.removeAttribute("no-click")}get noDrag(){return this.hasAttribute("no-drag")}set noDrag(e){e?this.setAttribute("no-drag",""):this.removeAttribute("no-drag")}get noKeyboard(){return this.hasAttribute("no-keyboard")}set noKeyboard(e){e?this.setAttribute("no-keyboard",""):this.removeAttribute("no-keyboard")}get autoFocus(){return this.hasAttribute("auto-focus")}set autoFocus(e){e?this.setAttribute("auto-focus",""):this.removeAttribute("auto-focus")}get noStyle(){return this.hasAttribute("no-style")}set noStyle(e){e?this.setAttribute("no-style",""):this.removeAttribute("no-style")}#s=async e=>{try{this.#h(await I(e))}catch(e){this.dispatchEvent(new CustomEvent(`${F}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}};#n=()=>{this.disabled||this.noDrag||this.dispatchEvent(new Event(`${F}-dragenter`,{bubbles:!0,composed:!0}))};#o=e=>{if(e.preventDefault(),this.disabled||this.noDrag){e.dataTransfer.dropEffect="none";return}e.dataTransfer.dropEffect="copy",this.#t.classList.add("dropzone--dragover"),this.#t.part.add("dropzone--dragover"),this.dispatchEvent(new Event(`${F}-dragover`,{bubbles:!0,composed:!0}))};#a=()=>{this.disabled||this.noDrag||(this.#t.classList.remove("dropzone--dragover"),this.#t.part.remove("dropzone--dragover"),this.dispatchEvent(new Event(`${F}-dragleave`,{bubbles:!0,composed:!0})))};#r=async e=>{if(!this.disabled&&!this.noDrag){e.preventDefault(),this.#t.classList.remove("dropzone--dragover"),this.#t.part.remove("dropzone--dragover");try{this.#h(await I(e))}catch(e){this.dispatchEvent(new CustomEvent(`${F}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}};#l=()=>{this.disabled||this.noClick||this.#e.click()};#d=e=>{this.disabled||this.noKeyboard||" "!==e.key&&"Enter"!==e.key||this.#e.click()};#h(e){if(!Array.isArray(e)||!e.length)return;let t=[],i=[],s=e.length;if(!this.multiple&&s>1)for(let t of e)i.push({file:t,errors:[{code:D,message:"Too many files selected. Only 1 file is allowed."}]});else if(this.multiple&&s>this.maxFiles)for(let t of e)i.push({file:t,errors:[{code:D,message:`Too many files selected. Only ${this.maxFiles} ${this.maxFiles>1?"files are":"file is"} allowed.`}]});else for(let s of e){let e=function(e,t=""){if(!t)return!0;let i=[...new Set(t.split(",").map(e=>e.trim()).filter(Boolean))],s=e.type,n=s.replace(/\/.*$/,"");for(let t of i)if("."===t.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(t.toLowerCase(),e.name.length-t.length))return!0}else if(/\/\*$/.test(t)){if(n===t.replace(/\/.*$/,""))return!0}else if(s===t)return!0;return!1}(s,this.accept),n=s.size>this.maxSize,o=s.size<this.minSize;if(!e||n||o){let t=[];e||t.push({code:"INVALID_MIME_TYPE",message:`File type "${s.type}" is not accepted.`}),n&&t.push({code:"FILE_TOO_LARGE",message:`File size ${s.size} exceeds the maximum size of ${this.maxSize}.`}),o&&t.push({code:"FILE_TOO_SMALL",message:`File size ${s.size} is smaller than the minimum size of ${this.minSize}.`}),i.push({file:s,errors:t})}else t.push(s)}this.dispatchEvent(new CustomEvent(`${F}-drop`,{bubbles:!0,composed:!0,detail:{acceptedFiles:t,rejectedFiles:i}})),t.length>0&&this.dispatchEvent(new CustomEvent(`${F}-drop-accepted`,{bubbles:!0,composed:!0,detail:{acceptedFiles:t}})),i.length>0&&this.dispatchEvent(new CustomEvent(`${F}-drop-rejected`,{bubbles:!0,composed:!0,detail:{rejectedFiles:i}})),this.#e.value=this.#e.defaultValue}openFileDialog(){this.disabled||this.#e.click()}#i(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e=F){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,q)}}function H(e={}){return Array.isArray((e={files:null,...e}).files)?"share"in navigator&&"canShare"in navigator&&navigator.canShare(e.files):"share"in navigator}function $(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function _(e,t){var i;return(i=$(e,t,"get")).get?i.get.call(e):i.value}function V(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function P(e,t,i){V(e,t),t.set(e,i)}function U(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,$(e,t,"set"),i),i}function K(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function Z(e,t){V(e,t),t.add(e)}q.defineCustomElement(),Object.defineProperty({},"ResizeObserverElement",{get:function(){return en},set:i,enumerable:!0,configurable:!0});let G=document.createElement("template"),J=String.raw;G.innerHTML=J`
  <style>:host { display: contents; }</style>
  <slot></slot>
`;var X=new WeakMap,Y=new WeakMap,Q=new WeakMap,ee=new WeakSet,et=new WeakSet,ei=new WeakMap,es=new WeakSet;class en extends HTMLElement{static get observedAttributes(){return["disabled"]}attributeChangedCallback(e,t,i){"disabled"===e&&t!==i&&(this.disabled?K(this,et,ea).call(this):K(this,ee,eo).call(this))}connectedCallback(){K(this,es,er).call(this,"disabled"),"ResizeObserver"in window&&(U(this,Y,new ResizeObserver(e=>{this.dispatchEvent(new CustomEvent("resize-observer:resize",{bubbles:!0,composed:!0,detail:{entries:e}}))})),this.disabled||K(this,ee,eo).call(this),_(this,X).addEventListener("slotchange",_(this,ei)))}disconnectedCallback(){K(this,et,ea).call(this),_(this,X).removeEventListener("slotchange",_(this,ei))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}static defineCustomElement(e="resize-observer"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,en)}constructor(){super(),Z(this,ee),Z(this,et),Z(this,es),P(this,X,{writable:!0,value:void 0}),P(this,Y,{writable:!0,value:void 0}),P(this,Q,{writable:!0,value:void 0}),P(this,ei,{writable:!0,value:()=>{this.disabled||K(this,ee,eo).call(this)}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(G.content.cloneNode(!0))),U(this,X,this.shadowRoot.querySelector("slot")),U(this,Y,null),U(this,Q,[])}}function eo(){_(this,X)&&_(this,Y)&&(_(this,Q).forEach(e=>_(this,Y).unobserve(e)),U(this,Q,[]),_(this,X).assignedElements().forEach(e=>{_(this,Y).observe(e),_(this,Q).push(e)}))}function ea(){_(this,Y)&&_(this,Y).disconnect()}function er(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}function el(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function ed(e,t){var i;return(i=el(e,t,"get")).get?i.get.call(e):i.value}function eh(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function ec(e,t,i){eh(e,t),t.set(e,i)}function eu(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,el(e,t,"set"),i),i}function ep(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function em(e,t){eh(e,t),t.add(e)}en.defineCustomElement();let eb=(e,t,i)=>(Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Math.min(Math.max(e,Math.min(t,i)),Math.max(t,i))),ef="capture-photo",ev=document.createElement("template");ev.innerHTML='\n  <style>\n    :host { all: initial; display: block; box-sizing: border-box; }\n    :host *, :host *::before, :host *::after { box-sizing: inherit; }\n    :host([hidden]), [hidden] { display: none; }\n    :host video { display: block; }\n    :host #output:empty { display: none; }\n  </style>\n  <video part="video" playsinline></video>\n  <canvas hidden></canvas>\n  <div part="actions-container">\n    <slot name="capture-button">\n      <button part="capture-button" type="button">\n        <slot name="capture-button-content">Capture photo</slot>\n      </button>\n    </slot>\n    <slot name="facing-mode-button" hidden>\n      <button part="facing-mode-button" type="button">\n        <slot name="facing-mode-button-content">Toggle facing mode</slot>\n      </button>\n    </slot>\n    <slot name="actions"></slot>\n  </div>\n  <slot></slot>\n  <div part="output-container" id="output"></div>\n';var eg=new WeakMap,ew=new WeakMap,ey=new WeakMap,eE=new WeakMap,eA=new WeakMap,ek=new WeakMap,ex=new WeakMap,ez=new WeakMap,eC=new WeakMap,eS=new WeakMap,eT=new WeakMap,eL=new WeakMap,eM=new WeakMap,eN=new WeakSet,eR=new WeakSet,eO=new WeakMap,eB=new WeakMap,ej=new WeakSet,eI=new WeakSet,eF=new WeakSet;class eD extends HTMLElement{static get observedAttributes(){return["no-image","facing-mode","camera-resolution","pan","tilt","zoom"]}static isSupported(){return!!navigator.mediaDevices?.getUserMedia}static defineCustomElement(e=ef){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,eD)}connectedCallback(){if(ep(this,eF,e_).call(this,"noImage"),ep(this,eF,e_).call(this,"facingMode"),ep(this,eF,e_).call(this,"cameraResolution"),ep(this,eF,e_).call(this,"pan"),ep(this,eF,e_).call(this,"tilt"),ep(this,eF,e_).call(this,"zoom"),ep(this,eF,e_).call(this,"calculateFileSize"),eu(this,eg,!0),eu(this,eE,this.shadowRoot.querySelector("canvas")),eu(this,eA,this.shadowRoot.getElementById("output")),eu(this,ek,this.shadowRoot.querySelector("video")),eu(this,ex,this.shadowRoot.querySelector('slot[name="capture-button"]')),eu(this,ez,ep(this,eI,e$).call(this)),eu(this,eC,this.shadowRoot.querySelector('slot[name="facing-mode-button"]')),eu(this,eS,ep(this,ej,eH).call(this)),ed(this,ek)?.addEventListener("loadedmetadata",ed(this,eM)),ed(this,ex)?.addEventListener("slotchange",ed(this,eO)),ed(this,ez)?.addEventListener("click",ed(this,eL)),ed(this,eC)?.addEventListener("slotchange",ed(this,eB)),ed(this,eS)?.addEventListener("click",ed(this,eT)),!eD.isSupported())return this.dispatchEvent(new CustomEvent(`${ef}:error`,{bubbles:!0,composed:!0,detail:{error:{name:"NotSupportedError",message:"Not supported"}}}));this.startVideoStream()}disconnectedCallback(){this.stopVideoStream(),ed(this,eS)?.removeEventListener("click",ed(this,eT)),ed(this,ez)?.removeEventListener("click",ed(this,eL)),ed(this,ek)?.removeEventListener("canplay",ed(this,eM)),ed(this,ex)?.removeEventListener("slotchange",ed(this,eO)),ed(this,eC)?.removeEventListener("slotchange",ed(this,eB))}attributeChangedCallback(e,t,i){if(!ed(this,eg))return;let s=this.getTrackCapabilities(),n=this.getTrackSettings();if("no-image"===e&&t!==i&&ep(this,eN,eW).call(this),"facing-mode"===e&&t!==i&&ed(this,ew)?.facingMode){let e=["user","environment"].includes(this.facingMode);n?.facingMode&&e&&(this.stopVideoStream(),this.startVideoStream())}if("camera-resolution"===e&&t!==i&&"string"==typeof this.cameraResolution){let[e,t]=this.cameraResolution.split("x").map(e=>Number(e)),i=e>=s?.width?.min&&e<=s?.width?.max,o=t>=s?.height?.min&&t<=s?.height?.max;n?.width&&n?.height&&i&&o&&(this.stopVideoStream(),this.startVideoStream())}if("pan"===e&&t!==i&&ed(this,ew)?.pan){let e=this.pan>=s?.pan?.min&&this.pan<=s?.pan?.max;n?.pan&&e&&ep(this,eR,eq).call(this,"pan",this.pan)}if("tilt"===e&&t!==i&&ed(this,ew)?.tilt){let e=this.tilt>=s?.tilt?.min&&this.tilt<=s?.tilt?.max;n?.tilt&&e&&ep(this,eR,eq).call(this,"tilt",this.tilt)}if("zoom"===e&&t!==i&&ed(this,ew)?.zoom){let e=this.zoom>=s?.zoom?.min&&this.zoom<=s?.zoom?.max;n?.zoom&&e&&ep(this,eR,eq).call(this,"zoom",this.zoom)}}get noImage(){return this.hasAttribute("no-image")}set noImage(e){e?this.setAttribute("no-image",""):this.removeAttribute("no-image")}get facingMode(){return this.getAttribute("facing-mode")}set facingMode(e){this.setAttribute("facing-mode",e)}get cameraResolution(){return this.getAttribute("camera-resolution")}set cameraResolution(e){this.setAttribute("camera-resolution",e)}get pan(){return Number(this.getAttribute("pan"))||null}set pan(e){this.setAttribute("pan",Number(e)||null)}get tilt(){return Number(this.getAttribute("tilt"))||null}set tilt(e){this.setAttribute("tilt",Number(e)||null)}get zoom(){return Number(this.getAttribute("zoom"))||null}set zoom(e){this.setAttribute("zoom",Number(e)||null)}get loading(){return this.hasAttribute("loading")}get calculateFileSize(){return this.hasAttribute("calculate-file-size")}set calculateFileSize(e){e?this.setAttribute("calculate-file-size",""):this.removeAttribute("calculate-file-size")}stopVideoStream(){if(!ed(this,ek)||!ed(this,ey))return;let[e]=ed(this,ey).getVideoTracks();e?.stop(),ed(this,ek).srcObject=null,eu(this,ey,null)}async startVideoStream(){if(!eD.isSupported()||ed(this,ey))return;this.setAttribute("loading","");let e={video:{facingMode:{ideal:this.facingMode||"user"},pan:!0,tilt:!0,zoom:!0},audio:!1};if("string"==typeof this.cameraResolution){let[t,i]=this.cameraResolution.split("x").map(e=>Number(e));e.video.width=t,e.video.height=i}try{eu(this,ey,await navigator.mediaDevices.getUserMedia(e)),ed(this,ek).srcObject=ed(this,ey),ep(this,eR,eq).call(this,"pan",this.pan),ep(this,eR,eq).call(this,"tilt",this.tilt),ep(this,eR,eq).call(this,"zoom",this.zoom);let t=this.getTrackSettings();t?.facingMode&&(ed(this,eC).hidden=!1)}catch(e){this.dispatchEvent(new CustomEvent(`${ef}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}finally{this.removeAttribute("loading")}}async capture(){if(!this.loading)try{let e=ed(this,eE).getContext("2d"),t=ed(this,ek).videoWidth,i=ed(this,ek).videoHeight;ed(this,eE).width=t,ed(this,eE).height=i,e.drawImage(ed(this,ek),0,0,t,i);let s=ed(this,eE).toDataURL("image/png");if("string"==typeof s&&s.includes("data:image")){if(!this.noImage){let e=new Image;e.src=s,e.width=t,e.height=i,e.part="output-image",ep(this,eN,eW).call(this),ed(this,eA)?.appendChild(e)}let e={dataURI:s,width:t,height:i};if(this.calculateFileSize)try{let t=await fetch(s),i=(await t.blob()).size;i&&(e.size=i)}catch(e){}this.dispatchEvent(new CustomEvent(`${ef}:success`,{bubbles:!0,composed:!0,detail:e}))}}catch(e){this.dispatchEvent(new CustomEvent(`${ef}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}getSupportedConstraints(){return eD.isSupported()&&navigator.mediaDevices.getSupportedConstraints()||{}}getTrackCapabilities(){if(!ed(this,ey))return{};let[e]=ed(this,ey).getVideoTracks();return e&&"function"==typeof e.getCapabilities&&e.getCapabilities()||{}}getTrackSettings(){if(!ed(this,ey))return{};let[e]=ed(this,ey).getVideoTracks();return e&&"function"==typeof e.getSettings&&e.getSettings()||{}}constructor(){super(),em(this,eN),em(this,eR),em(this,ej),em(this,eI),em(this,eF),ec(this,eg,{writable:!0,value:void 0}),ec(this,ew,{writable:!0,value:void 0}),ec(this,ey,{writable:!0,value:void 0}),ec(this,eE,{writable:!0,value:void 0}),ec(this,eA,{writable:!0,value:void 0}),ec(this,ek,{writable:!0,value:void 0}),ec(this,ex,{writable:!0,value:void 0}),ec(this,ez,{writable:!0,value:void 0}),ec(this,eC,{writable:!0,value:void 0}),ec(this,eS,{writable:!0,value:void 0}),ec(this,eT,{writable:!0,value:e=>{e.preventDefault(),this.loading||(this.facingMode="user"!==this.facingMode&&this.facingMode?"user":"environment")}}),ec(this,eL,{writable:!0,value:e=>{e.preventDefault(),this.capture()}}),ec(this,eM,{writable:!0,value:e=>{let t=e.target;t.play().then(()=>{this.dispatchEvent(new CustomEvent(`${ef}:video-play`,{bubbles:!0,composed:!0,detail:{video:t}}))}).catch(e=>{this.dispatchEvent(new CustomEvent(`${ef}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}).finally(()=>{this.removeAttribute("loading")})}}),ec(this,eO,{writable:!0,value:e=>{"capture-button"===e.target?.name&&(ed(this,ez)?.removeEventListener("click",ed(this,eL)),eu(this,ez,ep(this,eI,e$).call(this)),ed(this,ez)&&(ed(this,ez).addEventListener("click",ed(this,eL)),"BUTTON"===ed(this,ez).nodeName||ed(this,ez).hasAttribute("role")||ed(this,ez).setAttribute("role","button")))}}),ec(this,eB,{writable:!0,value:e=>{"facing-mode-button"===e.target?.name&&(ed(this,eS)?.removeEventListener("click",ed(this,eT)),eu(this,eS,ep(this,ej,eH).call(this)),ed(this,eS)&&(ed(this,eS).addEventListener("click",ed(this,eT)),"BUTTON"===ed(this,eS).nodeName||ed(this,eS).hasAttribute("role")||ed(this,eS).setAttribute("role","button")))}}),eu(this,eg,!1),eu(this,ew,this.getSupportedConstraints()),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ev.content.cloneNode(!0)))}}function eW(){ed(this,eA)&&Array.from(ed(this,eA).childNodes).forEach(e=>e.remove())}function eq(e,t){if(!ed(this,ey)||!e||!t)return;let[i]=ed(this,ey).getVideoTracks(),s=this.getTrackCapabilities(),n=this.getTrackSettings();n?.[e]&&i.applyConstraints({advanced:[{[e]:eb(Number(t),s?.[e]?.min,s?.[e]?.max)}]})}function eH(){return ed(this,eC)?ed(this,eC).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"facing-mode-button"===e.getAttribute("slot")):null}function e$(){return ed(this,ex)?ed(this,ex).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"capture-button"===e.getAttribute("slot")):null}function e_(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}function eV(e){return new Promise(function(t,i){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return i(e.error)}})}function eP(){if(!s){var e,t,i;e="keyval",(t=indexedDB.open("keyval-store")).onupgradeneeded=function(){return t.result.createObjectStore(e)},i=eV(t),s=function(t,s){return i.then(function(i){return s(i.transaction(e,t).objectStore(e))})}}return s}let eU="barcode-scanner/",eK="settings",eZ="history",eG=async e=>{try{return{value:await function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eP();return t("readonly",function(t){return eV(t.get(e))})}(e),error:void 0}}catch(e){return{value:void 0,error:e}}},eJ=async(e,t)=>{try{return await function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eP();return i("readwrite",function(i){return i.put(t,e),eV(i.transaction)})}(e,t),{error:void 0}}catch(e){return{error:e}}},eX=async()=>eG(eU+eK),eY=async e=>eJ(eU+eK,e),eQ=async()=>eG(eU+eZ),e0=async e=>eJ(eU+eZ,e),e1=document.getElementById("toastContainer"),e5=e=>{let t=e.currentTarget;t.removeEventListener("click",e5),e1.removeChild(t.parentNode)},e2=(e="",t="info")=>{["info","warning","danger"].includes(t)||(t="info");let i=`
    ${e}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  `,s=document.createElement("div");s.className=`alert alert-${t} alert-dismissible text-break`,s.innerHTML=i,s.querySelector("button").addEventListener("click",e5),e1.appendChild(s),setTimeout(()=>s.classList.add("show"),100)},e3="clipboard-copy",e6="success",e4="error",e8=document.createElement("template");e8.innerHTML=`
  <style>
    :host([hidden]),
    [hidden],
    ::slotted([hidden]) {
      display: none !important;
    }
  </style>

  <button type="button" part="button">
    <slot name="copy">Copy</slot>
    <slot name="success" hidden>Copied!</slot>
    <slot name="error" hidden>Error</slot>
  </button>
`;class e7 extends HTMLElement{#t=null;#e;#a;#i;#s;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e8.content.cloneNode(!0))),this.#e=this.shadowRoot.querySelector("button"),this.#a=this.shadowRoot.querySelector('slot[name="copy"]'),this.#i=this.shadowRoot.querySelector('slot[name="success"]'),this.#s=this.shadowRoot.querySelector('slot[name="error"]')}static get observedAttributes(){return["disabled"]}connectedCallback(){this.#n("value"),this.#n("from"),this.#n("disabled"),this.#e&&this.#e.addEventListener("click",this.#r)}disconnectedCallback(){this.#e&&this.#e.removeEventListener("click",this.#r)}attributeChangedCallback(e){"disabled"===e&&this.#e&&(this.#e.disabled=this.disabled,this.#e.setAttribute("aria-disabled",this.disabled),this.#e.part&&this.#e.part.contains("button")&&this.#e.part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get feedbackDuration(){return Number(this.getAttribute("feedback-duration"))||1e3}set feedbackDuration(e){this.setAttribute("feedback-duration",e)}get value(){return this.getAttribute("value")}set value(e){this.setAttribute("value",e)}get from(){return this.getAttribute("from")}set from(e){this.setAttribute("from",e)}async #d(){if(this.value||this.from)try{let e="";if(this.value)e=this.value;else if(this.from){let t=("getRootNode"in Element.prototype?this.#e.getRootNode({composed:!0}):this.#e.ownerDocument).querySelector(this.from);if(!t)return;e=t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t instanceof HTMLAnchorElement&&t.hasAttribute("href")?t.href:t.textContent}await navigator.clipboard.writeText(e),this.#o(e6),this.dispatchEvent(new CustomEvent(`${e3}-success`,{bubbles:!0,composed:!0,detail:{value:e}}))}catch(e){this.#o(e4),this.dispatchEvent(new CustomEvent(`${e3}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}#r=e=>{e.preventDefault(),this.disabled||this.#t||this.#d()};#o(e){this.#a.hidden=!0,this.#i.hidden=e!==e6,this.#s.hidden=e!==e4,this.#e&&(this.#e.part.remove("button--success"),this.#e.part.remove("button--error"),this.#e.part.add(`button--${e}`)),clearTimeout(this.#t),this.#t=setTimeout(()=>{this.#a.hidden=!1,this.#i.hidden=!0,this.#s.hidden=!0,this.#e&&this.#e.part.remove(`button--${e}`),this.#t=null},this.feedbackDuration)}#n(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e=e3){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,e7)}}class e9 extends e7{constructor(){super();let e=this.shadowRoot.querySelector('slot[name="copy"]'),t=this.shadowRoot.querySelector('slot[name="success"]');e.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
      </svg>
      <span class="text">Copy</span>
    `,t.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
      </svg>
      <span class="text">Copied!</span>
    `}static get observedAttributes(){return[...super.observedAttributes,"only-icon"]}attributeChangedCallback(e,t,i){if(super.attributeChangedCallback(e,t,i),"only-icon"===e&&t!==i){let e=this.shadowRoot.querySelector('slot[name="copy"]'),t=this.shadowRoot.querySelector('slot[name="success"]'),i=e.querySelector(".text"),s=t.querySelector(".text");i&&(i.hidden=this.onlyIcon),s&&(s.hidden=this.onlyIcon)}}get onlyIcon(){return this.hasAttribute("only-icon")}set onlyIcon(e){e?this.setAttribute("only-icon",""):this.removeAttribute("only-icon")}connectedCallback(){super.connectedCallback(),this.#c("onlyIcon"),this.hasAttribute("feedback-duration")||this.setAttribute("feedback-duration","1500")}disconnectedCallback(){super.disconnectedCallback()}#c(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e="rss-copy"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,e9)}}e9.defineCustomElement(),async function(){let e;let t="No barcode detected",i=document.querySelector("capture-photo"),s=document.getElementById("cameraResults"),n=document.getElementById("fileResults"),o=document.getElementById("scanInstructions"),a=document.getElementById("scanBtn"),l=document.getElementById("scanMethod"),d=document.getElementById("dropzone"),h=document.getElementById("cameraView"),c=document.getElementById("fileView"),u=document.querySelector("resize-observer"),p=document.getElementById("scanFrame"),m=document.getElementById("globalActions"),b=document.getElementById("historyBtn"),f=document.getElementById("historyDialog"),v=document.getElementById("historyList"),g=document.getElementById("deleteHistoryBtn"),w=document.getElementById("settingsBtn"),y=document.getElementById("settingsDialog"),E=document.forms["settings-form"],A=document.getElementById("supportedFormats"),k=!0;if(!("BarcodeDetector"in window))try{window.BarcodeDetector=(await r("efHoK")).default}catch(e){return h.hidden=!0,c.hidden=!0,l.hidden=!0,m.hidden=!0,e2("BarcodeDetector API is not supported by your browser.","danger")}H()||document.querySelectorAll("web-share").forEach(e=>{e.hidden=!0,e.disabled=!0});let{value:x=[]}=await eQ();M(x),i.addEventListener("capture-photo:video-play",e=>{p.hidden=!1,j(e.detail.video),W();let t=i.getTrackSettings(),s=i.getTrackCapabilities(),n=document.getElementById("zoomLevel");if(t?.zoom&&s?.zoom){let e=document.getElementById("zoomControls"),o=s?.zoom?.min||0,a=s?.zoom?.max||10,r=t?.zoom||1;e.hidden=!1,n.textContent=r,e.addEventListener("click",e=>{let t=e.target.closest('[data-action="zoom-in"]'),s=e.target.closest('[data-action="zoom-out"]');t&&r<a&&(r+=.5),s&&r>o&&(r-=.5),n.textContent=r,i.zoom=r})}},{once:!0}),i.addEventListener("capture-photo:error",e=>{h.hidden=!0,c.hidden=!1,l.hidden=!0;let t=e.detail.error;if("NotFoundError"===t.name)return;let i="NotAllowedError"===t.name?"Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.":t.message;e2(i,"danger")},{once:!0}),eD.defineCustomElement(),d.accept="image/jpg,image/jpeg,image/png,image/apng,image/gif,image/webp,image/avif";let z=i.shadowRoot.querySelector("video"),C=await window.BarcodeDetector.getSupportedFormats(),S=new window.BarcodeDetector({formats:C}),{value:T={}}=await eX();Object.entries(T).forEach(([e,t])=>{let i=E.querySelector(`[name="${e}"]`);i&&(i.checked=t)}),Array.isArray(C)&&C.length>0&&(A.textContent=`Supported formats: ${C.join(", ")}`);let L=(()=>{let e=new(window.AudioContext||window.webkitAudioContext||window.audioContext);if(e)return async(t,i,s,n,o)=>{let{value:a}=await eX();if(!a?.beep)return;let r=e.createOscillator(),l=e.createGain();r.connect(l),l.connect(e.destination),s&&(l.gain.value=s),i&&(r.frequency.value=i),n&&(r.type=n),"function"==typeof o&&(r.onended=o),r.start(e.currentTime),r.stop(e.currentTime+(t||500)/1e3)}})();function M(e){v.innerHTML="",Array.isArray(e)&&e.length?(g.style.display="block",e.forEach(e=>{let t;let i=document.createElement("li");i.setAttribute("data-value",e);try{new URL(e),(t=document.createElement("a")).href=e,t.setAttribute("target","_blank"),t.setAttribute("rel","noreferrer noopener")}catch(e){t=document.createElement("span")}t.textContent=e,t.setAttribute("title",e);let s=document.createElement("div");s.className="history-modal__actions";let n=document.createElement("rss-copy");n.title="Copy to clipboard",n.setAttribute("only-icon",""),n.setAttribute("value",e),s.appendChild(n);let o=document.createElement("button");o.type="button",o.className="history-modal__delete-action",o.title="Remove from history",o.setAttribute("data-action","delete"),o.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
            <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"/>
          </svg>
        `,s.appendChild(o),i.appendChild(t),i.appendChild(s),v.appendChild(i)})):(v.innerHTML="<li class=>There are no saved items in history.</li>",g.style.display="none")}async function N(e){let{value:t}=await eX();if(!e||!t?.addToHistory)return;let{value:i=[],error:s}=await eQ();if(!s&&!i.find(t=>t===e)){let t=[...i,e],{error:s}=await e0(t);s||M(t)}}async function R(e){if(!e)return;let{value:t=[],error:i}=await eQ();if(!i){let i=t.filter(t=>t!==e),{error:s}=await e0(i);s||M(i)}}async function O(){let{error:e}=await e0([]);e||M([])}async function B(e=100){let{value:t}=await eX();if("function"==typeof window.navigator.vibrate&&t?.vibrate)try{window.navigator.vibrate(e)}catch{}}function j(e){if(!e)return;let t=e.getBoundingClientRect();p.style.cssText=`width: ${t.width}px; height: ${t.height}px`}function I(e){e?.querySelector(".results__item")?.remove()}async function F(e,i){let s;if(!e||!i)return;I(i);try{let{value:t}=await eX();new URL(e),(s=document.createElement("a")).href=e,t?.openWebPageSameTab||(s.setAttribute("target","_blank"),s.setAttribute("rel","noreferrer noopener")),t?.openWebPage&&s.click()}catch(e){s=document.createElement("span")}s.className="results__item",s.classList.toggle("results__item--no-barcode",e===t),s.textContent=e,i.insertBefore(s,i.querySelector(".results__actions"));let n=i.querySelector("clipboard-copy"),o=i.querySelector("web-share"),a=e!==t;n&&(n.disabled=!a,n.hidden=!a),o&&H()&&(o.disabled=!a,o.hidden=!a,a?o.setAttribute("share-text",e):o.removeAttribute("share-text")),i.show()}function D(e){return new Promise((t,i)=>{S.detect(e).then(e=>{Array.isArray(e)&&e.length>0?t(e[0]):i({message:"Could not detect barcode from provided source."})}).catch(e=>{i(e)})})}async function W(){o.hidden=!1;try{let t={};t=await D(z),window.cancelAnimationFrame(e),I(s),F(t.rawValue,s),N(t.rawValue),o.hidden=!0,a.hidden=!1,p.hidden=!0,L(200,860,.03,"square"),B();return}catch(e){}k&&(e=window.requestAnimationFrame(()=>W()))}a.addEventListener("click",()=>{a.hidden=!0,p.hidden=!1,I(s),s.close(),W()}),l.addEventListener("change",e=>{let t=e.target.value;[h,c].forEach(e=>{e.hidden=e.id!==t}),"cameraView"!==t||(k=!0,h.hidden||i.loading||s.querySelector(".results__item")||W()),"fileView"===t&&(k=!1)}),d.addEventListener("files-dropzone-drop",e=>{!function(e){if(!e)return;let i=new Image,s=new FileReader;s.onload=s=>{let o=s.target.result;i.onload=async()=>{try{let e=await D(i);I(n),F(e.rawValue,n),N(e.rawValue),L(200,860,.03,"square"),B()}catch(e){I(n),F(t,n)}},i.src=o,d.replaceChildren();let a=document.createElement("div");a.className="dropzone-preview";let r=document.createElement("div");r.className="dropzone-preview__image-wrapper";let l=document.createElement("div");l.className="dropzone-preview__file-name",l.textContent=e.name,r.appendChild(i),a.appendChild(r),a.appendChild(l),d.prepend(a)},s.readAsDataURL(e)}(e.detail.acceptedFiles[0])}),u.addEventListener("resize-observer:resize",()=>{j(i.shadowRoot.querySelector("video"))}),w.addEventListener("click",()=>{y.showModal()}),b.addEventListener("click",()=>{f.showModal()}),f.addEventListener("click",e=>{e.target===e.currentTarget&&f.close()}),y.addEventListener("click",e=>{e.target===e.currentTarget&&y.close()}),E.addEventListener("change",e=>{let t={},i=e.currentTarget.querySelectorAll('input[type="checkbox"]');i.forEach(e=>t[e.name]=e.checked),eY(t)}),v.addEventListener("click",e=>{let t=e.target;t.closest('[data-action="delete"]')&&window.confirm("Delete item from history?")&&R(t.closest("li").dataset.value)}),g.addEventListener("click",()=>{window.confirm("Are you sure you want to empty history?")&&O()})}()}();
//# sourceMappingURL=index.c08a7c05.js.map

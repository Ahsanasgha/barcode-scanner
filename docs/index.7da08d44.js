!function(){function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e,i,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},s={},a=n.parcelRequirea202;function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function l(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,r(t,e,"get"))}function c(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(t,e,i){c(t,e),e.set(t,i)}function h(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,r(t,e,"set"),i),i}function u(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function p(t,e){c(t,e),e.add(t)}null==a&&((a=function(t){if(t in o)return o[t].exports;if(t in s){var e=s[t];delete s[t];var i={id:t,exports:{}};return o[t]=i,e.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){s[t]=e},n.parcelRequirea202=a),a.register("iE7OH",(function(e,i){var n,o;t(e.exports,"register",(function(){return n}),(function(t){return n=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var s={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)s[e[i]]=t[e[i]]},o=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a.register("1VDWK",(function(t,e){t.exports=a("4WKyX")(a("aNJCr").getBundleURL("8tAhj")+a("iE7OH").resolve("8yRFr")).then((()=>a("hGsRb")))})),a.register("4WKyX",(function(t,e){"use strict";var i=a("2prpb");t.exports=i((function(t){return new Promise((function(e,i){var n=document.getElementsByTagName("script");if([].concat(n).some((function(e){return e.src===t})))e();else{var o=document.createElement("link");o.href=t,o.rel="preload",o.as="script",document.head.appendChild(o);var s=document.createElement("script");s.async=!0,s.type="text/javascript",s.src=t,s.onerror=function(e){var n=new TypeError("Failed to fetch dynamically imported module: ".concat(t,". Error: ").concat(e.message));s.onerror=s.onload=null,s.remove(),i(n)},s.onload=function(){s.onerror=s.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(s)}}))}))})),a.register("2prpb",(function(t,e){"use strict";var i={},n={},o={};function s(t){switch(t){case"preload":return n;case"prefetch":return o;default:return i}}t.exports=function(t,e){return function(i){var n=s(e);return n[i]?n[i]:n[i]=t.apply(null,arguments).catch((function(t){throw delete n[i],t}))}}})),a.register("aNJCr",(function(e,i){var n;t(e.exports,"getBundleURL",(function(){return n}),(function(t){return n=t}));var o={};function s(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(t){var e=o[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(t)return s(t[2])}return"/"}(),o[t]=e),e}})),a("iE7OH").register(JSON.parse('{"8tAhj":"index.7da08d44.js","8yRFr":"barcode-detector.module.2b61079d.js"}')),e={},i=function(){return x},Object.defineProperty(e,"ClipboardCopy",{get:i,set:undefined,enumerable:!0,configurable:!0});const m=document.createElement("template"),b=String.raw;m.innerHTML=b`
  <slot name="button"><button type="button" part="button"><slot name="button-content">Copy</slot></button></slot>
`;var f,v,g=new WeakMap,w=new WeakMap,y=new WeakSet,E=new WeakSet,k=new WeakMap,A=new WeakMap,z=new WeakSet;class x extends HTMLElement{static get observedAttributes(){return["disabled"]}connectedCallback(){u(this,z,S).call(this,"value"),u(this,z,S).call(this,"from"),u(this,z,S).call(this,"disabled"),l(this,g)&&l(this,g).addEventListener("slotchange",l(this,A)),l(this,w)&&l(this,w).addEventListener("click",l(this,k))}disconnectedCallback(){l(this,g).removeEventListener("slotchange",l(this,A)),l(this,w)&&l(this,w).removeEventListener("click",l(this,k))}attributeChangedCallback(t){"disabled"===t&&l(this,w)&&(l(this,w).disabled=this.disabled,l(this,w).setAttribute("aria-disabled",this.disabled),l(this,w).part&&l(this,w).part.contains("button")&&l(this,w).part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get value(){return this.getAttribute("value")}set value(t){this.setAttribute("value",t)}get from(){return this.getAttribute("from")}set from(t){this.setAttribute("from",t)}static defineCustomElement(t="clipboard-copy"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,x)}constructor(){super(),p(this,y),p(this,E),p(this,z),d(this,g,{writable:!0,value:void 0}),d(this,w,{writable:!0,value:void 0}),d(this,k,{writable:!0,value:t=>{t.preventDefault(),this.disabled||(this.dispatchEvent(new Event("clipboard-copy:click",{bubbles:!0,composed:!0})),u(this,y,C).call(this))}}),d(this,A,{writable:!0,value:t=>{t.target&&"button"===t.target.name&&(l(this,w)&&l(this,w).removeEventListener("click",l(this,k)),h(this,w,u(this,E,T).call(this)),l(this,w)&&(l(this,w).addEventListener("click",l(this,k)),"BUTTON"===l(this,w).nodeName||l(this,w).hasAttribute("role")||l(this,w).setAttribute("role","button")))}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(m.content.cloneNode(!0))),h(this,g,this.shadowRoot.querySelector('slot[name="button"]')),h(this,w,u(this,E,T).call(this))}}async function C(){if(this.value||this.from)try{let t="";if(this.value)t=this.value;else if(this.from){const e=("getRootNode"in Element.prototype?l(this,w).getRootNode({composed:!0}):l(this,w).ownerDocument).querySelector(this.from);if(!e)return;t=e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e instanceof HTMLAnchorElement&&e.hasAttribute("href")?e.href:e.textContent}await navigator.clipboard.writeText(t),this.dispatchEvent(new CustomEvent("clipboard-copy:success",{bubbles:!0,composed:!0,detail:{value:t}}))}catch(t){this.dispatchEvent(new CustomEvent("clipboard-copy:error",{bubbles:!0,composed:!0,detail:{error:t}}))}}function T(){return l(this,g)?l(this,g).assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"button"===t.getAttribute("slot"))):null}function S(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function L(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function M(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,L(t,e,"get"))}function N(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(t,e,i){N(t,e),e.set(t,i)}function R(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,L(t,e,"set"),i),i}function B(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function O(t,e){N(t,e),e.add(t)}x.defineCustomElement(),f={},v=function(){return K},Object.defineProperty(f,"WebShare",{get:v,set:undefined,enumerable:!0,configurable:!0});const j=document.createElement("template"),F=String.raw;j.innerHTML=F`
  <slot name="button"><button type="button" part="button"><slot name="button-content">Share</slot></button></slot>
`;var I,D,_=new WeakMap,q=new WeakMap,H=new WeakMap,V=new WeakMap,P=new WeakMap,U=new WeakSet,$=new WeakSet;class K extends HTMLElement{static get observedAttributes(){return["disabled"]}connectedCallback(){B(this,$,G).call(this,"shareUrl"),B(this,$,G).call(this,"shareTitle"),B(this,$,G).call(this,"shareText"),B(this,$,G).call(this,"shareFiles"),B(this,$,G).call(this,"disabled"),M(this,_)&&M(this,_).addEventListener("slotchange",M(this,P)),M(this,q)&&M(this,q).addEventListener("click",M(this,V))}disconnectedCallback(){M(this,_)&&M(this,_).removeEventListener("slotchange",M(this,P)),M(this,q)&&M(this,q).removeEventListener("click",M(this,V))}attributeChangedCallback(t){"disabled"===t&&M(this,q)&&(M(this,q).disabled=this.disabled,M(this,q).setAttribute("aria-disabled",this.disabled),M(this,q).part&&M(this,q).part.contains("button")&&M(this,q).part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get shareUrl(){return this.getAttribute("share-url")}set shareUrl(t){this.setAttribute("share-url",t)}get shareTitle(){return this.getAttribute("share-title")}set shareTitle(t){this.setAttribute("share-title",t)}get shareText(){return this.getAttribute("share-text")}set shareText(t){this.setAttribute("share-text",t)}get shareFiles(){return M(this,H)}set shareFiles(t){R(this,H,t)}async share(){if(!this.disabled)try{const t={};this.shareUrl&&(t.url=this.shareUrl),this.shareTitle&&(t.title=this.shareTitle),this.shareText&&(t.text=this.shareText),Array.isArray(this.shareFiles)&&this.shareFiles.length>0&&navigator.canShare&&navigator.canShare({files:this.shareFiles})&&(t.files=this.shareFiles),await navigator.share(t),this.dispatchEvent(new CustomEvent("web-share:success",{bubbles:!0,composed:!0,detail:{shareData:t}}))}catch(t){if("AbortError"===t.name)return this.dispatchEvent(new Event("web-share:abort",{bubbles:!0,composed:!0}));this.dispatchEvent(new CustomEvent("web-share:error",{bubbles:!0,composed:!0,detail:{error:t}}))}}static defineCustomElement(t="web-share"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,K)}constructor(){super(),O(this,U),O(this,$),W(this,_,{writable:!0,value:void 0}),W(this,q,{writable:!0,value:void 0}),W(this,H,{writable:!0,value:null}),W(this,V,{writable:!0,value:t=>{t.preventDefault(),this.disabled||(this.dispatchEvent(new Event("web-share:click",{bubbles:!0,composed:!0})),this.share())}}),W(this,P,{writable:!0,value:t=>{t.target&&"button"===t.target.name&&(M(this,q)&&M(this,q).removeEventListener("click",M(this,V)),R(this,q,B(this,U,Z).call(this)),M(this,q)&&(M(this,q).addEventListener("click",M(this,V)),"BUTTON"===M(this,q).nodeName||M(this,q).hasAttribute("role")||M(this,q).setAttribute("role","button")))}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(j.content.cloneNode(!0))),R(this,_,this.shadowRoot.querySelector('slot[name="button"]')),R(this,q,B(this,U,Z).call(this))}}function Z(){return M(this,_)?M(this,_).assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"button"===t.getAttribute("slot"))):null}function G(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function J(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function X(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,J(t,e,"get"))}function Y(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Q(t,e,i){Y(t,e),e.set(t,i)}function tt(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,J(t,e,"set"),i),i}function et(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function it(t,e){Y(t,e),e.add(t)}function nt(t,e=""){if(!e)return!0;const i=[...new Set(e.split(",").map((t=>t.trim())).filter(Boolean))],n=t.type,o=n.replace(/\/.*$/,"");for(const e of i)if("."===e.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(e.toLowerCase(),t.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(o===e.replace(/\/.*$/,""))return!0}else if(n===e)return!0;return!1}K.defineCustomElement(),I={},D=function(){return Tt},Object.defineProperty(I,"FilesDropzone",{get:D,set:undefined,enumerable:!0,configurable:!0});const ot=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),st=[".DS_Store","Thumbs.db"],at=(t,e)=>{const i=(t=>{const{name:e}=t;if(e&&-1!==e.lastIndexOf(".")&&!t.type){const i=e.split(".").pop().toLowerCase(),n=ot.get(i);n&&Object.defineProperty(t,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return t})(t);if("string"!=typeof i.path){const{webkitRelativePath:n}=t;Object.defineProperty(i,"path",{value:"string"==typeof e?e:n||t.name,writable:!1,configurable:!1,enumerable:!0})}return i},rt=async t=>await new Promise(((e,i)=>{t.readEntries(e,i)})),lt=async t=>{const e=[];let i=await rt(t);for(;i.length>0;)e.push(...i),i=await rt(t);return e},ct=t=>new Promise(((e,i)=>{t.file((i=>e(at(i,t.fullPath))),i)})),dt=async t=>{const e=[];for(const i of t)-1===st.indexOf(i.name)&&e.push(at(i));return e},ht=async t=>t.dataTransfer?t.dataTransfer.items?await(async t=>{const e=[],i=[];for(const e of t){if("file"!==e.kind)continue;const t=e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry();i.push(t)}for(;i.length>0;){const t=i.shift();if(t)if(t.isFile){const i=await ct(t);-1===st.indexOf(i.name)&&e.push(i)}else t.isDirectory&&i.push(...await lt(t.createReader()))}return e})(t.dataTransfer.items):await dt(t.dataTransfer.files):await dt(t.target.files),ut="TOO_MANY_FILES",pt=document.createElement("template");pt.innerHTML='\n  <style>\n    *,\n    *::before,\n    *::after {\n      box-sizing: border-box;\n    }\n\n    :host([hidden]),\n    [hidden] {\n      display: none !important;\n    }\n\n    :host {\n      --dropzone-border-width: 2px;\n      --dropzone-border-style: dashed;\n      --dropzone-border-radius: 0.25rem;\n      --dropzone-border-color: #6c757d;\n      --dropzone-border-color-dragover: #0d6efd;\n      --dropzone-background-color: #ffffff;\n      --dropzone-background-color-dragover: #f4f4f5;\n      --dropzone-body-color: #3f3f46;\n      --dropzone-body-color-dragover: var(--dropzone-body-color);\n      --dropzone-focus-shadow-rgb: 49,132,253;\n      --transition-duration: 0.2s;\n\n      display: block;\n    }\n\n    :host(:not([no-style])) .dropzone {\n      border: var(--dropzone-border-width) var(--dropzone-border-style) var(--dropzone-border-color);\n      border-radius: var(--dropzone-border-radius);\n      padding: 3rem 1rem;\n      overflow: hidden;\n      background-color: var(--dropzone-background-color);\n      color: var(--dropzone-body-color);\n      text-align: center;\n      cursor: pointer;\n      transition: border var(--transition-duration) ease-in-out, background-color var(--transition-duration) ease-in-out, color var(--transition-duration) ease-in-out, box-shadow var(--transition-duration) ease-in-out;\n    }\n\n    :host(:not([no-style])[no-click]) .dropzone {\n      cursor: default;\n    }\n\n    :host(:not([no-style])[disabled]) .dropzone {\n      opacity: 0.8;\n      cursor: not-allowed;\n    }\n\n    :host(:not([no-style]):not([disabled])) .dropzone--dragover {\n      border-color: var(--dropzone-border-color-dragover);\n      background-color: var(--dropzone-background-color-dragover);\n      color: var(--dropzone-body-color-dragover);\n    }\n\n    :host(:not([no-style]):not([disabled])) .dropzone:focus-visible {\n      outline: none;\n      box-shadow: 0 0 0 0.25rem rgba(var(--dropzone-focus-shadow-rgb), 0.5);\n    }\n  </style>\n\n  <input type="file" id="fileInput" hidden>\n\n  <div part="dropzone" class="dropzone" id="dropzoneEl" tabindex="0" role="presentation">\n    <slot>Drag \'n\' drop files here, or click to select files</slot>\n  </div>\n';var mt,bt,ft=new WeakMap,vt=new WeakMap,gt=new WeakMap,wt=new WeakMap,yt=new WeakMap,Et=new WeakMap,kt=new WeakMap,At=new WeakMap,zt=new WeakMap,xt=new WeakSet,Ct=new WeakSet;class Tt extends HTMLElement{static get observedAttributes(){return["accept","disabled","multiple","no-keyboard"]}attributeChangedCallback(t,e,i){"accept"===t&&e!==i&&X(this,ft)&&(X(this,ft).accept=this.accept),"disabled"===t&&e!==i&&X(this,ft)&&(X(this,ft).disabled=this.disabled,this.disabled?X(this,vt).removeAttribute("tabindex"):X(this,vt).setAttribute("tabindex","0")),"multiple"===t&&e!==i&&X(this,ft)&&(X(this,ft).multiple=this.multiple),"no-keyboard"===t&&e!==i&&X(this,vt)&&(this.noKeyboard?X(this,vt).removeAttribute("tabindex"):X(this,vt).setAttribute("tabindex","0"))}connectedCallback(){et(this,Ct,Lt).call(this,"accept"),et(this,Ct,Lt).call(this,"disabled"),et(this,Ct,Lt).call(this,"maxFiles"),et(this,Ct,Lt).call(this,"maxSize"),et(this,Ct,Lt).call(this,"minSize"),et(this,Ct,Lt).call(this,"multiple"),et(this,Ct,Lt).call(this,"noClick"),et(this,Ct,Lt).call(this,"noDrag"),et(this,Ct,Lt).call(this,"noKeyboard"),et(this,Ct,Lt).call(this,"autoFocus"),et(this,Ct,Lt).call(this,"noStyle"),X(this,ft).addEventListener("change",X(this,gt)),X(this,vt).addEventListener("dragenter",X(this,wt)),X(this,vt).addEventListener("dragover",X(this,yt)),X(this,vt).addEventListener("dragleave",X(this,Et)),X(this,vt).addEventListener("drop",X(this,kt)),X(this,vt).addEventListener("click",X(this,At)),X(this,vt).addEventListener("keyup",X(this,zt)),this.autoFocus&&X(this,vt).focus()}disconnectedCallback(){X(this,ft).removeEventListener("change",X(this,gt)),X(this,vt).removeEventListener("dragenter",X(this,wt)),X(this,vt).removeEventListener("dragover",X(this,yt)),X(this,vt).removeEventListener("dragleave",X(this,Et)),X(this,vt).removeEventListener("drop",X(this,kt)),X(this,vt).removeEventListener("click",X(this,At)),X(this,vt).removeEventListener("keyup",X(this,zt))}get accept(){return this.getAttribute("accept")}set accept(t){this.setAttribute("accept",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxFiles(){const t=Number(this.getAttribute("max-files"))||0;return t<=0?1/0:Math.floor(Math.abs(t))}set maxFiles(t){this.setAttribute("max-files",t)}get maxSize(){const t=this.getAttribute("max-size");if(null===t)return 1/0;const e=Number(t);return Number.isNaN(e)?1/0:e}set maxSize(t){this.setAttribute("max-size",t)}get minSize(){const t=this.getAttribute("min-size");if(null===t)return 0;const e=Number(t);return Number.isNaN(e)?0:e}set minSize(t){this.setAttribute("min-size",t)}get multiple(){return this.hasAttribute("multiple")}set multiple(t){t?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get noClick(){return this.hasAttribute("no-click")}set noClick(t){t?this.setAttribute("no-click",""):this.removeAttribute("no-click")}get noDrag(){return this.hasAttribute("no-drag")}set noDrag(t){t?this.setAttribute("no-drag",""):this.removeAttribute("no-drag")}get noKeyboard(){return this.hasAttribute("no-keyboard")}set noKeyboard(t){t?this.setAttribute("no-keyboard",""):this.removeAttribute("no-keyboard")}get autoFocus(){return this.hasAttribute("auto-focus")}set autoFocus(t){t?this.setAttribute("auto-focus",""):this.removeAttribute("auto-focus")}get noStyle(){return this.hasAttribute("no-style")}set noStyle(t){t?this.setAttribute("no-style",""):this.removeAttribute("no-style")}openFileDialog(){this.disabled||X(this,ft).click()}static defineCustomElement(t="files-dropzone"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,Tt)}constructor(){super(),it(this,xt),it(this,Ct),Q(this,ft,{writable:!0,value:void 0}),Q(this,vt,{writable:!0,value:void 0}),Q(this,gt,{writable:!0,value:async t=>{try{et(this,xt,St).call(this,await ht(t))}catch(t){this.dispatchEvent(new CustomEvent("files-dropzone-error",{bubbles:!0,composed:!0,detail:{error:t}}))}}}),Q(this,wt,{writable:!0,value:()=>{this.disabled||this.noDrag||this.dispatchEvent(new Event("files-dropzone-dragenter",{bubbles:!0,composed:!0}))}}),Q(this,yt,{writable:!0,value:t=>{t.preventDefault(),this.disabled||this.noDrag?t.dataTransfer.dropEffect="none":(t.dataTransfer.dropEffect="copy",X(this,vt).classList.add("dropzone--dragover"),X(this,vt).part.add("dropzone--dragover"),this.dispatchEvent(new Event("files-dropzone-dragover",{bubbles:!0,composed:!0})))}}),Q(this,Et,{writable:!0,value:()=>{this.disabled||this.noDrag||(X(this,vt).classList.remove("dropzone--dragover"),X(this,vt).part.remove("dropzone--dragover"),this.dispatchEvent(new Event("files-dropzone-dragleave",{bubbles:!0,composed:!0})))}}),Q(this,kt,{writable:!0,value:async t=>{if(!this.disabled&&!this.noDrag){t.preventDefault(),X(this,vt).classList.remove("dropzone--dragover"),X(this,vt).part.remove("dropzone--dragover");try{et(this,xt,St).call(this,await ht(t))}catch(t){this.dispatchEvent(new CustomEvent("files-dropzone-error",{bubbles:!0,composed:!0,detail:{error:t}}))}}}}),Q(this,At,{writable:!0,value:()=>{this.disabled||this.noClick||X(this,ft).click()}}),Q(this,zt,{writable:!0,value:t=>{this.disabled||this.noKeyboard||" "!==t.key&&"Enter"!==t.key||X(this,ft).click()}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(pt.content.cloneNode(!0))),tt(this,ft,this.shadowRoot.getElementById("fileInput")),tt(this,vt,this.shadowRoot.getElementById("dropzoneEl"))}}function St(t){if(!Array.isArray(t)||!t.length)return;const e=[],i=[],n=t.length;if(!this.multiple&&n>1)for(const e of t)i.push({file:e,errors:[{code:ut,message:"Too many files selected. Only 1 file is allowed."}]});else if(this.multiple&&n>this.maxFiles)for(const e of t)i.push({file:e,errors:[{code:ut,message:`Too many files selected. Only ${this.maxFiles} ${this.maxFiles>1?"files are":"file is"} allowed.`}]});else for(const n of t){const t=nt(n,this.accept),o=n.size>this.maxSize,s=n.size<this.minSize;if(!t||o||s){const e=[];t||e.push({code:"INVALID_MIME_TYPE",message:`File type "${n.type}" is not accepted.`}),o&&e.push({code:"FILE_TOO_LARGE",message:`File size ${n.size} exceeds the maximum size of ${this.maxSize}.`}),s&&e.push({code:"FILE_TOO_SMALL",message:`File size ${n.size} is smaller than the minimum size of ${this.minSize}.`}),i.push({file:n,errors:e})}else e.push(n)}this.dispatchEvent(new CustomEvent("files-dropzone-drop",{bubbles:!0,composed:!0,detail:{acceptedFiles:e,rejectedFiles:i}})),e.length>0&&this.dispatchEvent(new CustomEvent("files-dropzone-drop-accepted",{bubbles:!0,composed:!0,detail:{acceptedFiles:e}})),i.length>0&&this.dispatchEvent(new CustomEvent("files-dropzone-drop-rejected",{bubbles:!0,composed:!0,detail:{rejectedFiles:i}})),X(this,ft).value=X(this,ft).defaultValue}function Lt(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function Mt(t={}){return t={files:null,...t},Array.isArray(t.files)?"share"in navigator&&"canShare"in navigator&&navigator.canShare(t.files):"share"in navigator}function Nt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function Wt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Nt(t,e,"get"))}function Rt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bt(t,e,i){Rt(t,e),e.set(t,i)}function Ot(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Nt(t,e,"set"),i),i}function jt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Ft(t,e){Rt(t,e),e.add(t)}Tt.defineCustomElement(),mt={},bt=function(){return Kt},Object.defineProperty(mt,"ResizeObserverElement",{get:bt,set:undefined,enumerable:!0,configurable:!0});const It=document.createElement("template"),Dt=String.raw;It.innerHTML=Dt`
  <style>:host { display: contents; }</style>
  <slot></slot>
`;var _t=new WeakMap,qt=new WeakMap,Ht=new WeakMap,Vt=new WeakSet,Pt=new WeakSet,Ut=new WeakMap,$t=new WeakSet;class Kt extends HTMLElement{static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,i){"disabled"===t&&e!==i&&(this.disabled?jt(this,Pt,Gt).call(this):jt(this,Vt,Zt).call(this))}connectedCallback(){jt(this,$t,Jt).call(this,"disabled"),"ResizeObserver"in window&&(Ot(this,qt,new ResizeObserver((t=>{this.dispatchEvent(new CustomEvent("resize-observer:resize",{bubbles:!0,composed:!0,detail:{entries:t}}))}))),this.disabled||jt(this,Vt,Zt).call(this),Wt(this,_t).addEventListener("slotchange",Wt(this,Ut)))}disconnectedCallback(){jt(this,Pt,Gt).call(this),Wt(this,_t).removeEventListener("slotchange",Wt(this,Ut))}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}static defineCustomElement(t="resize-observer"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,Kt)}constructor(){super(),Ft(this,Vt),Ft(this,Pt),Ft(this,$t),Bt(this,_t,{writable:!0,value:void 0}),Bt(this,qt,{writable:!0,value:void 0}),Bt(this,Ht,{writable:!0,value:void 0}),Bt(this,Ut,{writable:!0,value:()=>{this.disabled||jt(this,Vt,Zt).call(this)}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(It.content.cloneNode(!0))),Ot(this,_t,this.shadowRoot.querySelector("slot")),Ot(this,qt,null),Ot(this,Ht,[])}}function Zt(){Wt(this,_t)&&Wt(this,qt)&&(Wt(this,Ht).forEach((t=>Wt(this,qt).unobserve(t))),Ot(this,Ht,[]),Wt(this,_t).assignedElements().forEach((t=>{Wt(this,qt).observe(t),Wt(this,Ht).push(t)})))}function Gt(){Wt(this,qt)&&Wt(this,qt).disconnect()}function Jt(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function Xt(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function Yt(t,e){return i=t,(n=Xt(t,e,"get")).get?n.get.call(i):n.value;var i,n}function Qt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function te(t,e,i){Qt(t,e),e.set(t,i)}function ee(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,Xt(t,e,"set"),i),i}function ie(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function ne(t,e){Qt(t,e),e.add(t)}Kt.defineCustomElement();const oe=(t,e,i)=>(Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Math.min(Math.max(t,Math.min(e,i)),Math.max(e,i))),se=document.createElement("template");se.innerHTML='\n  <style>\n    :host { all: initial; display: block; box-sizing: border-box; }\n    :host *, :host *::before, :host *::after { box-sizing: inherit; }\n    :host([hidden]), [hidden] { display: none; }\n    :host video { display: block; }\n    :host #output:empty { display: none; }\n  </style>\n  <video part="video" playsinline></video>\n  <canvas hidden></canvas>\n  <div part="actions-container">\n    <slot name="capture-button">\n      <button part="capture-button" type="button">\n        <slot name="capture-button-content">Capture photo</slot>\n      </button>\n    </slot>\n    <slot name="facing-mode-button" hidden>\n      <button part="facing-mode-button" type="button">\n        <slot name="facing-mode-button-content">Toggle facing mode</slot>\n      </button>\n    </slot>\n    <slot name="actions"></slot>\n  </div>\n  <slot></slot>\n  <div part="output-container" id="output"></div>\n';var ae,re=new WeakMap,le=new WeakMap,ce=new WeakMap,de=new WeakMap,he=new WeakMap,ue=new WeakMap,pe=new WeakMap,me=new WeakMap,be=new WeakMap,fe=new WeakMap,ve=new WeakMap,ge=new WeakMap,we=new WeakMap,ye=new WeakSet,Ee=new WeakSet,ke=new WeakMap,Ae=new WeakMap,ze=new WeakSet,xe=new WeakSet,Ce=new WeakSet;class Te extends HTMLElement{static get observedAttributes(){return["no-image","facing-mode","camera-resolution","pan","tilt","zoom"]}static isSupported(){return Boolean(navigator.mediaDevices?.getUserMedia)}static defineCustomElement(t="capture-photo"){"undefined"==typeof window||window.customElements.get(t)||window.customElements.define(t,Te)}connectedCallback(){if(ie(this,Ce,We).call(this,"noImage"),ie(this,Ce,We).call(this,"facingMode"),ie(this,Ce,We).call(this,"cameraResolution"),ie(this,Ce,We).call(this,"pan"),ie(this,Ce,We).call(this,"tilt"),ie(this,Ce,We).call(this,"zoom"),ie(this,Ce,We).call(this,"calculateFileSize"),ee(this,re,!0),ee(this,de,this.shadowRoot.querySelector("canvas")),ee(this,he,this.shadowRoot.getElementById("output")),ee(this,ue,this.shadowRoot.querySelector("video")),ee(this,pe,this.shadowRoot.querySelector('slot[name="capture-button"]')),ee(this,me,ie(this,xe,Ne).call(this)),ee(this,be,this.shadowRoot.querySelector('slot[name="facing-mode-button"]')),ee(this,fe,ie(this,ze,Me).call(this)),Yt(this,ue)?.addEventListener("loadedmetadata",Yt(this,we)),Yt(this,pe)?.addEventListener("slotchange",Yt(this,ke)),Yt(this,me)?.addEventListener("click",Yt(this,ge)),Yt(this,be)?.addEventListener("slotchange",Yt(this,Ae)),Yt(this,fe)?.addEventListener("click",Yt(this,ve)),!Te.isSupported())return this.dispatchEvent(new CustomEvent("capture-photo:error",{bubbles:!0,composed:!0,detail:{error:{name:"NotSupportedError",message:"Not supported"}}}));this.startVideoStream()}disconnectedCallback(){this.stopVideoStream(),Yt(this,fe)?.removeEventListener("click",Yt(this,ve)),Yt(this,me)?.removeEventListener("click",Yt(this,ge)),Yt(this,ue)?.removeEventListener("canplay",Yt(this,we)),Yt(this,pe)?.removeEventListener("slotchange",Yt(this,ke)),Yt(this,be)?.removeEventListener("slotchange",Yt(this,Ae))}attributeChangedCallback(t,e,i){if(!Yt(this,re))return;const n=this.getTrackCapabilities(),o=this.getTrackSettings();if("no-image"===t&&e!==i&&ie(this,ye,Se).call(this),"facing-mode"===t&&e!==i&&Yt(this,le)?.facingMode){const t=["user","environment"].includes(this.facingMode);o?.facingMode&&t&&(this.stopVideoStream(),this.startVideoStream())}if("camera-resolution"===t&&e!==i&&"string"==typeof this.cameraResolution){const[t,e]=this.cameraResolution.split("x").map((t=>Number(t))),i=t>=n?.width?.min&&t<=n?.width?.max,s=e>=n?.height?.min&&e<=n?.height?.max;o?.width&&o?.height&&i&&s&&(this.stopVideoStream(),this.startVideoStream())}if("pan"===t&&e!==i&&Yt(this,le)?.pan){const t=this.pan>=n?.pan?.min&&this.pan<=n?.pan?.max;o?.pan&&t&&ie(this,Ee,Le).call(this,"pan",this.pan)}if("tilt"===t&&e!==i&&Yt(this,le)?.tilt){const t=this.tilt>=n?.tilt?.min&&this.tilt<=n?.tilt?.max;o?.tilt&&t&&ie(this,Ee,Le).call(this,"tilt",this.tilt)}if("zoom"===t&&e!==i&&Yt(this,le)?.zoom){const t=this.zoom>=n?.zoom?.min&&this.zoom<=n?.zoom?.max;o?.zoom&&t&&ie(this,Ee,Le).call(this,"zoom",this.zoom)}}get noImage(){return this.hasAttribute("no-image")}set noImage(t){t?this.setAttribute("no-image",""):this.removeAttribute("no-image")}get facingMode(){return this.getAttribute("facing-mode")}set facingMode(t){this.setAttribute("facing-mode",t)}get cameraResolution(){return this.getAttribute("camera-resolution")}set cameraResolution(t){this.setAttribute("camera-resolution",t)}get pan(){return Number(this.getAttribute("pan"))||null}set pan(t){this.setAttribute("pan",Number(t)||null)}get tilt(){return Number(this.getAttribute("tilt"))||null}set tilt(t){this.setAttribute("tilt",Number(t)||null)}get zoom(){return Number(this.getAttribute("zoom"))||null}set zoom(t){this.setAttribute("zoom",Number(t)||null)}get loading(){return this.hasAttribute("loading")}get calculateFileSize(){return this.hasAttribute("calculate-file-size")}set calculateFileSize(t){t?this.setAttribute("calculate-file-size",""):this.removeAttribute("calculate-file-size")}stopVideoStream(){if(!Yt(this,ue)||!Yt(this,ce))return;const[t]=Yt(this,ce).getVideoTracks();t?.stop(),Yt(this,ue).srcObject=null,ee(this,ce,null)}async startVideoStream(){if(!Te.isSupported()||Yt(this,ce))return;this.setAttribute("loading","");const t={video:{facingMode:{ideal:this.facingMode||"user"},pan:!0,tilt:!0,zoom:!0},audio:!1};if("string"==typeof this.cameraResolution){const[e,i]=this.cameraResolution.split("x").map((t=>Number(t)));t.video.width=e,t.video.height=i}try{ee(this,ce,await navigator.mediaDevices.getUserMedia(t)),Yt(this,ue).srcObject=Yt(this,ce),ie(this,Ee,Le).call(this,"pan",this.pan),ie(this,Ee,Le).call(this,"tilt",this.tilt),ie(this,Ee,Le).call(this,"zoom",this.zoom);this.getTrackSettings()?.facingMode&&(Yt(this,be).hidden=!1)}catch(t){this.dispatchEvent(new CustomEvent("capture-photo:error",{bubbles:!0,composed:!0,detail:{error:t}}))}finally{this.removeAttribute("loading")}}async capture(){if(!this.loading)try{const t=Yt(this,de).getContext("2d"),e=Yt(this,ue).videoWidth,i=Yt(this,ue).videoHeight;Yt(this,de).width=e,Yt(this,de).height=i,t.drawImage(Yt(this,ue),0,0,e,i);const n=Yt(this,de).toDataURL("image/png");if("string"==typeof n&&n.includes("data:image")){if(!this.noImage){const t=new Image;t.src=n,t.width=e,t.height=i,t.part="output-image",ie(this,ye,Se).call(this),Yt(this,he)?.appendChild(t)}const t={dataURI:n,width:e,height:i};if(this.calculateFileSize)try{const e=await fetch(n),i=(await e.blob()).size;i&&(t.size=i)}catch(t){}this.dispatchEvent(new CustomEvent("capture-photo:success",{bubbles:!0,composed:!0,detail:t}))}}catch(t){this.dispatchEvent(new CustomEvent("capture-photo:error",{bubbles:!0,composed:!0,detail:{error:t}}))}}getSupportedConstraints(){return Te.isSupported()&&navigator.mediaDevices.getSupportedConstraints()||{}}getTrackCapabilities(){if(!Yt(this,ce))return{};const[t]=Yt(this,ce).getVideoTracks();return t&&"function"==typeof t.getCapabilities&&t.getCapabilities()||{}}getTrackSettings(){if(!Yt(this,ce))return{};const[t]=Yt(this,ce).getVideoTracks();return t&&"function"==typeof t.getSettings&&t.getSettings()||{}}constructor(){super(),ne(this,ye),ne(this,Ee),ne(this,ze),ne(this,xe),ne(this,Ce),te(this,re,{writable:!0,value:void 0}),te(this,le,{writable:!0,value:void 0}),te(this,ce,{writable:!0,value:void 0}),te(this,de,{writable:!0,value:void 0}),te(this,he,{writable:!0,value:void 0}),te(this,ue,{writable:!0,value:void 0}),te(this,pe,{writable:!0,value:void 0}),te(this,me,{writable:!0,value:void 0}),te(this,be,{writable:!0,value:void 0}),te(this,fe,{writable:!0,value:void 0}),te(this,ve,{writable:!0,value:t=>{t.preventDefault(),this.loading||(this.facingMode="user"!==this.facingMode&&this.facingMode?"user":"environment")}}),te(this,ge,{writable:!0,value:t=>{t.preventDefault(),this.capture()}}),te(this,we,{writable:!0,value:t=>{const e=t.target;e.play().then((()=>{this.dispatchEvent(new CustomEvent("capture-photo:video-play",{bubbles:!0,composed:!0,detail:{video:e}}))})).catch((t=>{this.dispatchEvent(new CustomEvent("capture-photo:error",{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute("loading")}))}}),te(this,ke,{writable:!0,value:t=>{"capture-button"===t.target?.name&&(Yt(this,me)?.removeEventListener("click",Yt(this,ge)),ee(this,me,ie(this,xe,Ne).call(this)),Yt(this,me)&&(Yt(this,me).addEventListener("click",Yt(this,ge)),"BUTTON"===Yt(this,me).nodeName||Yt(this,me).hasAttribute("role")||Yt(this,me).setAttribute("role","button")))}}),te(this,Ae,{writable:!0,value:t=>{"facing-mode-button"===t.target?.name&&(Yt(this,fe)?.removeEventListener("click",Yt(this,ve)),ee(this,fe,ie(this,ze,Me).call(this)),Yt(this,fe)&&(Yt(this,fe).addEventListener("click",Yt(this,ve)),"BUTTON"===Yt(this,fe).nodeName||Yt(this,fe).hasAttribute("role")||Yt(this,fe).setAttribute("role","button")))}}),ee(this,re,!1),ee(this,le,this.getSupportedConstraints()),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(se.content.cloneNode(!0)))}}function Se(){Yt(this,he)&&Array.from(Yt(this,he).childNodes).forEach((t=>t.remove()))}function Le(t,e){if(!Yt(this,ce)||!t||!e)return;const[i]=Yt(this,ce).getVideoTracks(),n=this.getTrackCapabilities();this.getTrackSettings()?.[t]&&i.applyConstraints({advanced:[{[t]:oe(Number(e),n?.[t]?.min,n?.[t]?.max)}]})}function Me(){return Yt(this,be)?Yt(this,be).assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"facing-mode-button"===t.getAttribute("slot"))):null}function Ne(){return Yt(this,pe)?Yt(this,pe).assignedElements({flatten:!0}).find((t=>"BUTTON"===t.nodeName||"capture-button"===t.getAttribute("slot"))):null}function We(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}function Re(t){return new Promise((function(e,i){t.oncomplete=t.onsuccess=function(){return e(t.result)},t.onabort=t.onerror=function(){return i(t.error)}}))}function Be(){return ae||(ae=function(t,e){var i=indexedDB.open(t);i.onupgradeneeded=function(){return i.result.createObjectStore(e)};var n=Re(i);return function(t,i){return n.then((function(n){return i(n.transaction(e,t).objectStore(e))}))}}("keyval-store","keyval")),ae}function Oe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be();return e("readonly",(function(e){return Re(e.get(t))}))}function je(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be();return i("readwrite",(function(i){return i.put(e,t),Re(i.transaction)}))}const Fe=async t=>{try{return{value:await Oe(t),error:void 0}}catch(t){return{value:void 0,error:t}}},Ie=async(t,e)=>{try{return await je(t,e),{error:void 0}}catch(t){return{error:t}}},De=async()=>Fe("barcode-scanner/settings"),_e=async t=>Ie("barcode-scanner/settings",t),qe=async()=>Fe("barcode-scanner/history"),He=async t=>Ie("barcode-scanner/history",t),Ve=document.getElementById("toastContainer"),Pe=t=>{const e=t.currentTarget;e.removeEventListener("click",Pe),Ve.removeChild(e.parentNode)},Ue=(t="",e="info")=>{["info","warning","danger"].includes(e)||(e="info");const i=`\n    ${t}\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n      <span aria-hidden="true">&times;</span>\n    </button>\n  `,n=document.createElement("div");n.className=`alert alert-${e} alert-dismissible text-break`,n.innerHTML=i,n.querySelector("button").addEventListener("click",Pe),Ve.appendChild(n),setTimeout((()=>n.classList.add("show")),100)};!async function(){const t="No barcode detected",e=document.querySelector("capture-photo"),i=document.getElementById("cameraResults"),n=document.getElementById("fileResults"),o=document.getElementById("scanInstructions"),s=document.getElementById("scanBtn"),r=document.getElementById("scanMethod"),l=document.getElementById("dropzone"),c=document.getElementById("cameraView"),d=document.getElementById("fileView"),h=document.querySelector("resize-observer"),u=document.getElementById("scanFrame"),p=document.getElementById("globalActions"),m=document.getElementById("historyBtn"),b=document.getElementById("historyDialog"),f=document.getElementById("historyList"),v=document.getElementById("deleteHistoryBtn"),g=document.getElementById("settingsBtn"),w=document.getElementById("settingsDialog"),y=document.forms["settings-form"],E=document.getElementById("copyIconTemplate"),k=document.getElementById("copiedIconTemplate"),A=document.getElementById("supportedFormats");let z,x=!0;if(!("BarcodeDetector"in window))try{window.BarcodeDetector=(await a("1VDWK")).default}catch(t){return c.hidden=!0,d.hidden=!0,r.hidden=!0,p.hidden=!0,Ue("BarcodeDetector API is not supported by your browser.","danger")}document.querySelectorAll("clipboard-copy").forEach((t=>{t.querySelector("button").appendChild(E.content.cloneNode(!0))})),Mt()||document.querySelectorAll("web-share").forEach((t=>{t.hidden=!0,t.disabled=!0}));const{value:C=[]}=await qe();W(C),e.addEventListener("capture-photo:video-play",(t=>{u.hidden=!1,O(t.detail.video),D();const i=e.getTrackSettings(),n=e.getTrackCapabilities(),o=document.getElementById("zoomLevel");if(i?.zoom&&n?.zoom){const t=document.getElementById("zoomControls"),s=n?.zoom?.min||0,a=n?.zoom?.max||10;let r=i?.zoom||1;t.hidden=!1,o.textContent=r,t.addEventListener("click",(t=>{const i=t.target.closest('[data-action="zoom-in"]'),n=t.target.closest('[data-action="zoom-out"]');i&&r<a&&(r+=.5),n&&r>s&&(r-=.5),o.textContent=r,e.zoom=r}))}}),{once:!0}),e.addEventListener("capture-photo:error",(t=>{c.hidden=!0,d.hidden=!1,r.hidden=!0;const e=t.detail.error;if("NotFoundError"===e.name)return;const i="NotAllowedError"===e.name?"Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.":e.message;Ue(i,"danger")}),{once:!0}),Te.defineCustomElement(),l.accept=["image/jpg","image/jpeg","image/png","image/apng","image/gif","image/webp","image/avif"].join(",");const T=e.shadowRoot.querySelector("video"),S=await window.BarcodeDetector.getSupportedFormats(),L=new window.BarcodeDetector({formats:S}),{value:M={}}=await De();Object.entries(M).forEach((([t,e])=>{const i=y.querySelector(`[name="${t}"]`);i&&(i.checked=e)})),Array.isArray(S)&&S.length>0&&(A.textContent=`Supported formats: ${S.join(", ")}`);const N=(()=>{const t=new(window.AudioContext||window.webkitAudioContext||window.audioContext);if(t)return async(e,i,n,o,s)=>{const{value:a}=await De();if(!a?.beep)return;const r=t.createOscillator(),l=t.createGain();r.connect(l),l.connect(t.destination),n&&(l.gain.value=n),i&&(r.frequency.value=i),o&&(r.type=o),"function"==typeof s&&(r.onended=s),r.start(t.currentTime),r.stop(t.currentTime+(e||500)/1e3)}})();function W(t){f.innerHTML="",Array.isArray(t)&&t.length?(v.style.display="block",t.forEach((t=>{const e=document.createElement("li");let i;e.setAttribute("data-value",t);try{new URL(t),i=document.createElement("a"),i.href=t,i.setAttribute("target","_blank"),i.setAttribute("rel","noreferrer noopener")}catch(t){i=document.createElement("span")}i.textContent=t,i.setAttribute("title",t);const n=document.createElement("div");n.className="history-modal__actions";const o=document.createElement("clipboard-copy");o.innerHTML='\n          <button slot="button" type="button" title="Copy to clipboard">\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">\n              <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n              <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n            </svg>\n          </button>\n        ',o.setAttribute("value",t),n.appendChild(o);const s=document.createElement("button");s.type="button",s.className="history-modal__delete-action",s.title="Remove from history",s.setAttribute("data-action","delete"),s.innerHTML='\n          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">\n            <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"/>\n          </svg>\n        ',n.appendChild(s),e.appendChild(i),e.appendChild(n),f.appendChild(e)}))):(f.innerHTML="<li class=>There are no saved items in history.</li>",v.style.display="none")}async function R(t){const{value:e}=await De();if(!t||!e?.addToHistory)return;const{value:i=[],error:n}=await qe();if(!n&&!i.find((e=>e===t))){const e=[...i,t],{error:n}=await He(e);n||W(e)}}async function B(t=100){const{value:e}=await De();if("function"==typeof window.navigator.vibrate&&e?.vibrate)try{window.navigator.vibrate(t)}catch{}}function O(t){if(!t)return;const e=t.getBoundingClientRect();u.style.cssText=`width: ${e.width}px; height: ${e.height}px`}function j(t){t?.querySelector(".results__item")?.remove()}async function F(e,i){if(!e||!i)return;let n;j(i);try{const{value:t}=await De();new URL(e),n=document.createElement("a"),n.href=e,t?.openWebPageSameTab||(n.setAttribute("target","_blank"),n.setAttribute("rel","noreferrer noopener")),t?.openWebPage&&n.click()}catch(t){n=document.createElement("span")}n.className="results__item",n.classList.toggle("results__item--no-barcode",e===t),n.textContent=e,i.insertBefore(n,i.querySelector(".results__actions"));const o=i.querySelector("clipboard-copy"),s=i.querySelector("web-share"),a=e!==t;o&&(o.disabled=!a,o.hidden=!a),s&&Mt()&&(s.disabled=!a,s.hidden=!a,a?s.setAttribute("share-text",e):s.removeAttribute("share-text")),i.show()}function I(t){return new Promise(((e,i)=>{L.detect(t).then((t=>{Array.isArray(t)&&t.length>0?e(t[0]):i({message:"Could not detect barcode from provided source."})})).catch((t=>{i(t)}))}))}async function D(){o.hidden=!1;try{const t=await I(T);return window.cancelAnimationFrame(z),j(i),F(t.rawValue,i),R(t.rawValue),o.hidden=!0,s.hidden=!1,u.hidden=!0,N(200,860,.03,"square"),void B()}catch(t){}x&&(z=window.requestAnimationFrame((()=>D())))}s.addEventListener("click",(()=>{s.hidden=!0,u.hidden=!1,j(i),i.close(),D()})),r.addEventListener("change",(t=>{const n=t.target.value;[c,d].forEach((t=>{t.hidden=t.id!==n})),"cameraView"===n&&(x=!0,c.hidden||e.loading||i.querySelector(".results__item")||D()),"fileView"===n&&(x=!1)})),l.addEventListener("files-dropzone-drop",(e=>{!function(e){if(!e)return;const i=new Image,o=new FileReader;o.onload=o=>{const s=o.target.result;i.onload=async()=>{try{const t=await I(i);j(n),F(t.rawValue,n),R(t.rawValue),N(200,860,.03,"square"),B()}catch(e){j(n),F(t,n)}},i.src=s,l.replaceChildren();const a=document.createElement("div");a.className="dropzone-preview";const r=document.createElement("div");r.className="dropzone-preview__image-wrapper";const c=document.createElement("div");c.className="dropzone-preview__file-name",c.textContent=e.name,r.appendChild(i),a.appendChild(r),a.appendChild(c),l.prepend(a)},o.readAsDataURL(e)}(e.detail.acceptedFiles[0])})),h.addEventListener("resize-observer:resize",(()=>{O(e.shadowRoot.querySelector("video"))})),g.addEventListener("click",(()=>{w.showModal()})),m.addEventListener("click",(()=>{b.showModal()})),b.addEventListener("click",(t=>{t.target===t.currentTarget&&b.close()})),w.addEventListener("click",(t=>{t.target===t.currentTarget&&w.close()})),y.addEventListener("change",(t=>{const e={};t.currentTarget.querySelectorAll('input[type="checkbox"]').forEach((t=>e[t.name]=t.checked)),_e(e)})),f.addEventListener("click",(t=>{const e=t.target;e.closest('[data-action="delete"]')&&window.confirm("Delete item from history?")&&async function(t){if(!t)return;const{value:e=[],error:i}=await qe();if(!i){const i=e.filter((e=>e!==t)),{error:n}=await He(i);n||W(i)}}(e.closest("li").dataset.value)})),v.addEventListener("click",(()=>{window.confirm("Are you sure you want to empty history?")&&async function(){const{error:t}=await He([]);t||W([])}()})),document.addEventListener("clipboard-copy:success",(t=>{const e=t.target.querySelector('button[slot="button"]'),i=t.target.closest("#historyDialog"),n=k.content.cloneNode(!0),o=E.content.cloneNode(!0),s=n.querySelector("span"),a=o.querySelector("span");i?(s.hidden=!0,a.hidden=!0):(s.hidden=!1,a.hidden=!1),e&&(e.replaceChildren(),e.appendChild(n),setTimeout((()=>{e.replaceChildren(),e.appendChild(o)}),1500))}))}()}();
//# sourceMappingURL=index.7da08d44.js.map

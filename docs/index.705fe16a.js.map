{"mappings":"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","sources":["node_modules/@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.min.js","node_modules/@georapbox/capture-photo-element/dist/capture-photo.min.js","src/js/toast-alert.js","src/js/utils/ary.js","src/js/index.js"],"sourcesContent":["/*!\n * @georapbox/clipboard-copy-element\n * A custom element that implements the Clipboard API to copy text content from elements or input values to the clipboard.\n *\n * @version v1.0.2\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/clipboard-copy-element#readme\n * @repository git+https://github.com/georapbox/clipboard-copy-element.git\n * @license MIT\n */\nconst t=document.createElement(\"template\"),e=String.raw;t.innerHTML=e`\n  <slot name=\"button\"><button type=\"button\" part=\"button\"><slot name=\"button-content\">Copy</slot></button></slot>\n`;class o extends HTMLElement{constructor(){super(),this.shadowRoot||(this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))),this._buttonSlot=this.shadowRoot.querySelector('slot[name=\"button\"]'),this.$button=this._getButton(),this._onClick=this._onClick.bind(this),this._onSlotChange=this._onSlotChange.bind(this)}static get observedAttributes(){return[\"disabled\"]}connectedCallback(){this._buttonSlot&&this._buttonSlot.addEventListener(\"slotchange\",this._onSlotChange),this.$button&&this.$button.addEventListener(\"click\",this._onClick),this._upgradeProperty(\"value\"),this._upgradeProperty(\"from\"),this._upgradeProperty(\"disabled\")}disconnectedCallback(){this._buttonSlot.removeEventListener(\"slotchange\",this._onSlotChange),this.$button&&this.$button.removeEventListener(\"click\",this._onClick)}attributeChangedCallback(t){\"disabled\"===t&&this.$button&&(this.$button.disabled=this.disabled,this.$button.setAttribute(\"aria-disabled\",this.disabled),this.$button.part&&this.$button.part.contains(\"button\")&&this.$button.part.toggle(\"button--disabled\",this.disabled))}get disabled(){return this.hasAttribute(\"disabled\")}set disabled(t){t?this.setAttribute(\"disabled\",\"\"):this.removeAttribute(\"disabled\")}get value(){return this.getAttribute(\"value\")}set value(t){this.setAttribute(\"value\",t)}get from(){return this.getAttribute(\"from\")}set from(t){this.setAttribute(\"from\",t)}async _copy(){if(this.value||this.from)try{let t=\"\";if(this.value)t=this.value;else if(this.from){const e=(\"getRootNode\"in Element.prototype?this.$button.getRootNode({composed:!0}):this.$button.ownerDocument).querySelector(this.from);if(!e)return;t=e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e instanceof HTMLAnchorElement&&e.hasAttribute(\"href\")?e.href:e.textContent}await navigator.clipboard.writeText(t),this.dispatchEvent(new CustomEvent(\"clipboard-copy:success\",{bubbles:!0,composed:!0,detail:{value:t}}))}catch(t){this.dispatchEvent(new CustomEvent(\"clipboard-copy:error\",{bubbles:!0,composed:!0,detail:{error:t}}))}}_getButton(){return this._buttonSlot?this._buttonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"button\"===t.getAttribute(\"slot\"))):null}_onClick(t){t.preventDefault(),this.disabled||(this.dispatchEvent(new Event(\"clipboard-copy:click\",{bubbles:!0,composed:!0})),this._copy())}_onSlotChange(t){t.target&&\"button\"===t.target.name&&(this.$button&&this.$button.removeEventListener(\"click\",this._onClick),this.$button=this._getButton(),this.$button&&(this.$button.addEventListener(\"click\",this._onClick),\"BUTTON\"===this.$button.nodeName||this.$button.hasAttribute(\"role\")||this.$button.setAttribute(\"role\",\"button\")))}_upgradeProperty(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}static defineCustomElement(t=\"clipboard-copy\"){\"undefined\"==typeof window||window.customElements.get(t)||window.customElements.define(t,o)}}o.defineCustomElement();export{o as ClipboardCopy};\n","/*!\n * @georapbox/capture-photo-element\n * A custom element that implements the MediaDevices.getUserMedia() method of the MediaDevices interface to capture a photo in the browser.\n *\n * @version v1.3.1\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/capture-photo-element#readme\n * @repository git+https://github.com/georapbox/capture-photo-element.git\n * @license MIT\n */\nconst t=document.createElement(\"template\");t.innerHTML='\\n  <style>\\n    :host {\\n      all: initial;\\n      display: block;\\n      box-sizing: border-box;\\n    }\\n    :host *,\\n    :host *::before,\\n    :host *::after {\\n      box-sizing: inherit;\\n    }\\n    :host video {\\n      display: block;\\n    }\\n    :host #output:empty {\\n      display: none;\\n    }\\n    [hidden] {\\n      display: none !important;\\n    }\\n  </style>\\n  <video part=\"video\" playsinline></video>\\n  <canvas hidden></canvas>\\n  <div part=\"actions-container\">\\n    <slot name=\"capture-button\">\\n      <button part=\"capture-button\" type=\"button\"><slot name=\"capture-button-content\">Capture photo</slot></button>\\n    </slot>\\n    <slot name=\"facing-mode-button\"><button part=\"facing-mode-button\" type=\"button\"><slot name=\"facing-mode-button-content\">Toggle facing mode</slot></button></slot>\\n  </div>\\n  <div part=\"output-container\" id=\"output\"></div>\\n';class e extends HTMLElement{constructor(){super(),this._connected=!1,this._supportedConstraints=e.isSupported()?navigator.mediaDevices.getSupportedConstraints():{},this.shadowRoot||(this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))),this._onFacingModeButtonClick=this._onFacingModeButtonClick.bind(this),this._onCapturePhotoButtonClick=this._onCapturePhotoButtonClick.bind(this),this._onVideoLoadedMetaData=this._onVideoLoadedMetaData.bind(this),this._onCaptureButtonSlotChange=this._onCaptureButtonSlotChange.bind(this),this._onFacingModeButtonSlotChange=this._onFacingModeButtonSlotChange.bind(this)}connectedCallback(){if(this._connected=!0,this._canvasElement=this.shadowRoot.querySelector(\"canvas\"),this._outputElement=this.shadowRoot.getElementById(\"output\"),this._videoElement=this.shadowRoot.querySelector(\"video\"),this._videoElement&&this._videoElement.addEventListener(\"loadedmetadata\",this._onVideoLoadedMetaData),this._captureButtonSlot=this.shadowRoot.querySelector('slot[name=\"capture-button\"]'),this._captureButtonSlot&&this._captureButtonSlot.addEventListener(\"slotchange\",this._onCaptureButtonSlotChange),this._captureButton=this._getCaptureButton(),this._captureButton&&this._captureButton.addEventListener(\"click\",this._onCapturePhotoButtonClick),this._facingModeButtonSlot=this.shadowRoot.querySelector('slot[name=\"facing-mode-button\"]'),this._facingModeButtonSlot&&this._facingModeButtonSlot.addEventListener(\"slotchange\",this._onFacingModeButtonSlotChange),this._facingModeButton=this._getFacingModeButton(),this._facingModeButton&&(this._supportedConstraints.facingMode?this._facingModeButton.addEventListener(\"click\",this._onFacingModeButtonClick):this._facingModeButton.hidden=!0),this._upgradeProperty(\"outputDisabled\"),this._upgradeProperty(\"facingMode\"),this._upgradeProperty(\"cameraResolution\"),this._upgradeProperty(\"zoom\"),!e.isSupported())return this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:{name:\"NotSupportedError\",message:\"Not supported\"}}}));this._requestGetUserMedia()}disconnectedCallback(){this._stopVideoStreaming(),this._facingModeButton&&this._facingModeButton.removeEventListener(\"click\",this._onFacingModeButtonClick),this._captureButton&&this._captureButton.removeEventListener(\"click\",this._onCapturePhotoButtonClick),this._videoElement&&this._videoElement.removeEventListener(\"canplay\",this._onVideoLoadedMetaData),this._captureButtonSlot&&this._captureButtonSlot.removeEventListener(\"slotchange\",this._onCaptureButtonSlotChange),this._facingModeButtonSlot&&this._facingModeButtonSlot.removeEventListener(\"slotchange\",this._onFacingModeButtonSlotChange)}attributeChangedCallback(t,e,o){this._connected&&(\"output-disabled\"===t&&this._emptyOutputElement(),\"facing-mode\"===t&&this._supportedConstraints.facingMode&&e!==o&&(this._stopVideoStreaming(),this._requestGetUserMedia(),this.dispatchEvent(new CustomEvent(\"capture-photo:facing-mode-change\",{bubbles:!0,composed:!0,detail:{facingMode:o}}))),\"camera-resolution\"===t&&e!==o&&(this._stopVideoStreaming(),this._requestGetUserMedia(),this.dispatchEvent(new CustomEvent(\"capture-photo:camera-resolution-change\",{bubbles:!0,composed:!0,detail:{cameraResolution:o}}))),\"zoom\"===t&&e!==o&&(this._applyZoom(this.zoom),this.dispatchEvent(new CustomEvent(\"capture-photo:zoom-change\",{bubbles:!0,composed:!0,detail:{zoom:this.zoom}}))))}static get observedAttributes(){return[\"output-disabled\",\"facing-mode\",\"camera-resolution\",\"zoom\"]}get outputDisabled(){return this.hasAttribute(\"output-disabled\")}set outputDisabled(t){t?this.setAttribute(\"output-disabled\",\"\"):this.removeAttribute(\"output-disabled\")}get facingMode(){return this.getAttribute(\"facing-mode\")}set facingMode(t){this.setAttribute(\"facing-mode\",t)}get cameraResolution(){return this.getAttribute(\"camera-resolution\")}set cameraResolution(t){this.setAttribute(\"camera-resolution\",t)}get zoom(){return Number(this.getAttribute(\"zoom\"))||null}set zoom(t){const e=Number(t)||0;this.setAttribute(\"zoom\",e>0?Math.floor(e):0)}get loading(){return this.hasAttribute(\"loading\")}_stopVideoStreaming(){if(!this._videoElement||!this._stream)return;const[t]=this._stream.getVideoTracks();t&&t.stop(),this._videoElement.srcObject=null,this._stream=null}_requestGetUserMedia(){if(!e.isSupported())return;this.setAttribute(\"loading\",\"\");const t={video:{facingMode:{ideal:this.facingMode||\"user\"}},audio:!1};if(\"string\"==typeof this.cameraResolution){const[e,o]=this.cameraResolution.split(\"x\");t.video.width=e,t.video.height=o}navigator.mediaDevices.getUserMedia(t).then((t=>{this._videoElement.srcObject=t,this._stream=t,this._applyZoom(this.zoom)})).catch((t=>{this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute(\"loading\")}))}capture(){if(!this.loading)try{const t=this._canvasElement.getContext(\"2d\"),e=this._videoElement.videoWidth,o=this._videoElement.videoHeight;this._canvasElement.width=e,this._canvasElement.height=o,t.drawImage(this._videoElement,0,0,e,o);const n=this._canvasElement.toDataURL(\"image/png\");if(\"string\"==typeof n&&n.includes(\"data:image\")){if(!this.outputDisabled){const t=new Image;t.src=n,t.width=e,t.height=o,t.part=\"output-image\",this._emptyOutputElement(),this._outputElement&&this._outputElement.appendChild(t)}this.dispatchEvent(new CustomEvent(\"capture-photo:success\",{bubbles:!0,composed:!0,detail:{dataURI:n,width:e,height:o}}))}}catch(t){this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))}}_onFacingModeButtonClick(t){t.preventDefault(),this.loading||(this.facingMode=\"user\"!==this.facingMode&&this.facingMode?\"user\":\"environment\")}_onCapturePhotoButtonClick(t){t.preventDefault(),this.capture()}_onVideoLoadedMetaData(t){const e=t.target;e.play().then((()=>{this.dispatchEvent(new CustomEvent(\"capture-photo:video-play\",{bubbles:!0,composed:!0,detail:{video:e}}))})).catch((t=>{this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute(\"loading\")}))}_emptyOutputElement(){this._outputElement&&Array.from(this._outputElement.childNodes).forEach((t=>t.remove()))}_applyZoom(t){if(!this._stream||!t)return;const[e]=this._stream.getVideoTracks();if(\"function\"!=typeof e.getCapabilities||\"function\"!=typeof e.getSettings)return;const o=e.getCapabilities();var n,i,s;\"zoom\"in e.getSettings()&&e.applyConstraints({advanced:[{zoom:(n=Number(t),i=o.zoom.min,s=o.zoom.max,Number.isNaN(i)&&(i=0),Number.isNaN(s)&&(s=0),Math.min(Math.max(n,Math.min(i,s)),Math.max(i,s)))}]})}_onCaptureButtonSlotChange(t){t.target&&\"capture-button\"===t.target.name&&(this._captureButton&&this._captureButton.removeEventListener(\"click\",this._onCapturePhotoButtonClick),this._captureButton=this._getCaptureButton(),this._captureButton&&(this._captureButton.addEventListener(\"click\",this._onCapturePhotoButtonClick),\"BUTTON\"===this._captureButton.nodeName||this._captureButton.hasAttribute(\"role\")||this._captureButton.setAttribute(\"role\",\"button\")))}_onFacingModeButtonSlotChange(t){t.target&&\"facing-mode-button\"===t.target.name&&(this._facingModeButton&&this._facingModeButton.removeEventListener(\"click\",this._onFacingModeButtonClick),this._facingModeButton=this._getFacingModeButton(),this._facingModeButton&&(this._facingModeButton.addEventListener(\"click\",this._onFacingModeButtonClick),\"BUTTON\"===this._facingModeButton.nodeName||this._facingModeButton.hasAttribute(\"role\")||this._facingModeButton.setAttribute(\"role\",\"button\")))}_getFacingModeButton(){return this._facingModeButtonSlot?this._facingModeButtonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"facing-mode-button\"===t.getAttribute(\"slot\"))):null}_getCaptureButton(){return this._captureButtonSlot?this._captureButtonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"capture-button\"===t.getAttribute(\"slot\"))):null}_upgradeProperty(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}static isSupported(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}static defineCustomElement(t=\"capture-photo\"){\"undefined\"==typeof window||window.customElements.get(t)||window.customElements.define(t,e)}}export{e as CapturePhoto};\n","const toastContainer = document.getElementById('toastContainer');\n\nconst hideAlert = evt => {\n  const target = evt.currentTarget;\n  target.removeEventListener('click', hideAlert);\n  toastContainer.removeChild(target.parentNode);\n};\n\nexport const toastAlert = (message = '', type = 'info') => {\n  const types = ['info', 'warning', 'danger'];\n\n  if (!types.includes(type)) {\n    type = 'info';\n  }\n\n  const template = /* html */`\n    ${message}\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  `;\n\n  const div = document.createElement('div');\n  div.className = `alert alert-${type} alert-dismissible text-break mb-2 fade`;\n  div.innerHTML = template;\n  div.querySelector('button').addEventListener('click', hideAlert);\n  toastContainer.appendChild(div);\n  setTimeout(() => div.classList.add('show'), 100);\n};\n","/**\n * Creates a function that accepts up to `n` arguments, ignoring any additional arguments.\n *\n * @param {function} fn The function to cap arguments for.\n * @param {Number} n The arity cap.\n * @throws {TypeError} Throws if `fn` is not function.\n * @throws {TypeError} Throws if `n` is not number.\n * @returns {function} Returns the new capped function.\n * @example\n *\n * const array = ['1', '2', '3'];\n *\n * const toInteger = ary(parseInt, 1);\n *\n * array.map(toInteger); // => [1, 2, 3]\n */\nexport const ary = (fn, n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Expected a function for first argument');\n  }\n\n  if (typeof n !== 'number') {\n    throw new TypeError('Expected a number for second argument');\n  }\n\n  return (...args) => {\n    const arityCap = n > 0 ? n : 0;\n\n    return fn(...args.slice(0, arityCap));\n  };\n};\n","import '@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.min.js';\nimport { CapturePhoto } from '@georapbox/capture-photo-element/dist/capture-photo.min.js';\nimport { toastAlert } from './toast-alert.js';\nimport { ary } from './utils/ary.js';\n\n(async function () {\n  const ACCEPTED_MIME_TYPES = ['image/jpg', 'image/jpeg', 'image/png', 'image/apng', 'image/gif', 'image/webp', 'image/avif'];\n  const capturePhotoEl = document.querySelector('capture-photo');\n  const cameraResultsEl = document.getElementById('cameraResults');\n  const fileResultsEl = document.getElementById('fileResults');\n  const scanningEl = document.querySelector('.scanning');\n  const scanBtn = document.getElementById('scanBtn');\n  const scanMethodSelect = document.getElementById('scanMethod');\n  const fileInput = document.getElementById('fileInput');\n  const dropzoneEl = document.getElementById('dropzone');\n  const cameraViewEl = document.getElementById('cameraView');\n  const fileViewEl = document.getElementById('fileView');\n  let shouldRepeatScan = true;\n  let rafId;\n\n  if (!('BarcodeDetector' in window)) {\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = true;\n    scanMethodSelect.hidden = true;\n    toastAlert('BarcodeDetector API is not supported by your browser.', 'danger');\n    return;\n  }\n\n  fileInput.accept = ACCEPTED_MIME_TYPES.join(',');\n\n  document.addEventListener('capture-photo:error', evt => {\n    capturePhotoEl.hidden = true;\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = false;\n    scanMethodSelect.hidden = true;\n\n    const error = evt.detail.error;\n\n    if (error.name === 'NotFoundError') {\n      return;\n    }\n\n    const errorMessage = error.name === 'NotAllowedError' ? 'Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.' : error.message;\n\n    toastAlert(errorMessage, 'danger');\n  }, {\n    once: true\n  });\n\n  capturePhotoEl.addEventListener('capture-photo:video-play', ary(scan, 0), {\n    once: true\n  });\n\n  CapturePhoto.defineCustomElement();\n\n  const capturePhotoVideoEl = capturePhotoEl.shadowRoot.querySelector('video');\n\n  const barcodeDetector = new window.BarcodeDetector({\n    formats: await window.BarcodeDetector.getSupportedFormats()\n  });\n\n  function emptyResults(el) {\n    el.querySelectorAll('.results__item').forEach(el => el.remove());\n  }\n\n  function createResult(value, resultEl) {\n    if (!value) {\n      return;\n    }\n\n    let el;\n\n    try {\n      new URL(value);\n      el = document.createElement('a');\n      el.href = value;\n      el.setAttribute('target', '_blank');\n      el.setAttribute('rel', 'noreferrer noopener');\n    } catch (err) {\n      el = document.createElement('span');\n    }\n\n    el.className = 'results__item';\n    el.textContent = value;\n\n    resultEl.appendChild(el);\n  }\n\n  function detectBarcode(source) {\n    return new Promise((resolve, reject) => {\n      barcodeDetector.detect(source).then(results => {\n        if (Array.isArray(results) && results.length > 0) {\n          resolve(results[0]);\n        } else {\n          reject({\n            message: 'Could not detect barcode from provided source.'\n          });\n        }\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  async function scan() {\n    scanningEl.hidden = false;\n\n    try {\n      const barcode = await detectBarcode(capturePhotoVideoEl);\n      window.cancelAnimationFrame(rafId);\n      emptyResults(cameraResultsEl);\n      createResult(barcode.rawValue, cameraResultsEl);\n      scanningEl.hidden = true;\n      scanBtn.hidden = false;\n      return;\n    } catch (err) {\n      // Fail silently...\n    }\n\n    if (shouldRepeatScan) {\n      rafId = window.requestAnimationFrame(ary(scan, 0));\n    }\n  }\n\n  function handleFileSelect(file) {\n    const image = new Image();\n    const reader = new FileReader();\n\n    reader.addEventListener('load', evt => {\n      const data = evt.target.result;\n\n      image.addEventListener('load', async () => {\n        try {\n          const barcode = await detectBarcode(image);\n          emptyResults(fileResultsEl);\n          createResult(barcode.rawValue, fileResultsEl);\n        } catch (err) {\n          emptyResults(fileResultsEl);\n          createResult('-', fileResultsEl);\n        }\n      });\n\n      image.src = data;\n      dropzoneEl.querySelectorAll('img').forEach(el => el.remove());\n      dropzoneEl.prepend(image);\n    });\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  scanBtn.addEventListener('click', () => {\n    scanBtn.hidden = true;\n    emptyResults(cameraResultsEl);\n    scan();\n  });\n\n  scanMethodSelect.addEventListener('change', evt => {\n    const value = evt.target.value;\n\n    [cameraViewEl, fileViewEl].forEach(el => {\n      el.hidden = el.id !== value;\n    });\n\n    if (value === 'cameraView') {\n      shouldRepeatScan = true;\n\n      if (\n        !capturePhotoEl.hidden // Assumes that element is hidden because of error.\n        && !capturePhotoEl.loading\n        && !cameraResultsEl.querySelector('.results__item')\n      ) {\n        scan();\n      }\n    }\n\n    if (value === 'fileView') {\n      shouldRepeatScan = false;\n    }\n  });\n\n  fileInput.addEventListener('change', evt => {\n    const file = evt.target.files[0];\n    handleFileSelect(file);\n  });\n\n  dropzoneEl.addEventListener('dragover', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = 'copy';\n  });\n\n  dropzoneEl.addEventListener('drop', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    const fileList = evt.dataTransfer.files;\n    const [file] = fileList;\n\n    if (!file || !ACCEPTED_MIME_TYPES.includes(file.type)) {\n      return;\n    }\n\n    fileInput.value = fileInput.defaultValue;\n\n    handleFileSelect(file);\n  });\n}());\n"],"names":["$c4c3d82d4b9a50da$var$t","document","createElement","$c4c3d82d4b9a50da$var$e","String","raw","innerHTML","$c4c3d82d4b9a50da$export$ea3b71af1761ff40","HTMLElement","observedAttributes","connectedCallback","this","_buttonSlot","addEventListener","_onSlotChange","$button","_onClick","_upgradeProperty","disconnectedCallback","removeEventListener","attributeChangedCallback","t","disabled","setAttribute","part","contains","toggle","hasAttribute","removeAttribute","value","getAttribute","from","async","e","Element","prototype","getRootNode","composed","ownerDocument","querySelector","HTMLInputElement","HTMLTextAreaElement","HTMLAnchorElement","href","textContent","navigator","clipboard","writeText","dispatchEvent","CustomEvent","bubbles","detail","t1","error","_getButton","assignedElements","flatten","find","nodeName","preventDefault","Event","_copy","target","name","Object","hasOwnProperty","call","static","window","customElements","get","define","constructor","super","shadowRoot","attachShadow","mode","appendChild","content","cloneNode","bind","defineCustomElement","$1ab4a1cb7ccd01e8$var$t","$1ab4a1cb7ccd01e8$export$cc30a98fe3890794","_connected","_canvasElement","_outputElement","getElementById","_videoElement","_onVideoLoadedMetaData","_captureButtonSlot","_onCaptureButtonSlotChange","_captureButton","_getCaptureButton","_onCapturePhotoButtonClick","_facingModeButtonSlot","_onFacingModeButtonSlotChange","_facingModeButton","_getFacingModeButton","_supportedConstraints","facingMode","_onFacingModeButtonClick","hidden","isSupported","message","_requestGetUserMedia","_stopVideoStreaming","o","_emptyOutputElement","cameraResolution","_applyZoom","zoom","outputDisabled","Number","Math","floor","loading","_stream","getVideoTracks","stop","srcObject","video","ideal","audio","e1","split","width","height","mediaDevices","getUserMedia","then","catch","finally","capture","getContext","videoWidth","videoHeight","drawImage","n","toDataURL","includes","Image","src","dataURI","t2","play","Array","childNodes","forEach","remove","getCapabilities","getSettings","i","s","applyConstraints","advanced","min","max","isNaN","Boolean","getSupportedConstraints","$166cfb2484b08c80$var$toastContainer","$166cfb2484b08c80$var$hideAlert","evt","currentTarget","removeChild","parentNode","$166cfb2484b08c80$export$af04143326425dbd","type","template","div","className","setTimeout","classList","add","$b65eb536c2c57ea2$export$24730179a5f99706","fn","TypeError","args","arityCap","slice","ACCEPTED_MIME_TYPES","capturePhotoEl","cameraResultsEl","fileResultsEl","scanningEl","scanBtn","scanMethodSelect","fileInput","dropzoneEl","cameraViewEl","fileViewEl","rafId","shouldRepeatScan","accept","join","errorMessage","once","scan","capturePhotoVideoEl","barcodeDetector","BarcodeDetector","formats","getSupportedFormats","emptyResults","el","querySelectorAll","createResult","resultEl","URL","err","detectBarcode","source","Promise","resolve","reject","detect","results","isArray","length","barcode","cancelAnimationFrame","rawValue","requestAnimationFrame","handleFileSelect","file","image","reader","FileReader","data","result","prepend","readAsDataURL","id","files","stopPropagation","dataTransfer","dropEffect","fileList","defaultValue"],"version":3,"file":"index.705fe16a.js.map"}
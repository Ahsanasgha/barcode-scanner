function e(e,t,i,s){Object.defineProperty(e,t,{get:i,set:s,enumerable:!0,configurable:!0})}var t,i,s,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},r=a.parcelRequirea202;null==r&&((r=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},a.parcelRequirea202=r),r.register("kyEFX",function(t,i){e(t.exports,"register",function(){return s},function(e){return s=e}),e(t.exports,"resolve",function(){return a},function(e){return a=e});var s,a,o={};s=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)o[t[i]]=e[t[i]]},a=function(e){var t=o[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),r.register("4RDRm",function(e,t){e.exports=import("./"+r("kyEFX").resolve("k4gsS")).then(()=>r("cglzq"))}),r("kyEFX").register(JSON.parse('{"eq2Ey":"index.5f208d33.js","k4gsS":"barcode-detector.281c75a5.js"}')),Object.defineProperty({},"ClipboardCopy",{get:function(){return u},set:void 0,enumerable:!0,configurable:!0});let l="clipboard-copy",d="success",h="error",c=document.createElement("template");c.innerHTML=`
  <style>
    :host([hidden]),
    [hidden],
    ::slotted([hidden]) {
      display: none !important;
    }
  </style>

  <button type="button" part="button">
    <slot name="copy">Copy</slot>
    <slot name="success" hidden>Copied!</slot>
    <slot name="error" hidden>Error</slot>
  </button>
`;class u extends HTMLElement{#e=null;#t;#i;#s;#a;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(c.content.cloneNode(!0))),this.#t=this.shadowRoot.querySelector("button"),this.#i=this.shadowRoot.querySelector('slot[name="copy"]'),this.#s=this.shadowRoot.querySelector('slot[name="success"]'),this.#a=this.shadowRoot.querySelector('slot[name="error"]')}static get observedAttributes(){return["disabled"]}connectedCallback(){this.#o("value"),this.#o("from"),this.#o("disabled"),this.#t&&this.#t.addEventListener("click",this.#n)}disconnectedCallback(){this.#t&&this.#t.removeEventListener("click",this.#n)}attributeChangedCallback(e){"disabled"===e&&this.#t&&(this.#t.disabled=this.disabled,this.#t.setAttribute("aria-disabled",this.disabled),this.#t.part&&this.#t.part.contains("button")&&this.#t.part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get feedbackDuration(){return Number(this.getAttribute("feedback-duration"))||1e3}set feedbackDuration(e){this.setAttribute("feedback-duration",e)}get value(){return this.getAttribute("value")}set value(e){this.setAttribute("value",e)}get from(){return this.getAttribute("from")}set from(e){this.setAttribute("from",e)}async #r(){if(this.value||this.from)try{let e="";if(this.value)e=this.value;else if(this.from){let t=("getRootNode"in Element.prototype?this.#t.getRootNode({composed:!0}):this.#t.ownerDocument).querySelector(this.from);if(!t)return;e=t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement?t.value:t instanceof HTMLAnchorElement&&t.hasAttribute("href")?t.href:t.textContent}await navigator.clipboard.writeText(e),this.#l(d),this.dispatchEvent(new CustomEvent(`${l}-success`,{bubbles:!0,composed:!0,detail:{value:e}}))}catch(e){this.#l(h),this.dispatchEvent(new CustomEvent(`${l}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}#n=e=>{e.preventDefault(),this.disabled||this.#e||this.#r()};#l(e){this.#i.hidden=!0,this.#s.hidden=e!==d,this.#a.hidden=e!==h,this.#t&&(this.#t.part.remove("button--success"),this.#t.part.remove("button--error"),this.#t.part.add(`button--${e}`)),clearTimeout(this.#e),this.#e=setTimeout(()=>{this.#i.hidden=!1,this.#s.hidden=!0,this.#a.hidden=!0,this.#t&&this.#t.part.remove(`button--${e}`),this.#e=null},this.feedbackDuration)}#o(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e=l){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,u)}}function p(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function m(e,t){var i;return(i=p(e,t,"get")).get?i.get.call(e):i.value}function b(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function f(e,t,i){b(e,t),t.set(e,i)}function v(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,p(e,t,"set"),i),i}function g(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function w(e,t){b(e,t),t.add(e)}u.defineCustomElement(),Object.defineProperty({},"WebShare",{get:function(){return L},set:t,enumerable:!0,configurable:!0});const y=document.createElement("template"),E=String.raw;y.innerHTML=E`
  <slot name="button"><button type="button" part="button"><slot name="button-content">Share</slot></button></slot>
`;var k=new WeakMap,A=new WeakMap,x=new WeakMap,z=new WeakMap,C=new WeakMap,S=new WeakSet,T=new WeakSet;class L extends HTMLElement{static get observedAttributes(){return["disabled"]}connectedCallback(){g(this,T,N).call(this,"shareUrl"),g(this,T,N).call(this,"shareTitle"),g(this,T,N).call(this,"shareText"),g(this,T,N).call(this,"shareFiles"),g(this,T,N).call(this,"disabled"),m(this,k)&&m(this,k).addEventListener("slotchange",m(this,C)),m(this,A)&&m(this,A).addEventListener("click",m(this,z))}disconnectedCallback(){m(this,k)&&m(this,k).removeEventListener("slotchange",m(this,C)),m(this,A)&&m(this,A).removeEventListener("click",m(this,z))}attributeChangedCallback(e){"disabled"===e&&m(this,A)&&(m(this,A).disabled=this.disabled,m(this,A).setAttribute("aria-disabled",this.disabled),m(this,A).part&&m(this,A).part.contains("button")&&m(this,A).part.toggle("button--disabled",this.disabled))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get shareUrl(){return this.getAttribute("share-url")}set shareUrl(e){this.setAttribute("share-url",e)}get shareTitle(){return this.getAttribute("share-title")}set shareTitle(e){this.setAttribute("share-title",e)}get shareText(){return this.getAttribute("share-text")}set shareText(e){this.setAttribute("share-text",e)}get shareFiles(){return m(this,x)}set shareFiles(e){v(this,x,e)}async share(){if(!this.disabled)try{let e={};this.shareUrl&&(e.url=this.shareUrl),this.shareTitle&&(e.title=this.shareTitle),this.shareText&&(e.text=this.shareText),Array.isArray(this.shareFiles)&&this.shareFiles.length>0&&navigator.canShare&&navigator.canShare({files:this.shareFiles})&&(e.files=this.shareFiles),await navigator.share(e),this.dispatchEvent(new CustomEvent("web-share:success",{bubbles:!0,composed:!0,detail:{shareData:e}}))}catch(e){if("AbortError"===e.name)return this.dispatchEvent(new Event("web-share:abort",{bubbles:!0,composed:!0}));this.dispatchEvent(new CustomEvent("web-share:error",{bubbles:!0,composed:!0,detail:{error:e}}))}}static defineCustomElement(e="web-share"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,L)}constructor(){super(),w(this,S),w(this,T),f(this,k,{writable:!0,value:void 0}),f(this,A,{writable:!0,value:void 0}),f(this,x,{writable:!0,value:null}),f(this,z,{writable:!0,value:e=>{e.preventDefault(),this.disabled||(this.dispatchEvent(new Event("web-share:click",{bubbles:!0,composed:!0})),this.share())}}),f(this,C,{writable:!0,value:e=>{e.target&&"button"===e.target.name&&(m(this,A)&&m(this,A).removeEventListener("click",m(this,z)),v(this,A,g(this,S,M).call(this)),m(this,A)&&(m(this,A).addEventListener("click",m(this,z)),"BUTTON"===m(this,A).nodeName||m(this,A).hasAttribute("role")||m(this,A).setAttribute("role","button")))}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(y.content.cloneNode(!0))),v(this,k,this.shadowRoot.querySelector('slot[name="button"]')),v(this,A,g(this,S,M).call(this))}}function M(){return m(this,k)?m(this,k).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"button"===e.getAttribute("slot")):null}function N(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}L.defineCustomElement(),Object.defineProperty({},"FilesDropzone",{get:function(){return P},set:void 0,enumerable:!0,configurable:!0});let R=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jxl","image/jxl"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]),F=[".DS_Store","Thumbs.db"],O=e=>{let{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){let i=t.split(".").pop().toLowerCase(),s=R.get(i);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e},j=(e,t)=>{let i=O(e);if("string"!=typeof i.path){let{webkitRelativePath:s}=e;Object.defineProperty(i,"path",{value:"string"==typeof t?t:s||e.name,writable:!1,configurable:!1,enumerable:!0})}return i},B=async e=>await new Promise((t,i)=>{e.readEntries(t,i)}),D=async e=>{let t=[],i=await B(e);for(;i.length>0;)t.push(...i),i=await B(e);return t},I=e=>new Promise((t,i)=>{e.file(i=>t(j(i,e.fullPath)),i)}),W=async e=>{let t=[],i=[];for(let t of e){if("file"!==t.kind)continue;let e=t.getAsEntry?t.getAsEntry():t.webkitGetAsEntry();i.push(e)}for(;i.length>0;){let e=i.shift();if(e){if(e.isFile){let i=await I(e);-1===F.indexOf(i.name)&&t.push(i)}else e.isDirectory&&i.push(...await D(e.createReader()))}}return t},_=async e=>{let t=[];for(let i of e)-1===F.indexOf(i.name)&&t.push(j(i));return t},$=async e=>e.dataTransfer?e.dataTransfer.items?await W(e.dataTransfer.items):await _(e.dataTransfer.files):await _(e.target.files),q="files-dropzone",H="TOO_MANY_FILES",V=document.createElement("template");V.innerHTML=`
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    :host([hidden]),
    [hidden] {
      display: none !important;
    }

    :host {
      --dropzone-border-width: 2px;
      --dropzone-border-style: dashed;
      --dropzone-border-radius: 0.25rem;
      --dropzone-border-color: #6c757d;
      --dropzone-border-color-dragover: #0d6efd;
      --dropzone-background-color: #ffffff;
      --dropzone-background-color-dragover: #f4f4f5;
      --dropzone-body-color: #3f3f46;
      --dropzone-body-color-dragover: var(--dropzone-body-color);
      --dropzone-focus-shadow-rgb: 49,132,253;
      --transition-duration: 0.2s;

      display: block;
    }

    :host(:not([no-style])) .dropzone {
      border: var(--dropzone-border-width) var(--dropzone-border-style) var(--dropzone-border-color);
      border-radius: var(--dropzone-border-radius);
      padding: 3rem 1rem;
      overflow: hidden;
      background-color: var(--dropzone-background-color);
      color: var(--dropzone-body-color);
      text-align: center;
      cursor: pointer;
      transition: border var(--transition-duration) ease-in-out, background-color var(--transition-duration) ease-in-out, color var(--transition-duration) ease-in-out, box-shadow var(--transition-duration) ease-in-out;
    }

    :host(:not([no-style])[no-click]) .dropzone {
      cursor: default;
    }

    :host(:not([no-style])[disabled]) .dropzone {
      opacity: 0.8;
      cursor: not-allowed;
    }

    :host(:not([no-style]):not([disabled])) .dropzone--dragover {
      border-color: var(--dropzone-border-color-dragover);
      background-color: var(--dropzone-background-color-dragover);
      color: var(--dropzone-body-color-dragover);
    }

    :host(:not([no-style]):not([disabled])) .dropzone:focus-visible {
      outline: none;
      box-shadow: 0 0 0 0.25rem rgba(var(--dropzone-focus-shadow-rgb), 0.5);
    }
  </style>

  <input type="file" id="fileInput" hidden>

  <div part="dropzone" class="dropzone" id="dropzoneEl" tabindex="0" role="presentation">
    <slot>Drag 'n' drop files here, or click to select files</slot>
  </div>
`;class P extends HTMLElement{#t;#e;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(V.content.cloneNode(!0))),this.#t=this.shadowRoot.getElementById("fileInput"),this.#e=this.shadowRoot.getElementById("dropzoneEl")}static get observedAttributes(){return["accept","disabled","multiple","no-keyboard"]}attributeChangedCallback(e,t,i){"accept"===e&&t!==i&&this.#t&&(this.#t.accept=this.accept),"disabled"===e&&t!==i&&this.#t&&(this.#t.disabled=this.disabled,this.disabled?this.#e.removeAttribute("tabindex"):this.#e.setAttribute("tabindex","0")),"multiple"===e&&t!==i&&this.#t&&(this.#t.multiple=this.multiple),"no-keyboard"===e&&t!==i&&this.#e&&(this.noKeyboard?this.#e.removeAttribute("tabindex"):this.#e.setAttribute("tabindex","0"))}connectedCallback(){this.#i("accept"),this.#i("disabled"),this.#i("maxFiles"),this.#i("maxSize"),this.#i("minSize"),this.#i("multiple"),this.#i("noClick"),this.#i("noDrag"),this.#i("noKeyboard"),this.#i("autoFocus"),this.#i("noStyle"),this.#t.addEventListener("change",this.#a),this.#e.addEventListener("dragenter",this.#o),this.#e.addEventListener("dragover",this.#l),this.#e.addEventListener("dragleave",this.#s),this.#e.addEventListener("drop",this.#n),this.#e.addEventListener("click",this.#d),this.#e.addEventListener("keyup",this.#r),this.autoFocus&&this.#e.focus()}disconnectedCallback(){this.#t.removeEventListener("change",this.#a),this.#e.removeEventListener("dragenter",this.#o),this.#e.removeEventListener("dragover",this.#l),this.#e.removeEventListener("dragleave",this.#s),this.#e.removeEventListener("drop",this.#n),this.#e.removeEventListener("click",this.#d),this.#e.removeEventListener("keyup",this.#r)}get accept(){return this.getAttribute("accept")}set accept(e){this.setAttribute("accept",e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxFiles(){let e=Number(this.getAttribute("max-files"))||0;return e<=0?1/0:Math.floor(Math.abs(e))}set maxFiles(e){this.setAttribute("max-files",e)}get maxSize(){let e=this.getAttribute("max-size");if(null===e)return 1/0;let t=Number(e);return Number.isNaN(t)?1/0:t}set maxSize(e){this.setAttribute("max-size",e)}get minSize(){let e=this.getAttribute("min-size");if(null===e)return 0;let t=Number(e);return Number.isNaN(t)?0:t}set minSize(e){this.setAttribute("min-size",e)}get multiple(){return this.hasAttribute("multiple")}set multiple(e){e?this.setAttribute("multiple",""):this.removeAttribute("multiple")}get noClick(){return this.hasAttribute("no-click")}set noClick(e){e?this.setAttribute("no-click",""):this.removeAttribute("no-click")}get noDrag(){return this.hasAttribute("no-drag")}set noDrag(e){e?this.setAttribute("no-drag",""):this.removeAttribute("no-drag")}get noKeyboard(){return this.hasAttribute("no-keyboard")}set noKeyboard(e){e?this.setAttribute("no-keyboard",""):this.removeAttribute("no-keyboard")}get autoFocus(){return this.hasAttribute("auto-focus")}set autoFocus(e){e?this.setAttribute("auto-focus",""):this.removeAttribute("auto-focus")}get noStyle(){return this.hasAttribute("no-style")}set noStyle(e){e?this.setAttribute("no-style",""):this.removeAttribute("no-style")}#a=async e=>{try{this.#h(await $(e))}catch(e){this.dispatchEvent(new CustomEvent(`${q}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}};#o=()=>{this.disabled||this.noDrag||this.dispatchEvent(new Event(`${q}-dragenter`,{bubbles:!0,composed:!0}))};#l=e=>{if(e.preventDefault(),this.disabled||this.noDrag){e.dataTransfer.dropEffect="none";return}e.dataTransfer.dropEffect="copy",this.#e.classList.add("dropzone--dragover"),this.#e.part.add("dropzone--dragover"),this.dispatchEvent(new Event(`${q}-dragover`,{bubbles:!0,composed:!0}))};#s=()=>{this.disabled||this.noDrag||(this.#e.classList.remove("dropzone--dragover"),this.#e.part.remove("dropzone--dragover"),this.dispatchEvent(new Event(`${q}-dragleave`,{bubbles:!0,composed:!0})))};#n=async e=>{if(!this.disabled&&!this.noDrag){e.preventDefault(),this.#e.classList.remove("dropzone--dragover"),this.#e.part.remove("dropzone--dragover");try{this.#h(await $(e))}catch(e){this.dispatchEvent(new CustomEvent(`${q}-error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}};#d=()=>{this.disabled||this.noClick||this.#t.click()};#r=e=>{this.disabled||this.noKeyboard||" "!==e.key&&"Enter"!==e.key||this.#t.click()};#h(e){if(!Array.isArray(e)||!e.length)return;let t=[],i=[],s=e.length;if(!this.multiple&&s>1)for(let t of e)i.push({file:t,errors:[{code:H,message:"Too many files selected. Only 1 file is allowed."}]});else if(this.multiple&&s>this.maxFiles)for(let t of e)i.push({file:t,errors:[{code:H,message:`Too many files selected. Only ${this.maxFiles} ${this.maxFiles>1?"files are":"file is"} allowed.`}]});else for(let s of e){let e=function(e,t=""){if(!t)return!0;let i=[...new Set(t.split(",").map(e=>e.trim()).filter(Boolean))],s=e.type,a=s.replace(/\/.*$/,"");for(let t of i)if("."===t.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(t.toLowerCase(),e.name.length-t.length))return!0}else if(/\/\*$/.test(t)){if(a===t.replace(/\/.*$/,""))return!0}else if(s===t)return!0;return!1}(s,this.accept),a=s.size>this.maxSize,o=s.size<this.minSize;if(!e||a||o){let t=[];e||t.push({code:"INVALID_MIME_TYPE",message:`File type "${s.type}" is not accepted.`}),a&&t.push({code:"FILE_TOO_LARGE",message:`File size ${s.size} exceeds the maximum size of ${this.maxSize}.`}),o&&t.push({code:"FILE_TOO_SMALL",message:`File size ${s.size} is smaller than the minimum size of ${this.minSize}.`}),i.push({file:s,errors:t})}else t.push(s)}this.dispatchEvent(new CustomEvent(`${q}-drop`,{bubbles:!0,composed:!0,detail:{acceptedFiles:t,rejectedFiles:i}})),t.length>0&&this.dispatchEvent(new CustomEvent(`${q}-drop-accepted`,{bubbles:!0,composed:!0,detail:{acceptedFiles:t}})),i.length>0&&this.dispatchEvent(new CustomEvent(`${q}-drop-rejected`,{bubbles:!0,composed:!0,detail:{rejectedFiles:i}})),this.#t.value=this.#t.defaultValue}openFileDialog(){this.disabled||this.#t.click()}#i(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e=q){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,P)}}function U(e={}){return Array.isArray((e={files:null,...e}).files)?"share"in navigator&&"canShare"in navigator&&navigator.canShare(e.files):"share"in navigator}function K(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function Z(e,t){var i;return(i=K(e,t,"get")).get?i.get.call(e):i.value}function G(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function X(e,t,i){G(e,t),t.set(e,i)}function Y(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,K(e,t,"set"),i),i}function J(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function Q(e,t){G(e,t),t.add(e)}P.defineCustomElement(),Object.defineProperty({},"ResizeObserverElement",{get:function(){return ed},set:i,enumerable:!0,configurable:!0});const ee=document.createElement("template"),et=String.raw;ee.innerHTML=et`
  <style>:host { display: contents; }</style>
  <slot></slot>
`;var ei=new WeakMap,es=new WeakMap,ea=new WeakMap,eo=new WeakSet,en=new WeakSet,er=new WeakMap,el=new WeakSet;class ed extends HTMLElement{static get observedAttributes(){return["disabled"]}attributeChangedCallback(e,t,i){"disabled"===e&&t!==i&&(this.disabled?J(this,en,ec).call(this):J(this,eo,eh).call(this))}connectedCallback(){J(this,el,eu).call(this,"disabled"),"ResizeObserver"in window&&(Y(this,es,new ResizeObserver(e=>{this.dispatchEvent(new CustomEvent("resize-observer:resize",{bubbles:!0,composed:!0,detail:{entries:e}}))})),this.disabled||J(this,eo,eh).call(this),Z(this,ei).addEventListener("slotchange",Z(this,er)))}disconnectedCallback(){J(this,en,ec).call(this),Z(this,ei).removeEventListener("slotchange",Z(this,er))}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}static defineCustomElement(e="resize-observer"){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,ed)}constructor(){super(),Q(this,eo),Q(this,en),Q(this,el),X(this,ei,{writable:!0,value:void 0}),X(this,es,{writable:!0,value:void 0}),X(this,ea,{writable:!0,value:void 0}),X(this,er,{writable:!0,value:()=>{this.disabled||J(this,eo,eh).call(this)}}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ee.content.cloneNode(!0))),Y(this,ei,this.shadowRoot.querySelector("slot")),Y(this,es,null),Y(this,ea,[])}}function eh(){Z(this,ei)&&Z(this,es)&&(Z(this,ea).forEach(e=>Z(this,es).unobserve(e)),Y(this,ea,[]),Z(this,ei).assignedElements().forEach(e=>{Z(this,es).observe(e),Z(this,ea).push(e)}))}function ec(){Z(this,es)&&Z(this,es).disconnect()}function eu(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}function ep(e,t,i){if(!t.has(e))throw TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function em(e,t){var i;return(i=ep(e,t,"get")).get?i.get.call(e):i.value}function eb(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function ef(e,t,i){eb(e,t),t.set(e,i)}function ev(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=i}}(e,ep(e,t,"set"),i),i}function eg(e,t,i){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return i}function ew(e,t){eb(e,t),t.add(e)}ed.defineCustomElement();const ey=(e,t,i)=>(Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Math.min(Math.max(e,Math.min(t,i)),Math.max(t,i))),eE="capture-photo",ek=document.createElement("template");ek.innerHTML='\n  <style>\n    :host { all: initial; display: block; box-sizing: border-box; }\n    :host *, :host *::before, :host *::after { box-sizing: inherit; }\n    :host([hidden]), [hidden] { display: none; }\n    :host video { display: block; }\n    :host #output:empty { display: none; }\n  </style>\n  <video part="video" playsinline></video>\n  <canvas hidden></canvas>\n  <div part="actions-container">\n    <slot name="capture-button">\n      <button part="capture-button" type="button">\n        <slot name="capture-button-content">Capture photo</slot>\n      </button>\n    </slot>\n    <slot name="facing-mode-button" hidden>\n      <button part="facing-mode-button" type="button">\n        <slot name="facing-mode-button-content">Toggle facing mode</slot>\n      </button>\n    </slot>\n    <slot name="actions"></slot>\n  </div>\n  <slot></slot>\n  <div part="output-container" id="output"></div>\n';var eA=new WeakMap,ex=new WeakMap,ez=new WeakMap,eC=new WeakMap,eS=new WeakMap,eT=new WeakMap,eL=new WeakMap,eM=new WeakMap,eN=new WeakMap,eR=new WeakMap,eF=new WeakMap,eO=new WeakMap,ej=new WeakMap,eB=new WeakSet,eD=new WeakSet,eI=new WeakMap,eW=new WeakMap,e_=new WeakSet,e$=new WeakSet,eq=new WeakSet;class eH extends HTMLElement{static get observedAttributes(){return["no-image","facing-mode","camera-resolution","pan","tilt","zoom"]}static isSupported(){return!!navigator.mediaDevices?.getUserMedia}static defineCustomElement(e=eE){"undefined"==typeof window||window.customElements.get(e)||window.customElements.define(e,eH)}connectedCallback(){if(eg(this,eq,eZ).call(this,"noImage"),eg(this,eq,eZ).call(this,"facingMode"),eg(this,eq,eZ).call(this,"cameraResolution"),eg(this,eq,eZ).call(this,"pan"),eg(this,eq,eZ).call(this,"tilt"),eg(this,eq,eZ).call(this,"zoom"),eg(this,eq,eZ).call(this,"calculateFileSize"),ev(this,eA,!0),ev(this,eC,this.shadowRoot.querySelector("canvas")),ev(this,eS,this.shadowRoot.getElementById("output")),ev(this,eT,this.shadowRoot.querySelector("video")),ev(this,eL,this.shadowRoot.querySelector('slot[name="capture-button"]')),ev(this,eM,eg(this,e$,eK).call(this)),ev(this,eN,this.shadowRoot.querySelector('slot[name="facing-mode-button"]')),ev(this,eR,eg(this,e_,eU).call(this)),em(this,eT)?.addEventListener("loadedmetadata",em(this,ej)),em(this,eL)?.addEventListener("slotchange",em(this,eI)),em(this,eM)?.addEventListener("click",em(this,eO)),em(this,eN)?.addEventListener("slotchange",em(this,eW)),em(this,eR)?.addEventListener("click",em(this,eF)),!eH.isSupported())return this.dispatchEvent(new CustomEvent(`${eE}:error`,{bubbles:!0,composed:!0,detail:{error:{name:"NotSupportedError",message:"Not supported"}}}));this.startVideoStream()}disconnectedCallback(){this.stopVideoStream(),em(this,eR)?.removeEventListener("click",em(this,eF)),em(this,eM)?.removeEventListener("click",em(this,eO)),em(this,eT)?.removeEventListener("canplay",em(this,ej)),em(this,eL)?.removeEventListener("slotchange",em(this,eI)),em(this,eN)?.removeEventListener("slotchange",em(this,eW))}attributeChangedCallback(e,t,i){if(!em(this,eA))return;let s=this.getTrackCapabilities(),a=this.getTrackSettings();if("no-image"===e&&t!==i&&eg(this,eB,eV).call(this),"facing-mode"===e&&t!==i&&em(this,ex)?.facingMode){let e=["user","environment"].includes(this.facingMode);a?.facingMode&&e&&(this.stopVideoStream(),this.startVideoStream())}if("camera-resolution"===e&&t!==i&&"string"==typeof this.cameraResolution){let[e,t]=this.cameraResolution.split("x").map(e=>Number(e)),i=e>=s?.width?.min&&e<=s?.width?.max,o=t>=s?.height?.min&&t<=s?.height?.max;a?.width&&a?.height&&i&&o&&(this.stopVideoStream(),this.startVideoStream())}if("pan"===e&&t!==i&&em(this,ex)?.pan){let e=this.pan>=s?.pan?.min&&this.pan<=s?.pan?.max;a?.pan&&e&&eg(this,eD,eP).call(this,"pan",this.pan)}if("tilt"===e&&t!==i&&em(this,ex)?.tilt){let e=this.tilt>=s?.tilt?.min&&this.tilt<=s?.tilt?.max;a?.tilt&&e&&eg(this,eD,eP).call(this,"tilt",this.tilt)}if("zoom"===e&&t!==i&&em(this,ex)?.zoom){let e=this.zoom>=s?.zoom?.min&&this.zoom<=s?.zoom?.max;a?.zoom&&e&&eg(this,eD,eP).call(this,"zoom",this.zoom)}}get noImage(){return this.hasAttribute("no-image")}set noImage(e){e?this.setAttribute("no-image",""):this.removeAttribute("no-image")}get facingMode(){return this.getAttribute("facing-mode")}set facingMode(e){this.setAttribute("facing-mode",e)}get cameraResolution(){return this.getAttribute("camera-resolution")}set cameraResolution(e){this.setAttribute("camera-resolution",e)}get pan(){return Number(this.getAttribute("pan"))||null}set pan(e){this.setAttribute("pan",Number(e)||null)}get tilt(){return Number(this.getAttribute("tilt"))||null}set tilt(e){this.setAttribute("tilt",Number(e)||null)}get zoom(){return Number(this.getAttribute("zoom"))||null}set zoom(e){this.setAttribute("zoom",Number(e)||null)}get loading(){return this.hasAttribute("loading")}get calculateFileSize(){return this.hasAttribute("calculate-file-size")}set calculateFileSize(e){e?this.setAttribute("calculate-file-size",""):this.removeAttribute("calculate-file-size")}stopVideoStream(){if(!em(this,eT)||!em(this,ez))return;let[e]=em(this,ez).getVideoTracks();e?.stop(),em(this,eT).srcObject=null,ev(this,ez,null)}async startVideoStream(){if(!eH.isSupported()||em(this,ez))return;this.setAttribute("loading","");let e={video:{facingMode:{ideal:this.facingMode||"user"},pan:!0,tilt:!0,zoom:!0},audio:!1};if("string"==typeof this.cameraResolution){let[t,i]=this.cameraResolution.split("x").map(e=>Number(e));e.video.width=t,e.video.height=i}try{ev(this,ez,await navigator.mediaDevices.getUserMedia(e)),em(this,eT).srcObject=em(this,ez),eg(this,eD,eP).call(this,"pan",this.pan),eg(this,eD,eP).call(this,"tilt",this.tilt),eg(this,eD,eP).call(this,"zoom",this.zoom);let t=this.getTrackSettings();t?.facingMode&&(em(this,eN).hidden=!1)}catch(e){this.dispatchEvent(new CustomEvent(`${eE}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}finally{this.removeAttribute("loading")}}async capture(){if(!this.loading)try{let e=em(this,eC).getContext("2d"),t=em(this,eT).videoWidth,i=em(this,eT).videoHeight;em(this,eC).width=t,em(this,eC).height=i,e.drawImage(em(this,eT),0,0,t,i);let s=em(this,eC).toDataURL("image/png");if("string"==typeof s&&s.includes("data:image")){if(!this.noImage){let e=new Image;e.src=s,e.width=t,e.height=i,e.part="output-image",eg(this,eB,eV).call(this),em(this,eS)?.appendChild(e)}let e={dataURI:s,width:t,height:i};if(this.calculateFileSize)try{let t=await fetch(s),i=(await t.blob()).size;i&&(e.size=i)}catch(e){}this.dispatchEvent(new CustomEvent(`${eE}:success`,{bubbles:!0,composed:!0,detail:e}))}}catch(e){this.dispatchEvent(new CustomEvent(`${eE}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}}getSupportedConstraints(){return eH.isSupported()&&navigator.mediaDevices.getSupportedConstraints()||{}}getTrackCapabilities(){if(!em(this,ez))return{};let[e]=em(this,ez).getVideoTracks();return e&&"function"==typeof e.getCapabilities&&e.getCapabilities()||{}}getTrackSettings(){if(!em(this,ez))return{};let[e]=em(this,ez).getVideoTracks();return e&&"function"==typeof e.getSettings&&e.getSettings()||{}}constructor(){super(),ew(this,eB),ew(this,eD),ew(this,e_),ew(this,e$),ew(this,eq),ef(this,eA,{writable:!0,value:void 0}),ef(this,ex,{writable:!0,value:void 0}),ef(this,ez,{writable:!0,value:void 0}),ef(this,eC,{writable:!0,value:void 0}),ef(this,eS,{writable:!0,value:void 0}),ef(this,eT,{writable:!0,value:void 0}),ef(this,eL,{writable:!0,value:void 0}),ef(this,eM,{writable:!0,value:void 0}),ef(this,eN,{writable:!0,value:void 0}),ef(this,eR,{writable:!0,value:void 0}),ef(this,eF,{writable:!0,value:e=>{e.preventDefault(),this.loading||(this.facingMode="user"!==this.facingMode&&this.facingMode?"user":"environment")}}),ef(this,eO,{writable:!0,value:e=>{e.preventDefault(),this.capture()}}),ef(this,ej,{writable:!0,value:e=>{let t=e.target;t.play().then(()=>{this.dispatchEvent(new CustomEvent(`${eE}:video-play`,{bubbles:!0,composed:!0,detail:{video:t}}))}).catch(e=>{this.dispatchEvent(new CustomEvent(`${eE}:error`,{bubbles:!0,composed:!0,detail:{error:e}}))}).finally(()=>{this.removeAttribute("loading")})}}),ef(this,eI,{writable:!0,value:e=>{"capture-button"===e.target?.name&&(em(this,eM)?.removeEventListener("click",em(this,eO)),ev(this,eM,eg(this,e$,eK).call(this)),em(this,eM)&&(em(this,eM).addEventListener("click",em(this,eO)),"BUTTON"===em(this,eM).nodeName||em(this,eM).hasAttribute("role")||em(this,eM).setAttribute("role","button")))}}),ef(this,eW,{writable:!0,value:e=>{"facing-mode-button"===e.target?.name&&(em(this,eR)?.removeEventListener("click",em(this,eF)),ev(this,eR,eg(this,e_,eU).call(this)),em(this,eR)&&(em(this,eR).addEventListener("click",em(this,eF)),"BUTTON"===em(this,eR).nodeName||em(this,eR).hasAttribute("role")||em(this,eR).setAttribute("role","button")))}}),ev(this,eA,!1),ev(this,ex,this.getSupportedConstraints()),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ek.content.cloneNode(!0)))}}function eV(){em(this,eS)&&Array.from(em(this,eS).childNodes).forEach(e=>e.remove())}function eP(e,t){if(!em(this,ez)||!e||!t)return;let[i]=em(this,ez).getVideoTracks(),s=this.getTrackCapabilities(),a=this.getTrackSettings();a?.[e]&&i.applyConstraints({advanced:[{[e]:ey(Number(t),s?.[e]?.min,s?.[e]?.max)}]})}function eU(){return em(this,eN)?em(this,eN).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"facing-mode-button"===e.getAttribute("slot")):null}function eK(){return em(this,eL)?em(this,eL).assignedElements({flatten:!0}).find(e=>"BUTTON"===e.nodeName||"capture-button"===e.getAttribute("slot")):null}function eZ(e){if(Object.prototype.hasOwnProperty.call(this,e)){let t=this[e];delete this[e],this[e]=t}}function eG(e){return new Promise(function(t,i){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return i(e.error)}})}function eX(){if(!s){var e,t,i;e="keyval",(t=indexedDB.open("keyval-store")).onupgradeneeded=function(){return t.result.createObjectStore(e)},i=eG(t),s=function(t,s){return i.then(function(i){return s(i.transaction(e,t).objectStore(e))})}}return s}const eY="barcode-scanner/",eJ="settings",eQ="history",e0=async e=>{try{return{value:await function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eX();return t("readonly",function(t){return eG(t.get(e))})}(e),error:void 0}}catch(e){return{value:void 0,error:e}}},e1=async(e,t)=>{try{return await function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eX();return i("readwrite",function(i){return i.put(t,e),eG(i.transaction)})}(e,t),{error:void 0}}catch(e){return{error:e}}},e5=async()=>e0(eY+eJ),e2=async e=>e1(eY+eJ,e),e3=async()=>e0(eY+eQ),e6=async e=>e1(eY+eQ,e),e4=document.getElementById("toastContainer"),e8=e=>{let t=e.currentTarget;t.removeEventListener("click",e8),e4.removeChild(t.parentNode)},e9=(e="",t="info")=>{["info","warning","danger"].includes(t)||(t="info");let i=`
    ${e}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  `,s=document.createElement("div");s.className=`alert alert-${t} alert-dismissible text-break`,s.innerHTML=i,s.querySelector("button").addEventListener("click",e8),e4.appendChild(s),setTimeout(()=>s.classList.add("show"),100)};!async function(){let e;let t="No barcode detected",i=document.querySelector("capture-photo"),s=document.getElementById("cameraResults"),a=document.getElementById("fileResults"),o=document.getElementById("scanInstructions"),n=document.getElementById("scanBtn"),l=document.getElementById("scanMethod"),d=document.getElementById("dropzone"),h=document.getElementById("cameraView"),c=document.getElementById("fileView"),u=document.querySelector("resize-observer"),p=document.getElementById("scanFrame"),m=document.getElementById("globalActions"),b=document.getElementById("historyBtn"),f=document.getElementById("historyDialog"),v=document.getElementById("historyList"),g=document.getElementById("deleteHistoryBtn"),w=document.getElementById("settingsBtn"),y=document.getElementById("settingsDialog"),E=document.forms["settings-form"],k=document.getElementById("supportedFormats"),A=!0;if(!("BarcodeDetector"in window))try{window.BarcodeDetector=(await r("4RDRm")).default}catch(e){return h.hidden=!0,c.hidden=!0,l.hidden=!0,m.hidden=!0,e9("BarcodeDetector API is not supported by your browser.","danger")}U()||document.querySelectorAll("web-share").forEach(e=>{e.hidden=!0,e.disabled=!0});let{value:x=[]}=await e3();M(x),i.addEventListener("capture-photo:video-play",e=>{p.hidden=!1,j(e.detail.video),W();let t=i.getTrackSettings(),s=i.getTrackCapabilities(),a=document.getElementById("zoomLevel");if(t?.zoom&&s?.zoom){let e=document.getElementById("zoomControls"),o=s?.zoom?.min||0,n=s?.zoom?.max||10,r=t?.zoom||1;e.hidden=!1,a.textContent=r,e.addEventListener("click",e=>{let t=e.target.closest('[data-action="zoom-in"]'),s=e.target.closest('[data-action="zoom-out"]');t&&r<n&&(r+=.5),s&&r>o&&(r-=.5),a.textContent=r,i.zoom=r})}},{once:!0}),i.addEventListener("capture-photo:error",e=>{h.hidden=!0,c.hidden=!1,l.hidden=!0;let t=e.detail.error;if("NotFoundError"===t.name)return;let i="NotAllowedError"===t.name?"Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.":t.message;e9(i,"danger")},{once:!0}),eH.defineCustomElement(),d.accept="image/jpg,image/jpeg,image/png,image/apng,image/gif,image/webp,image/avif";let z=i.shadowRoot.querySelector("video"),C=await window.BarcodeDetector.getSupportedFormats(),S=new window.BarcodeDetector({formats:C}),{value:T={}}=await e5();Object.entries(T).forEach(([e,t])=>{let i=E.querySelector(`[name="${e}"]`);i&&(i.checked=t)}),Array.isArray(C)&&C.length>0&&(k.textContent=`Supported formats: ${C.join(", ")}`);let L=(()=>{let e=new(window.AudioContext||window.webkitAudioContext||window.audioContext);if(e)return async(t,i,s,a,o)=>{let{value:n}=await e5();if(!n?.beep)return;let r=e.createOscillator(),l=e.createGain();r.connect(l),l.connect(e.destination),s&&(l.gain.value=s),i&&(r.frequency.value=i),a&&(r.type=a),"function"==typeof o&&(r.onended=o),r.start(e.currentTime),r.stop(e.currentTime+(t||500)/1e3)}})();function M(e){v.innerHTML="",Array.isArray(e)&&e.length?(g.style.display="block",e.forEach(e=>{let t;let i=document.createElement("li");i.setAttribute("data-value",e);try{new URL(e),(t=document.createElement("a")).href=e,t.setAttribute("target","_blank"),t.setAttribute("rel","noreferrer noopener")}catch(e){t=document.createElement("span")}t.textContent=e,t.setAttribute("title",e);let s=document.createElement("div");s.className="history-modal__actions";let a=document.createElement("clipboard-copy");a.title="Copy to clipboard",a.feedbackDuration=1500,a.innerHTML=`
          <span slot="copy">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
              <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
              <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
            </svg>
          </span>
          <span slot="success">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
              <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
              <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
            </svg>
          </span>
        `,a.setAttribute("value",e),s.appendChild(a);let o=document.createElement("button");o.type="button",o.className="history-modal__delete-action",o.title="Remove from history",o.setAttribute("data-action","delete"),o.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
            <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z"/>
          </svg>
        `,s.appendChild(o),i.appendChild(t),i.appendChild(s),v.appendChild(i)})):(v.innerHTML="<li class=>There are no saved items in history.</li>",g.style.display="none")}async function N(e){let{value:t}=await e5();if(!e||!t?.addToHistory)return;let{value:i=[],error:s}=await e3();if(!s&&!i.find(t=>t===e)){let t=[...i,e],{error:s}=await e6(t);s||M(t)}}async function R(e){if(!e)return;let{value:t=[],error:i}=await e3();if(!i){let i=t.filter(t=>t!==e),{error:s}=await e6(i);s||M(i)}}async function F(){let{error:e}=await e6([]);e||M([])}async function O(e=100){let{value:t}=await e5();if("function"==typeof window.navigator.vibrate&&t?.vibrate)try{window.navigator.vibrate(e)}catch{}}function j(e){if(!e)return;let t=e.getBoundingClientRect();p.style.cssText=`width: ${t.width}px; height: ${t.height}px`}function B(e){e?.querySelector(".results__item")?.remove()}async function D(e,i){let s;if(!e||!i)return;B(i);try{let{value:t}=await e5();new URL(e),(s=document.createElement("a")).href=e,t?.openWebPageSameTab||(s.setAttribute("target","_blank"),s.setAttribute("rel","noreferrer noopener")),t?.openWebPage&&s.click()}catch(e){s=document.createElement("span")}s.className="results__item",s.classList.toggle("results__item--no-barcode",e===t),s.textContent=e,i.insertBefore(s,i.querySelector(".results__actions"));let a=i.querySelector("clipboard-copy"),o=i.querySelector("web-share"),n=e!==t;a&&(a.disabled=!n,a.hidden=!n),o&&U()&&(o.disabled=!n,o.hidden=!n,n?o.setAttribute("share-text",e):o.removeAttribute("share-text")),i.show()}function I(e){return new Promise((t,i)=>{S.detect(e).then(e=>{Array.isArray(e)&&e.length>0?t(e[0]):i({message:"Could not detect barcode from provided source."})}).catch(e=>{i(e)})})}async function W(){o.hidden=!1;try{let t={};t=await I(z),window.cancelAnimationFrame(e),B(s),D(t.rawValue,s),N(t.rawValue),o.hidden=!0,n.hidden=!1,p.hidden=!0,L(200,860,.03,"square"),O();return}catch(e){}A&&(e=window.requestAnimationFrame(()=>W()))}n.addEventListener("click",()=>{n.hidden=!0,p.hidden=!1,B(s),s.close(),W()}),l.addEventListener("change",e=>{let t=e.target.value;[h,c].forEach(e=>{e.hidden=e.id!==t}),"cameraView"!==t||(A=!0,h.hidden||i.loading||s.querySelector(".results__item")||W()),"fileView"===t&&(A=!1)}),d.addEventListener("files-dropzone-drop",e=>{!function(e){if(!e)return;let i=new Image,s=new FileReader;s.onload=s=>{let o=s.target.result;i.onload=async()=>{try{let e=await I(i);B(a),D(e.rawValue,a),N(e.rawValue),L(200,860,.03,"square"),O()}catch(e){B(a),D(t,a)}},i.src=o,d.replaceChildren();let n=document.createElement("div");n.className="dropzone-preview";let r=document.createElement("div");r.className="dropzone-preview__image-wrapper";let l=document.createElement("div");l.className="dropzone-preview__file-name",l.textContent=e.name,r.appendChild(i),n.appendChild(r),n.appendChild(l),d.prepend(n)},s.readAsDataURL(e)}(e.detail.acceptedFiles[0])}),u.addEventListener("resize-observer:resize",()=>{j(i.shadowRoot.querySelector("video"))}),w.addEventListener("click",()=>{y.showModal()}),b.addEventListener("click",()=>{f.showModal()}),f.addEventListener("click",e=>{e.target===e.currentTarget&&f.close()}),y.addEventListener("click",e=>{e.target===e.currentTarget&&y.close()}),E.addEventListener("change",e=>{let t={},i=e.currentTarget.querySelectorAll('input[type="checkbox"]');i.forEach(e=>t[e.name]=e.checked),e2(t)}),v.addEventListener("click",e=>{let t=e.target;t.closest('[data-action="delete"]')&&window.confirm("Delete item from history?")&&R(t.closest("li").dataset.value)}),g.addEventListener("click",()=>{window.confirm("Are you sure you want to empty history?")&&F()})}();
//# sourceMappingURL=index.5f208d33.js.map

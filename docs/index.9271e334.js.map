{"mappings":"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","sources":["node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/clipboard-copy-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b712a39d37b65cb3.js","node_modules/@parcel/runtime-js/lib/runtime-48e58fadf08ca53f.js","node_modules/@georapbox/clipboard-copy-element/dist/src/clipboard-copy.js","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/web-share-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@georapbox/clipboard-copy-element/dist/src/clipboard-copy-defined.js","node_modules/@georapbox/web-share-element/dist/src/web-share.js","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/web-share-element/dist/src/is-web-share-supported.js","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/resize-observer-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@georapbox/web-share-element/dist/src/web-share-defined.js","node_modules/@georapbox/resize-observer-element/dist/src/resize-observer.js","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_init.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_field_set.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_apply_descriptor_set.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_method_get.mjs","node_modules/@georapbox/capture-photo-element/dist/node_modules/@swc/helpers/src/_class_private_method_init.mjs","node_modules/@georapbox/resize-observer-element/dist/src/resize-observer-defined.js","node_modules/@georapbox/capture-photo-element/dist/src/utils/clamp.js","node_modules/@georapbox/capture-photo-element/dist/src/capture-photo.js","node_modules/idb-keyval/dist/compat.js","src/js/services/storage.js","src/js/toast-alert.js","src/js/index.js"],"sourcesContent":["export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","module.exports = (__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"kNnD0\"))).then(() => parcelRequire('liRO9'));","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"eq2Ey\\\":\\\"index.9271e334.js\\\",\\\"kNnD0\\\":\\\"barcode-detector.module.08f05a63.js\\\"}\"));","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <slot name=\"button\"><button type=\"button\" part=\"button\"><slot name=\"button-content\">Copy</slot></button></slot>\n`;\n\nclass ClipboardCopy extends HTMLElement {\n  #buttonSlot;\n  #buttonEl;\n\n  constructor() {\n    super();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n\n    this.#buttonSlot = this.shadowRoot.querySelector('slot[name=\"button\"]');\n    this.#buttonEl = this.#getButton();\n  }\n\n  static get observedAttributes() {\n    return ['disabled'];\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('value');\n    this.#upgradeProperty('from');\n    this.#upgradeProperty('disabled');\n\n    this.#buttonSlot && this.#buttonSlot.addEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.addEventListener('click', this.#onClick);\n  }\n\n  disconnectedCallback() {\n    this.#buttonSlot.removeEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n  }\n\n  attributeChangedCallback(name) {\n    if (name === 'disabled' && this.#buttonEl) {\n      this.#buttonEl.disabled = this.disabled;\n      this.#buttonEl.setAttribute('aria-disabled', this.disabled);\n\n      if (this.#buttonEl.part && this.#buttonEl.part.contains('button')) {\n        this.#buttonEl.part.toggle('button--disabled', this.disabled);\n      }\n    }\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n  }\n\n  get value() {\n    return this.getAttribute('value');\n  }\n\n  set value(value) {\n    this.setAttribute('value', value);\n  }\n\n  get from() {\n    return this.getAttribute('from');\n  }\n\n  set from(value) {\n    this.setAttribute('from', value);\n  }\n\n  async #copy() {\n    if (!this.value && !this.from) {\n      return;\n    }\n\n    try {\n      let copyValue = '';\n\n      if (this.value) {\n        copyValue = this.value;\n      } else if (this.from) {\n        const root = 'getRootNode' in Element.prototype ? this.#buttonEl.getRootNode({ composed: true }) : this.#buttonEl.ownerDocument;\n        const element = root.querySelector(this.from);\n\n        if (!element) {\n          return;\n        }\n\n        if (element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement) {\n          copyValue = element.value;\n        } else if (element instanceof HTMLAnchorElement && element.hasAttribute('href')) {\n          copyValue = element.href;\n        } else {\n          copyValue = element.textContent;\n        }\n      }\n\n      await navigator.clipboard.writeText(copyValue);\n\n      this.dispatchEvent(new CustomEvent('clipboard-copy:success', {\n        bubbles: true,\n        composed: true,\n        detail: { value: copyValue }\n      }));\n    } catch (error) {\n      this.dispatchEvent(new CustomEvent('clipboard-copy:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }\n  }\n\n  #getButton() {\n    if (!this.#buttonSlot) {\n      return null;\n    }\n\n    return this.#buttonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'button';\n    });\n  }\n\n  #onClick = evt => {\n    evt.preventDefault();\n\n    if (this.disabled) {\n      return;\n    }\n\n    this.dispatchEvent(new Event('clipboard-copy:click', {\n      bubbles: true,\n      composed: true\n    }));\n\n    this.#copy();\n  };\n\n  #onSlotChange = evt => {\n    if (evt.target && evt.target.name === 'button') {\n      this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n      this.#buttonEl = this.#getButton();\n\n      if (this.#buttonEl) {\n        this.#buttonEl.addEventListener('click', this.#onClick);\n\n        if (this.#buttonEl.nodeName !== 'BUTTON' && !this.#buttonEl.hasAttribute('role')) {\n          this.#buttonEl.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  /**\n   * https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n   * This is to safe guard against cases where, for instance, a framework\n   * may have added the element to the page and set a value on one of its\n   * properties, but lazy loaded its definition. Without this guard, the\n   * upgraded element would miss that property and the instance property\n   * would prevent the class property setter from ever being called.\n   */\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static defineCustomElement(elementName = 'clipboard-copy') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, ClipboardCopy);\n    }\n  }\n}\n\nexport { ClipboardCopy };\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","import { ClipboardCopy } from './clipboard-copy.js';\n\nClipboardCopy.defineCustomElement();\n\nexport { ClipboardCopy };\n","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <slot name=\"button\"><button type=\"button\" part=\"button\"><slot name=\"button-content\">Share</slot></button></slot>\n`;\n\nclass WebShare extends HTMLElement {\n  #buttonSlot;\n  #buttonEl;\n  #files = null;\n\n  constructor() {\n    super();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n\n    this.#buttonSlot = this.shadowRoot.querySelector('slot[name=\"button\"]');\n    this.#buttonEl = this.#getButton();\n  }\n\n  static get observedAttributes() {\n    return ['disabled'];\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('shareUrl');\n    this.#upgradeProperty('shareTitle');\n    this.#upgradeProperty('shareText');\n    this.#upgradeProperty('shareFiles');\n    this.#upgradeProperty('disabled');\n\n    this.#buttonSlot && this.#buttonSlot.addEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.addEventListener('click', this.#onClick);\n  }\n\n  disconnectedCallback() {\n    this.#buttonSlot && this.#buttonSlot.removeEventListener('slotchange', this.#onSlotChange);\n    this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n  }\n\n  attributeChangedCallback(name) {\n    if (name === 'disabled' && this.#buttonEl) {\n      this.#buttonEl.disabled = this.disabled;\n      this.#buttonEl.setAttribute('aria-disabled', this.disabled);\n\n      if (this.#buttonEl.part && this.#buttonEl.part.contains('button')) {\n        this.#buttonEl.part.toggle('button--disabled', this.disabled);\n      }\n    }\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n  }\n\n  get shareUrl() {\n    return this.getAttribute('share-url');\n  }\n\n  set shareUrl(value) {\n    this.setAttribute('share-url', value);\n  }\n\n  get shareTitle() {\n    return this.getAttribute('share-title');\n  }\n\n  set shareTitle(value) {\n    this.setAttribute('share-title', value);\n  }\n\n  get shareText() {\n    return this.getAttribute('share-text');\n  }\n\n  set shareText(value) {\n    this.setAttribute('share-text', value);\n  }\n\n  get shareFiles() {\n    return this.#files;\n  }\n\n  set shareFiles(value) {\n    this.#files = value;\n  }\n\n  async share() {\n    if (this.disabled) {\n      return;\n    }\n\n    try {\n      const shareData = {};\n\n      if (this.shareUrl) {\n        shareData.url = this.shareUrl;\n      }\n\n      if (this.shareTitle) {\n        shareData.title = this.shareTitle;\n      }\n\n      if (this.shareText) {\n        shareData.text = this.shareText;\n      }\n\n      if (\n        Array.isArray(this.shareFiles)\n        && this.shareFiles.length > 0\n        && navigator.canShare\n        && navigator.canShare({ files: this.shareFiles })\n      ) {\n        shareData.files = this.shareFiles;\n      }\n\n      await navigator.share(shareData);\n\n      this.dispatchEvent(new CustomEvent('web-share:success', {\n        bubbles: true,\n        composed: true,\n        detail: { shareData }\n      }));\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        return this.dispatchEvent(new Event('web-share:abort', {\n          bubbles: true,\n          composed: true\n        }));\n      }\n\n      this.dispatchEvent(new CustomEvent('web-share:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }\n  }\n\n  #onClick = evt => {\n    evt.preventDefault();\n\n    if (this.disabled) {\n      return;\n    }\n\n    this.dispatchEvent(new Event('web-share:click', {\n      bubbles: true,\n      composed: true\n    }));\n\n    this.share();\n  };\n\n  #onSlotChange = evt => {\n    if (evt.target && evt.target.name === 'button') {\n      this.#buttonEl && this.#buttonEl.removeEventListener('click', this.#onClick);\n      this.#buttonEl = this.#getButton();\n\n      if (this.#buttonEl) {\n        this.#buttonEl.addEventListener('click', this.#onClick);\n\n        if (this.#buttonEl.nodeName !== 'BUTTON' && !this.#buttonEl.hasAttribute('role')) {\n          this.#buttonEl.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  #getButton() {\n    if (!this.#buttonSlot) {\n      return null;\n    }\n\n    return this.#buttonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'button';\n    });\n  }\n\n  /**\n   * https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n   * This is to safe guard against cases where, for instance, a framework\n   * may have added the element to the page and set a value on one of its\n   * properties, but lazy loaded its definition. Without this guard, the\n   * upgraded element would miss that property and the instance property\n   * would prevent the class property setter from ever being called.\n   */\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static defineCustomElement(elementName = 'web-share') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, WebShare);\n    }\n  }\n}\n\nexport { WebShare };\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","/**\n * Check if Web Share API is supported by the platform.\n *\n * @param {Object} [options={}]\n * @param {Boolean} [options.files] Optional. An array of Files in order to check if files can be shared.\n * @returns {Boolean} Returns `true` if Web Share API is supported; otherwise `false`.\n */\nfunction isWebShareSupported(options = {}) {\n  const defaults = { files: null };\n  options = { ...defaults, ...options };\n\n  if (Array.isArray(options.files)) {\n    return 'share' in navigator && 'canShare' in navigator && navigator.canShare(options.files);\n  }\n\n  return 'share' in navigator;\n}\n\nexport { isWebShareSupported };\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","import { WebShare } from './web-share.js';\n\nWebShare.defineCustomElement();\n\nexport { WebShare };\n","const template = document.createElement('template');\n\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <style>:host { display: contents; }</style>\n  <slot></slot>\n`;\n\nclass ResizeObserverElement extends HTMLElement {\n  #slotEl;\n  #resizeObserver;\n  #observedElements;\n\n  constructor() {\n    super();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n\n    this.#slotEl = this.shadowRoot.querySelector('slot');\n    this.#resizeObserver = null;\n    this.#observedElements = [];\n  }\n\n  static get observedAttributes() {\n    return ['disabled'];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'disabled' && oldValue !== newValue) {\n      this.disabled ? this.#stopObserver() : this.#startObserver();\n    }\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('disabled');\n\n    if ('ResizeObserver' in window) {\n      this.#resizeObserver = new ResizeObserver(entries => {\n        this.dispatchEvent(new CustomEvent('resize-observer:resize', {\n          bubbles: true,\n          composed: true,\n          detail: { entries }\n        }));\n      });\n\n      if (!this.disabled) {\n        this.#startObserver();\n      }\n\n      this.#slotEl.addEventListener('slotchange', this.#onSlotChange);\n    }\n  }\n\n  disconnectedCallback() {\n    this.#stopObserver();\n    this.#slotEl.removeEventListener('slotchange', this.#onSlotChange);\n  }\n\n  get disabled() {\n    return this.hasAttribute('disabled');\n  }\n\n  set disabled(value) {\n    if (value) {\n      this.setAttribute('disabled', '');\n    } else {\n      this.removeAttribute('disabled');\n    }\n  }\n\n  #startObserver() {\n    if (!this.#slotEl || !this.#resizeObserver) {\n      return;\n    }\n\n    this.#observedElements.forEach(el => this.#resizeObserver.unobserve(el));\n    this.#observedElements = [];\n\n    this.#slotEl.assignedElements().forEach(el => {\n      this.#resizeObserver.observe(el);\n      this.#observedElements.push(el);\n    });\n  }\n\n  #stopObserver() {\n    this.#resizeObserver && this.#resizeObserver.disconnect();\n  }\n\n  #onSlotChange = () => {\n    if (!this.disabled) {\n      this.#startObserver();\n    }\n  };\n\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static defineCustomElement(elementName = 'resize-observer') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, ResizeObserverElement);\n    }\n  }\n}\n\nexport { ResizeObserverElement };\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorSet from './_class_apply_descriptor_set.mjs';\n\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}\n","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      // This should only throw in strict mode, but class bodies are\n      // always strict and private fields can only be used inside\n      // class bodies.\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateMethodInit(obj, privateSet) {\n  _checkPrivateRedeclaration(obj, privateSet);\n  privateSet.add(obj);\n}\n","import { ResizeObserverElement } from './resize-observer.js';\n\nResizeObserverElement.defineCustomElement();\n\nexport { ResizeObserverElement };\n","/**\n * Clamps number within the inclusive `min` and `max` bounds,\n * making sure it does not go beyond them on either side.\n * If `min` is greater than `max` the parameters are swapped to support inverted ranges.\n *\n * @param {Number} value The number to clamp.\n * @param {Number} min The lower bound.\n * @param {Number} max The upper bound.\n * @throws {TypeError} If one or more of the arguments passed is not a number.\n * @returns {Number} The clamped number.\n * @example\n *\n * clamp(10, -5, 5);\n * // => 5\n *\n * clamp(-10, -5, 5);\n * // => -5\n *\n * clamp(-15, 0, 100);\n * // => 0\n *\n * clamp(120, 0, 100);\n * // => 100\n *\n * clamp(-5, NaN, 5); // If any of lower or upper bound are `NaN`, they will be converted to `0`.\n * // => 0\n *\n * clamp(120, 100, 0); // The order of lower and upper bounds is reversed (100 > 0)\n * // => 100\n */\nexport const clamp = (value, lower, upper) => {\n  if (Number.isNaN(lower)) {\n    lower = 0;\n  }\n\n  if (Number.isNaN(upper)) {\n    upper = 0;\n  }\n\n  return Math.min(Math.max(value, Math.min(lower, upper)), Math.max(lower, upper));\n};\n","import { clamp } from './utils/clamp.js';\n\nconst template = document.createElement('template');\nconst html = String.raw;\n\ntemplate.innerHTML = html`\n  <style>\n    :host { all: initial; display: block; box-sizing: border-box; }\n    :host *, :host *::before, :host *::after { box-sizing: inherit; }\n    :host([hidden]), [hidden] { display: none; }\n    :host video { display: block; }\n    :host #output:empty { display: none; }\n  </style>\n  <video part=\"video\" playsinline></video>\n  <canvas hidden></canvas>\n  <div part=\"actions-container\">\n    <slot name=\"capture-button\">\n      <button part=\"capture-button\" type=\"button\">\n        <slot name=\"capture-button-content\">Capture photo</slot>\n      </button>\n    </slot>\n    <slot name=\"facing-mode-button\" hidden>\n      <button part=\"facing-mode-button\" type=\"button\">\n        <slot name=\"facing-mode-button-content\">Toggle facing mode</slot>\n      </button>\n    </slot>\n    <slot name=\"actions\"></slot>\n  </div>\n  <slot></slot>\n  <div part=\"output-container\" id=\"output\"></div>\n`;\n\nclass CapturePhoto extends HTMLElement {\n  #connected;\n  #supportedConstraints;\n  #stream;\n  #canvasElement;\n  #outputElement;\n  #videoElement;\n  #captureButtonSlot;\n  #captureButton;\n  #facingModeButtonSlot;\n  #facingModeButton;\n\n  constructor() {\n    super();\n\n    this.#connected = false;\n    this.#supportedConstraints = this.getSupportedConstraints();\n\n    if (!this.shadowRoot) {\n      this.attachShadow({ mode: 'open' });\n      this.shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n  }\n\n  connectedCallback() {\n    this.#upgradeProperty('noImage');\n    this.#upgradeProperty('facingMode');\n    this.#upgradeProperty('cameraResolution');\n    this.#upgradeProperty('pan');\n    this.#upgradeProperty('tilt');\n    this.#upgradeProperty('zoom');\n\n    this.#connected = true;\n    this.#canvasElement = this.shadowRoot.querySelector('canvas');\n    this.#outputElement = this.shadowRoot.getElementById('output');\n    this.#videoElement = this.shadowRoot.querySelector('video');\n    this.#captureButtonSlot = this.shadowRoot.querySelector('slot[name=\"capture-button\"]');\n    this.#captureButton = this.#getCaptureButton();\n    this.#facingModeButtonSlot = this.shadowRoot.querySelector('slot[name=\"facing-mode-button\"]');\n    this.#facingModeButton = this.#getFacingModeButton();\n\n    this.#videoElement?.addEventListener('loadedmetadata', this.#onVideoLoadedMetaData);\n    this.#captureButtonSlot?.addEventListener('slotchange', this.#onCaptureButtonSlotChange);\n    this.#captureButton?.addEventListener('click', this.#onCapturePhotoButtonClick);\n    this.#facingModeButtonSlot?.addEventListener('slotchange', this.#onFacingModeButtonSlotChange);\n    this.#facingModeButton?.addEventListener('click', this.#onFacingModeButtonClick);\n\n    if (!CapturePhoto.isSupported()) {\n      return this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: {\n          error: {\n            name: 'NotSupportedError',\n            message: 'Not supported'\n          }\n        }\n      }));\n    }\n\n    this.#requestGetUserMedia();\n  }\n\n  disconnectedCallback() {\n    this.#stopVideoStreaming();\n    this.#facingModeButton?.removeEventListener('click', this.#onFacingModeButtonClick);\n    this.#captureButton?.removeEventListener('click', this.#onCapturePhotoButtonClick);\n    this.#videoElement?.removeEventListener('canplay', this.#onVideoLoadedMetaData);\n    this.#captureButtonSlot?.removeEventListener('slotchange', this.#onCaptureButtonSlotChange);\n    this.#facingModeButtonSlot?.removeEventListener('slotchange', this.#onFacingModeButtonSlotChange);\n  }\n\n  static get observedAttributes() {\n    return ['no-image', 'facing-mode', 'camera-resolution', 'pan', 'tilt', 'zoom'];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (!this.#connected) {\n      return;\n    }\n\n    const trackCapabilities = this.getTrackCapabilities();\n    const trackSettings = this.getTrackSettings();\n\n    if (name === 'no-image' && oldValue !== newValue) {\n      this.#emptyOutputElement();\n    }\n\n    if (name === 'facing-mode' && oldValue !== newValue && this.#supportedConstraints?.facingMode) {\n      const isValidFacingMode = ['user', 'environment'].includes(this.facingMode);\n\n      if (trackSettings?.facingMode && isValidFacingMode) {\n        this.#stopVideoStreaming();\n        this.#requestGetUserMedia();\n      }\n    }\n\n    if (name === 'camera-resolution' && oldValue !== newValue) {\n      const [width, height] = this.cameraResolution.split('x').map(x => Number(x));\n      const widthInAllowedRange = width >= trackCapabilities?.width?.min && width <= trackCapabilities?.width?.max;\n      const heightInAllowedRange = height >= trackCapabilities?.height?.min && height <= trackCapabilities?.height?.max;\n\n      if (trackSettings?.width && trackSettings?.height && widthInAllowedRange && heightInAllowedRange) {\n        this.#stopVideoStreaming();\n        this.#requestGetUserMedia();\n      }\n    }\n\n    if (name === 'pan' && oldValue !== newValue && this.#supportedConstraints?.pan) {\n      const panInAllowedRange = this.pan >= trackCapabilities?.pan?.min && this.pan <= trackCapabilities?.pan?.max;\n\n      if (trackSettings?.pan && panInAllowedRange) {\n        this.#applyPTZ('pan', this.pan);\n      }\n    }\n\n    if (name === 'tilt' && oldValue !== newValue && this.#supportedConstraints?.tilt) {\n      const tiltInAllowedRange = this.tilt >= trackCapabilities?.tilt?.min && this.tilt <= trackCapabilities?.tilt?.max;\n\n      if (trackSettings?.tilt && tiltInAllowedRange) {\n        this.#applyPTZ('tilt', this.tilt);\n      }\n    }\n\n    if (name === 'zoom' && oldValue !== newValue && this.#supportedConstraints?.zoom) {\n      const zoomInAllowedRange = this.zoom >= trackCapabilities?.zoom?.min && this.zoom <= trackCapabilities?.zoom?.max;\n\n      if (trackSettings?.zoom && zoomInAllowedRange) {\n        this.#applyPTZ('zoom', this.zoom);\n      }\n    }\n  }\n\n  get noImage() {\n    return this.hasAttribute('no-image');\n  }\n\n  set noImage(value) {\n    if (value) {\n      this.setAttribute('no-image', '');\n    } else {\n      this.removeAttribute('no-image');\n    }\n  }\n\n  get facingMode() {\n    return this.getAttribute('facing-mode');\n  }\n\n  set facingMode(value) {\n    this.setAttribute('facing-mode', value);\n  }\n\n  get cameraResolution() {\n    return this.getAttribute('camera-resolution');\n  }\n\n  set cameraResolution(value) {\n    this.setAttribute('camera-resolution', value);\n  }\n\n  get pan() {\n    return Number(this.getAttribute('pan')) || null;\n  }\n\n  set pan(value) {\n    this.setAttribute('pan', Number(value) || null);\n  }\n\n  get tilt() {\n    return Number(this.getAttribute('tilt')) || null;\n  }\n\n  set tilt(value) {\n    this.setAttribute('tilt', Number(value) || null);\n  }\n\n  get zoom() {\n    return Number(this.getAttribute('zoom')) || null;\n  }\n\n  set zoom(value) {\n    this.setAttribute('zoom', Number(value) || null);\n  }\n\n  get loading() {\n    return this.hasAttribute('loading');\n  }\n\n  #stopVideoStreaming() {\n    if (!this.#videoElement || !this.#stream) {\n      return;\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n\n    track?.stop();\n    this.#videoElement.srcObject = null;\n    this.#stream = null;\n  }\n\n  async #requestGetUserMedia() {\n    if (!CapturePhoto.isSupported()) {\n      return;\n    }\n\n    this.setAttribute('loading', '');\n\n    const constraints = {\n      video: {\n        facingMode: {\n          ideal: this.facingMode || 'user'\n        },\n        pan: true,\n        tilt: true,\n        zoom: true\n      },\n      audio: false\n    };\n\n    if (typeof this.cameraResolution === 'string') {\n      const [width, height] = this.cameraResolution.split('x').map(x => Number(x));\n\n      constraints.video.width = width;\n      constraints.video.height = height;\n    }\n\n    try {\n      this.#stream = await navigator.mediaDevices.getUserMedia(constraints);\n      this.#videoElement.srcObject = this.#stream;\n      this.#applyPTZ('pan', this.pan);\n      this.#applyPTZ('tilt', this.tilt);\n      this.#applyPTZ('zoom', this.zoom);\n\n      const trackSettings = this.getTrackSettings();\n\n      if (trackSettings?.facingMode) {\n        this.#facingModeButtonSlot.hidden = false;\n      }\n    } catch (error) {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    } finally {\n      this.removeAttribute('loading');\n    }\n  }\n\n  capture() {\n    if (this.loading) {\n      return;\n    }\n\n    try {\n      const ctx = this.#canvasElement.getContext('2d');\n      const width = this.#videoElement.videoWidth;\n      const height = this.#videoElement.videoHeight;\n      this.#canvasElement.width = width;\n      this.#canvasElement.height = height;\n      ctx.drawImage(this.#videoElement, 0, 0, width, height);\n      const dataURI = this.#canvasElement.toDataURL('image/png');\n\n      if (typeof dataURI === 'string' && dataURI.includes('data:image')) {\n        if (!this.noImage) {\n          const image = new Image();\n          image.src = dataURI;\n          image.width = width;\n          image.height = height;\n          image.part = 'output-image';\n          this.#emptyOutputElement();\n          this.#outputElement?.appendChild(image);\n        }\n\n        this.dispatchEvent(new CustomEvent('capture-photo:success', {\n          bubbles: true,\n          composed: true,\n          detail: { dataURI, width, height }\n        }));\n      }\n    } catch (error) {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }\n  }\n\n  getSupportedConstraints() {\n    if (!CapturePhoto.isSupported()) {\n      return {};\n    }\n\n    return navigator.mediaDevices.getSupportedConstraints() || {};\n  }\n\n  getTrackCapabilities() {\n    if (!this.#stream) {\n      return {};\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n\n    if (track && typeof track.getCapabilities === 'function') {\n      return track.getCapabilities() || {};\n    }\n\n    return {};\n  }\n\n  getTrackSettings() {\n    if (!this.#stream) {\n      return {};\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n\n    if (track && typeof track.getSettings === 'function') {\n      return track.getSettings() || {};\n    }\n\n    return {};\n  }\n\n  #onFacingModeButtonClick = evt => {\n    evt.preventDefault();\n\n    if (this.loading) {\n      return;\n    }\n\n    this.facingMode = this.facingMode === 'user' || !this.facingMode ? 'environment' : 'user';\n  };\n\n  #onCapturePhotoButtonClick = evt => {\n    evt.preventDefault();\n    this.capture();\n  };\n\n  #onVideoLoadedMetaData = evt => {\n    const video = evt.target;\n\n    video.play().then(() => {\n      this.dispatchEvent(new CustomEvent('capture-photo:video-play', {\n        bubbles: true,\n        composed: true,\n        detail: { video }\n      }));\n    }).catch(error => {\n      this.dispatchEvent(new CustomEvent('capture-photo:error', {\n        bubbles: true,\n        composed: true,\n        detail: { error }\n      }));\n    }).finally(() => {\n      this.removeAttribute('loading');\n    });\n  };\n\n  #emptyOutputElement() {\n    if (!this.#outputElement) {\n      return;\n    }\n\n    Array.from(this.#outputElement.childNodes).forEach(node => node.remove());\n  }\n\n  #applyPTZ(constraintName, constraintValue) {\n    if (!this.#stream || !constraintName || !constraintValue) {\n      return;\n    }\n\n    const [track] = this.#stream.getVideoTracks();\n    const trackCapabilities = this.getTrackCapabilities();\n    const trackSettings = this.getTrackSettings();\n\n    if (trackSettings?.[constraintName]) {\n      track.applyConstraints({\n        advanced: [{\n          [constraintName]: clamp(Number(constraintValue), trackCapabilities?.[constraintName]?.min, trackCapabilities?.[constraintName]?.max)\n        }]\n      });\n    }\n  }\n\n  #onCaptureButtonSlotChange = evt => {\n    if (evt.target?.name === 'capture-button') {\n      this.#captureButton?.removeEventListener('click', this.#onCapturePhotoButtonClick);\n      this.#captureButton = this.#getCaptureButton();\n\n      if (this.#captureButton) {\n        this.#captureButton.addEventListener('click', this.#onCapturePhotoButtonClick);\n\n        if (this.#captureButton.nodeName !== 'BUTTON' && !this.#captureButton.hasAttribute('role')) {\n          this.#captureButton.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  #onFacingModeButtonSlotChange = evt => {\n    if (evt.target?.name === 'facing-mode-button') {\n      this.#facingModeButton?.removeEventListener('click', this.#onFacingModeButtonClick);\n      this.#facingModeButton = this.#getFacingModeButton();\n\n      if (this.#facingModeButton) {\n        this.#facingModeButton.addEventListener('click', this.#onFacingModeButtonClick);\n\n        if (this.#facingModeButton.nodeName !== 'BUTTON' && !this.#facingModeButton.hasAttribute('role')) {\n          this.#facingModeButton.setAttribute('role', 'button');\n        }\n      }\n    }\n  };\n\n  #getFacingModeButton() {\n    if (!this.#facingModeButtonSlot) {\n      return null;\n    }\n\n    return this.#facingModeButtonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'facing-mode-button';\n    });\n  }\n\n  #getCaptureButton() {\n    if (!this.#captureButtonSlot) {\n      return null;\n    }\n\n    return this.#captureButtonSlot.assignedElements({ flatten: true }).find(el => {\n      return el.nodeName === 'BUTTON' || el.getAttribute('slot') === 'capture-button';\n    });\n  }\n\n  /**\n   * https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties\n   * This is to safe guard against cases where, for instance, a framework may have added the element to the page and\n   * set a value on one of its properties, but lazy loaded its definition. Without this guard, the upgraded element would\n   * miss that property and the instance property would prevent the class property setter from ever being called.\n   */\n  #upgradeProperty(prop) {\n    if (Object.prototype.hasOwnProperty.call(this, prop)) {\n      const value = this[prop];\n      delete this[prop];\n      this[prop] = value;\n    }\n  }\n\n  static isSupported() {\n    return Boolean(navigator.mediaDevices?.getUserMedia);\n  }\n\n  static defineCustomElement(elementName = 'capture-photo') {\n    if (typeof window !== 'undefined' && !window.customElements.get(elementName)) {\n      window.customElements.define(elementName, CapturePhoto);\n    }\n  }\n}\n\nexport { CapturePhoto };\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction promisifyRequest(request) {\n  return new Promise(function (resolve, reject) {\n    // @ts-ignore - file size hacks\n    request.oncomplete = request.onsuccess = function () {\n      return resolve(request.result);\n    }; // @ts-ignore - file size hacks\n\n\n    request.onabort = request.onerror = function () {\n      return reject(request.error);\n    };\n  });\n}\n\nfunction createStore(dbName, storeName) {\n  var request = indexedDB.open(dbName);\n\n  request.onupgradeneeded = function () {\n    return request.result.createObjectStore(storeName);\n  };\n\n  var dbp = promisifyRequest(request);\n  return function (txMode, callback) {\n    return dbp.then(function (db) {\n      return callback(db.transaction(storeName, txMode).objectStore(storeName));\n    });\n  };\n}\n\nvar defaultGetStoreFunc;\n\nfunction defaultGetStore() {\n  if (!defaultGetStoreFunc) {\n    defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n  }\n\n  return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction get(key) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    return promisifyRequest(store.get(key));\n  });\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction set(key, value) {\n  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.put(value, key);\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction setMany(entries) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    entries.forEach(function (entry) {\n      return store.put(entry[1], entry[0]);\n    });\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction getMany(keys) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    return Promise.all(keys.map(function (key) {\n      return promisifyRequest(store.get(key));\n    }));\n  });\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction update(key, updater) {\n  var customStore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    return (// Need to create the promise manually.\n      // If I try to chain promises, the transaction closes in browsers\n      // that use a promise polyfill (IE10/11).\n      new Promise(function (resolve, reject) {\n        store.get(key).onsuccess = function () {\n          try {\n            store.put(updater(this.result), key);\n            resolve(promisifyRequest(store.transaction));\n          } catch (err) {\n            reject(err);\n          }\n        };\n      })\n    );\n  });\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction del(key) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.delete(key);\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Delete multiple keys at once.\n *\n * @param keys List of keys to delete.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction delMany(keys) {\n  var customStore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    keys.forEach(function (key) {\n      return store.delete(key);\n    });\n    return promisifyRequest(store.transaction);\n  });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction clear() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readwrite', function (store) {\n    store.clear();\n    return promisifyRequest(store.transaction);\n  });\n}\n\nfunction eachCursor(store, callback) {\n  store.openCursor().onsuccess = function () {\n    if (!this.result) return;\n    callback(this.result);\n    this.result.continue();\n  };\n\n  return promisifyRequest(store.transaction);\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction keys() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    if (store.getAllKeys) {\n      return promisifyRequest(store.getAllKeys());\n    }\n\n    var items = [];\n    return eachCursor(store, function (cursor) {\n      return items.push(cursor.key);\n    }).then(function () {\n      return items;\n    });\n  });\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction values() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    if (store.getAll) {\n      return promisifyRequest(store.getAll());\n    }\n\n    var items = [];\n    return eachCursor(store, function (cursor) {\n      return items.push(cursor.value);\n    }).then(function () {\n      return items;\n    });\n  });\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\n\n\nfunction entries() {\n  var customStore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultGetStore();\n  return customStore('readonly', function (store) {\n    // Fast path for modern browsers\n    // (although, hopefully we'll get a simpler path some day)\n    if (store.getAll && store.getAllKeys) {\n      return Promise.all([promisifyRequest(store.getAllKeys()), promisifyRequest(store.getAll())]).then(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            keys = _ref2[0],\n            values = _ref2[1];\n\n        return keys.map(function (key, i) {\n          return [key, values[i]];\n        });\n      });\n    }\n\n    var items = [];\n    return customStore('readonly', function (store) {\n      return eachCursor(store, function (cursor) {\n        return items.push([cursor.key, cursor.value]);\n      }).then(function () {\n        return items;\n      });\n    });\n  });\n}\n\nexport { clear, createStore, del, delMany, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import { set, get } from 'idb-keyval';\n\nconst STORAGE_PREFIX = 'barcode-scanner/';\nconst SETTINGS_STORAGE_KEY = 'settings';\nconst HISTORY_STORAGE_KEY = 'history';\n\nconst getItem = async key => {\n  try {\n    return {\n      value: await get(key),\n      error: void 0\n    };\n  } catch (error) {\n    return {\n      value: void 0,\n      error\n    };\n  }\n};\n\nconst setItem = async (key, data) => {\n  try {\n    await set(key, data);\n\n    return {\n      error: void 0\n    };\n  } catch (error) {\n    return { error };\n  }\n};\n\nexport const getSettings = async () => {\n  return getItem(STORAGE_PREFIX + SETTINGS_STORAGE_KEY);\n};\n\nexport const setSettings = async data => {\n  return setItem(STORAGE_PREFIX + SETTINGS_STORAGE_KEY, data);\n};\n\nexport const getHistory = async () => {\n  return getItem(STORAGE_PREFIX + HISTORY_STORAGE_KEY);\n};\n\nexport const setHistory = async data => {\n  return setItem(STORAGE_PREFIX + HISTORY_STORAGE_KEY, data);\n};\n","const toastContainer = document.getElementById('toastContainer');\n\nconst hideAlert = evt => {\n  const target = evt.currentTarget;\n  target.removeEventListener('click', hideAlert);\n  toastContainer.removeChild(target.parentNode);\n};\n\nexport const toastAlert = (message = '', type = 'info') => {\n  const types = ['info', 'warning', 'danger'];\n\n  if (!types.includes(type)) {\n    type = 'info';\n  }\n\n  const template = /* html */`\n    ${message}\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  `;\n\n  const div = document.createElement('div');\n  div.className = `alert alert-${type} alert-dismissible text-break`;\n  div.innerHTML = template;\n  div.querySelector('button').addEventListener('click', hideAlert);\n  toastContainer.appendChild(div);\n  setTimeout(() => div.classList.add('show'), 100);\n};\n","import '@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.js';\nimport '@georapbox/web-share-element/dist/web-share-defined.js';\nimport { isWebShareSupported } from '@georapbox/web-share-element/dist/is-web-share-supported.js';\nimport '@georapbox/resize-observer-element/dist/resize-observer-defined.js';\nimport { CapturePhoto } from '@georapbox/capture-photo-element/dist/capture-photo.js';\nimport { getHistory, setHistory, getSettings, setSettings } from './services/storage.js';\nimport { toastAlert } from './toast-alert.js';\n\n(async function () {\n  const ACCEPTED_MIME_TYPES = ['image/jpg', 'image/jpeg', 'image/png', 'image/apng', 'image/gif', 'image/webp', 'image/avif'];\n  const capturePhotoEl = document.querySelector('capture-photo');\n  const cameraResultsEl = document.getElementById('cameraResults');\n  const fileResultsEl = document.getElementById('fileResults');\n  const scanInstructionsEl = document.getElementById('scanInstructions');\n  const scanBtn = document.getElementById('scanBtn');\n  const scanMethodSelect = document.getElementById('scanMethod');\n  const fileInput = document.getElementById('fileInput');\n  const dropzoneEl = document.getElementById('dropzone');\n  const cameraViewEl = document.getElementById('cameraView');\n  const fileViewEl = document.getElementById('fileView');\n  const resizeObserverEl = document.querySelector('resize-observer');\n  const scanFrameEl = document.getElementById('scanFrame');\n  const globalActionsEl = document.getElementById('globalActions');\n  const historyBtn = document.getElementById('historyBtn');\n  const historyDialog = document.getElementById('historyDialog');\n  const historyList = document.getElementById('historyList');\n  const deleteHistoryBtn = document.getElementById('deleteHistoryBtn');\n  const settingsBtn = document.getElementById('settingsBtn');\n  const settingsDialog = document.getElementById('settingsDialog');\n  const settingsForm = document.forms['settings-form'];\n  const copyIconTemplate = document.getElementById('copyIconTemplate');\n  const copiedIconTemplate = document.getElementById('copiedIconTemplate');\n  let shouldRepeatScan = true;\n  let rafId;\n\n  document.querySelectorAll('clipboard-copy').forEach(el => {\n    el.querySelector('button').appendChild(copyIconTemplate.content.cloneNode(true));\n  });\n\n  if (!isWebShareSupported()) {\n    document.querySelectorAll('web-share').forEach(el => {\n      el.hidden = true;\n      el.disabled = true;\n    });\n  }\n\n  if (!('BarcodeDetector' in window)) {\n    try {\n      window.BarcodeDetector = (await import('barcode-detector')).default;\n    } catch (err) {\n      cameraViewEl.hidden = true;\n      fileViewEl.hidden = true;\n      scanMethodSelect.hidden = true;\n      globalActionsEl.hidden = true;\n      return toastAlert('BarcodeDetector API is not supported by your browser.', 'danger');\n    }\n  }\n\n  const { value: history = [] } = await getHistory();\n\n  renderHistoryList(history);\n\n  const beep = (() => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext || window.audioContext);\n\n    if (!audioCtx) {\n      return;\n    }\n\n    return async (duration, frequency, volume, type, callback) => {\n      const { value: settings } = await getSettings();\n\n      if (!settings?.beep) {\n        return;\n      }\n\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      if (volume) {\n        gainNode.gain.value = volume;\n      }\n\n      if (frequency) {\n        oscillator.frequency.value = frequency;\n      }\n\n      if (type) {\n        oscillator.type = type;\n      }\n\n      if (typeof callback === 'function') {\n        oscillator.onended = callback;\n      }\n\n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + ((duration || 500) / 1000));\n    };\n  })();\n\n  function renderHistoryList(data) {\n    historyList.innerHTML = '';\n\n    if (!Array.isArray(data) || !data.length) {\n      historyList.innerHTML = '<li class=>There are no saved items in history.</li>';\n      deleteHistoryBtn.style.display = 'none';\n    } else {\n      deleteHistoryBtn.style.display = 'block';\n\n      data.forEach(item => {\n        const li = document.createElement('li');\n        li.setAttribute('data-value', item);\n\n        let historyItem;\n\n        try {\n          new URL(item);\n          historyItem = document.createElement('a');\n          historyItem.href = item;\n          historyItem.setAttribute('target', '_blank');\n          historyItem.setAttribute('rel', 'noreferrer noopener');\n        } catch (err) {\n          historyItem = document.createElement('span');\n        }\n\n        historyItem.textContent = item;\n        historyItem.setAttribute('title', item);\n\n        const actionsEl = document.createElement('div');\n        actionsEl.className = 'history-dialog__actions';\n\n        const copyBtn = document.createElement('clipboard-copy');\n        copyBtn.innerHTML = /* html */`\n          <button slot=\"button\" type=\"button\" title=\"Copy to clipboard\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-clipboard\" viewBox=\"0 0 16 16\">\n              <path d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"/>\n              <path d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"/>\n            </svg>\n          </button>\n        `;\n        copyBtn.setAttribute('value', item);\n        actionsEl.appendChild(copyBtn);\n\n        const removeBtn = document.createElement('button');\n        removeBtn.type = 'button';\n        removeBtn.className = 'history-dialog__delete-action';\n        removeBtn.title = 'Remove from history';\n        removeBtn.setAttribute('data-action', 'delete');\n        removeBtn.innerHTML = /* html */`\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash3-fill\" viewBox=\"0 0 16 16\">\n            <path d=\"M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5Zm-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5ZM4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5Z\"/>\n          </svg>\n        `;\n        actionsEl.appendChild(removeBtn);\n\n        li.appendChild(historyItem);\n        li.appendChild(actionsEl);\n        historyList.appendChild(li);\n      });\n    }\n  }\n\n  async function addToHistory(item) {\n    const { value: settings } = await getSettings();\n\n    if (!item || !settings?.addToHistory) {\n      return;\n    }\n\n    const { value: history = [], error: getHistoryError } = await getHistory();\n\n    if (!getHistoryError && !history.find(h => h === item)) {\n      const data = [...history, item];\n\n      const { error: setHistoryError } = await setHistory(data);\n\n      if (!setHistoryError) {\n        renderHistoryList(data);\n      }\n    }\n  }\n\n  async function removeFromHistory(value) {\n    if (!value) {\n      return;\n    }\n\n    const { value: history = [], error: getHistoryError } = await getHistory();\n\n    if (!getHistoryError) {\n      const data = history.filter(item => item !== value);\n\n      const { error: setHistoryError } = await setHistory(data);\n\n      if (!setHistoryError) {\n        renderHistoryList(data);\n      }\n    }\n  }\n\n  async function emptyHistory() {\n    const { error: setHistoryError } = await setHistory([]);\n\n    if (!setHistoryError) {\n      renderHistoryList([]);\n    }\n  }\n\n  async function vibrate(duration = 100) {\n    const { value: settings } = await getSettings();\n\n    if (typeof window.navigator.vibrate !== 'function' || !settings?.vibrate) {\n      return;\n    }\n\n    try {\n      window.navigator.vibrate(duration);\n    } catch {\n      // Fail silently...\n    }\n  }\n\n  function resizeScanFrame(videoEl) {\n    if (!videoEl) {\n      return;\n    }\n\n    const rect = videoEl.getBoundingClientRect();\n\n    scanFrameEl.style.cssText = `width: ${rect.width}px; height: ${rect.height}px`;\n  }\n\n  capturePhotoEl.addEventListener('capture-photo:video-play', evt => {\n    scanFrameEl.hidden = false;\n    resizeScanFrame(evt.detail.video);\n    scan();\n\n    const trackSettings = capturePhotoEl.getTrackSettings();\n    const trackCapabilities = capturePhotoEl.getTrackCapabilities();\n    const zoomLevelEl = document.getElementById('zoomLevel');\n\n    if (trackSettings?.zoom && trackCapabilities?.zoom) {\n      const zoomControls = document.getElementById('zoomControls');\n      const minZoom = trackCapabilities?.zoom?.min || 0;\n      const maxZoom = trackCapabilities?.zoom?.max || 10;\n      let currentZoom = trackSettings?.zoom || 1;\n\n      zoomControls.hidden = false;\n      zoomLevelEl.textContent = currentZoom;\n\n      zoomControls.addEventListener('click', evt => {\n        const zoomInBtn = evt.target.closest('[data-action=\"zoom-in\"]');\n        const zoomOutBtn = evt.target.closest('[data-action=\"zoom-out\"]');\n\n        if (zoomInBtn && currentZoom < maxZoom) {\n          currentZoom += 0.5;\n        }\n\n        if (zoomOutBtn && currentZoom > minZoom) {\n          currentZoom -= 0.5;\n        }\n\n        zoomLevelEl.textContent = currentZoom;\n\n        capturePhotoEl.zoom = currentZoom;\n      });\n    }\n  }, {\n    once: true\n  });\n\n  CapturePhoto.defineCustomElement();\n\n  fileInput.accept = ACCEPTED_MIME_TYPES.join(',');\n\n  const capturePhotoVideoEl = capturePhotoEl.shadowRoot.querySelector('video');\n  const formats = await window.BarcodeDetector.getSupportedFormats();\n  const barcodeDetector = new window.BarcodeDetector({ formats });\n  const { value: settings = {} } = await getSettings();\n\n  Object.entries(settings).forEach(([key, value]) => {\n    const settingInput = settingsForm.querySelector(`[name=\"${key}\"]`);\n    if (settingInput) {\n      settingInput.checked = value;\n    }\n  });\n\n  displaySupportedFormats(formats, settingsDialog);\n\n  function displaySupportedFormats(supportedFormats, element) {\n    if (!Array.isArray(supportedFormats) || supportedFormats.length === 0) {\n      return;\n    }\n\n    const p = document.createElement('p');\n\n    p.className = 'supported-formats';\n    p.textContent = `Supported formats: ${supportedFormats.join(', ')}`;\n\n    element.appendChild(p);\n  }\n\n  function emptyResults(el) {\n    el.querySelectorAll('.results__item').forEach(el => el.remove());\n  }\n\n  async function createResult(value, resultEl) {\n    if (!value) {\n      return;\n    }\n\n    let el;\n\n    try {\n      new URL(value);\n      el = document.createElement('a');\n      el.href = value;\n      el.setAttribute('target', '_blank');\n      el.setAttribute('rel', 'noreferrer noopener');\n\n      const { value: settings } = await getSettings();\n\n      if (settings?.openWebPage) {\n        el.click();\n      }\n    } catch (err) {\n      el = document.createElement('span');\n    }\n\n    el.className = 'results__item';\n    el.textContent = value;\n\n    resultEl.insertBefore(el, resultEl.querySelector('.results__actions'));\n\n    const clipboarCopyEl = resultEl.querySelector('clipboard-copy');\n    const webShareEl = resultEl.querySelector('web-share');\n    const isValidValue = value !== '-';\n\n    if (clipboarCopyEl) {\n      clipboarCopyEl.disabled = !isValidValue;\n      clipboarCopyEl.hidden = !isValidValue;\n    }\n\n    if (webShareEl && isWebShareSupported()) {\n      webShareEl.disabled = !isValidValue;\n      webShareEl.hidden = !isValidValue;\n\n      if (isValidValue) {\n        webShareEl.setAttribute('share-text', value);\n      } else {\n        webShareEl.removeAttribute('share-text');\n      }\n    }\n  }\n\n  function detectBarcode(source) {\n    return new Promise((resolve, reject) => {\n      barcodeDetector.detect(source).then(results => {\n        if (Array.isArray(results) && results.length > 0) {\n          resolve(results[0]);\n        } else {\n          reject({\n            message: 'Could not detect barcode from provided source.'\n          });\n        }\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  async function scan() {\n    process.env.NODE_ENV === 'development' && console.log('Scanning...');\n\n    scanInstructionsEl.hidden = false;\n\n    try {\n      const barcode = await detectBarcode(capturePhotoVideoEl);\n      window.cancelAnimationFrame(rafId);\n      emptyResults(cameraResultsEl);\n      createResult(barcode.rawValue, cameraResultsEl);\n      addToHistory(barcode.rawValue);\n      scanInstructionsEl.hidden = true;\n      scanBtn.hidden = false;\n      scanFrameEl.hidden = true;\n      beep(200, 860, 0.03, 'square');\n      vibrate();\n      return;\n    } catch (err) {\n      // Fail silently...\n    }\n\n    if (shouldRepeatScan) {\n      rafId = window.requestAnimationFrame(() => scan());\n    }\n  }\n\n  function handleFileSelect(file) {\n    const image = new Image();\n    const reader = new FileReader();\n\n    reader.addEventListener('load', evt => {\n      const data = evt.target.result;\n\n      image.addEventListener('load', async () => {\n        try {\n          const barcode = await detectBarcode(image);\n          emptyResults(fileResultsEl);\n          createResult(barcode.rawValue, fileResultsEl);\n          addToHistory(barcode.rawValue);\n          beep(200, 860, 0.03, 'square');\n          vibrate();\n        } catch (err) {\n          emptyResults(fileResultsEl);\n          createResult('-', fileResultsEl);\n        }\n      });\n\n      image.src = data;\n      dropzoneEl.querySelectorAll('img').forEach(el => el.remove());\n      dropzoneEl.prepend(image);\n    });\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  document.addEventListener('capture-photo:error', evt => {\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = false;\n    scanMethodSelect.hidden = true;\n\n    const error = evt.detail.error;\n\n    if (error.name === 'NotFoundError') {\n      return;\n    }\n\n    const errorMessage = error.name === 'NotAllowedError' ? 'Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.' : error.message;\n\n    toastAlert(errorMessage, 'danger');\n  }, {\n    once: true\n  });\n\n  scanBtn.addEventListener('click', () => {\n    scanBtn.hidden = true;\n    scanFrameEl.hidden = false;\n    emptyResults(cameraResultsEl);\n    scan();\n  });\n\n  scanMethodSelect.addEventListener('change', evt => {\n    const value = evt.target.value;\n\n    [cameraViewEl, fileViewEl].forEach(el => {\n      el.hidden = el.id !== value;\n    });\n\n    if (value === 'cameraView') {\n      shouldRepeatScan = true;\n\n      if (\n        !cameraViewEl.hidden // Assumes that element is hidden because of error.\n        && !capturePhotoEl.loading\n        && !cameraResultsEl.querySelector('.results__item')\n      ) {\n        scan();\n      }\n    }\n\n    if (value === 'fileView') {\n      shouldRepeatScan = false;\n    }\n  });\n\n  fileInput.addEventListener('change', evt => {\n    const file = evt.target.files[0];\n    handleFileSelect(file);\n  });\n\n  dropzoneEl.addEventListener('dragover', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = 'copy';\n    evt.target.classList.add('dropzone--dragover');\n  });\n\n  dropzoneEl.addEventListener('dragleave', evt => {\n    evt.target.classList.remove('dropzone--dragover');\n  });\n\n  dropzoneEl.addEventListener('drop', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    evt.target.classList.remove('dropzone--dragover');\n\n    const fileList = evt.dataTransfer.files;\n    const [file] = fileList;\n\n    if (!file || !ACCEPTED_MIME_TYPES.includes(file.type)) {\n      return;\n    }\n\n    fileInput.value = fileInput.defaultValue;\n\n    handleFileSelect(file);\n  });\n\n  dropzoneEl.addEventListener('click', () => {\n    fileInput.click();\n  });\n\n  dropzoneEl.addEventListener('keyup', evt => {\n    if (evt.key === ' ' || evt.key === 'Enter') {\n      fileInput.click();\n    }\n  });\n\n  resizeObserverEl.addEventListener('resize-observer:resize', () => {\n    resizeScanFrame(capturePhotoEl.shadowRoot.querySelector('video'));\n  });\n\n  settingsBtn.addEventListener('click', () => {\n    settingsDialog.showModal();\n  });\n\n  historyBtn.addEventListener('click', () => {\n    historyDialog.showModal();\n  });\n\n  historyDialog.addEventListener('click', evt => {\n    if (evt.target === evt.currentTarget) {\n      historyDialog.close();\n    }\n  });\n\n  settingsDialog.addEventListener('click', evt => {\n    if (evt.target === evt.currentTarget) {\n      settingsDialog.close();\n    }\n  });\n\n  settingsForm.addEventListener('change', evt => {\n    const settings = {};\n    const checkboxes = evt.currentTarget.querySelectorAll('input[type=\"checkbox\"]');\n\n    checkboxes.forEach(item => settings[item.name] = item.checked);\n    setSettings(settings);\n  });\n\n  historyList.addEventListener('click', evt => {\n    const target = evt.target;\n\n    if (target.closest('[data-action=\"delete\"]')) {\n      if (window.confirm('Delete item from history?')) {\n        removeFromHistory(target.closest('li').dataset.value);\n      }\n    }\n  });\n\n  deleteHistoryBtn.addEventListener('click', () => {\n    if (window.confirm('Are you sure you want to empty history?')) {\n      emptyHistory();\n    }\n  });\n\n  document.addEventListener('clipboard-copy:success', evt => {\n    const copyBtn = evt.target.querySelector('button[slot=\"button\"]');\n    const historyDialog = evt.target.closest('#historyDialog');\n    const copiedTemplate = copiedIconTemplate.content.cloneNode(true);\n    const copyTemplate = copyIconTemplate.content.cloneNode(true);\n    const copiedTextEl = copiedTemplate.querySelector('span');\n    const copyTextEl = copyTemplate.querySelector('span');\n\n    if (historyDialog) {\n      copiedTextEl.hidden = true;\n      copyTextEl.hidden = true;\n    } else {\n      copiedTextEl.hidden = false;\n      copyTextEl.hidden = false;\n    }\n\n    if (copyBtn) {\n      copyBtn.replaceChildren();\n      copyBtn.appendChild(copiedTemplate);\n\n      setTimeout(() => {\n        copyBtn.replaceChildren();\n        copyBtn.appendChild(copyTemplate);\n      }, 1500);\n    }\n  });\n}());\n"],"names":["$7664cb16aa99b643$var$t","$7664cb16aa99b643$var$i","$54e5dea46d3d830b$export$2e2bcd8739ae039","receiver","privateMap","action","has","TypeError","get","$0ebd1ade8fb3d51f$export$2e2bcd8739ae039","descriptor","call","value","$4a9af28d8c332738$export$2e2bcd8739ae039","$ce94785d052866a0$export$2e2bcd8739ae039","obj","privateCollection","$96b9e3133fa8e43f$export$2e2bcd8739ae039","set","$6108fbe778b62371$export$2e2bcd8739ae039","writable","$a5f62c39645bb2ba$export$2e2bcd8739ae039","$1b12450ac511053e$export$2e2bcd8739ae039","privateSet","fn","$39719070878026a5$export$2e2bcd8739ae039","add","$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","module","exports","import","parcelRequire","resolve","then","register","JSON","parse","$7664cb16aa99b643$var$s","$a4c1285108bf4a9d$var$template","document","createElement","$a4c1285108bf4a9d$var$html","String","raw","innerHTML","$a4c1285108bf4a9d$var$_buttonSlot","$cd62c5572235e737$var$t","$cd62c5572235e737$var$s","WeakMap","$a4c1285108bf4a9d$var$_buttonEl","$a4c1285108bf4a9d$var$_copy","WeakSet","$a4c1285108bf4a9d$var$_getButton","$a4c1285108bf4a9d$var$_onClick","$a4c1285108bf4a9d$var$_onSlotChange","$a4c1285108bf4a9d$var$_upgradeProperty","$a4c1285108bf4a9d$export$ea3b71af1761ff40","HTMLElement","observedAttributes","connectedCallback","this","$a4c1285108bf4a9d$var$upgradeProperty","addEventListener","disconnectedCallback","removeEventListener","attributeChangedCallback","name","disabled","setAttribute","part","contains","toggle","hasAttribute","removeAttribute","getAttribute","from","static","elementName","window","customElements","define","constructor","super","evt","preventDefault","dispatchEvent","Event","bubbles","composed","$a4c1285108bf4a9d$var$copy","target","$a4c1285108bf4a9d$var$getButton","nodeName","shadowRoot","attachShadow","mode","appendChild","content","cloneNode","$7664cb16aa99b643$var$d","querySelector","async","copyValue","element","Element","prototype","getRootNode","ownerDocument","HTMLInputElement","HTMLTextAreaElement","HTMLAnchorElement","href","textContent","navigator","clipboard","writeText","CustomEvent","detail","error","assignedElements","flatten","find","el","prop","hasOwnProperty","defineCustomElement","$cd62c5572235e737$var$i","$e179325634270afd$var$template","$e179325634270afd$var$html","$e179325634270afd$var$_buttonSlot","$1c2cbcdf680d66d4$var$e","$1c2cbcdf680d66d4$var$i","$e179325634270afd$var$_buttonEl","$e179325634270afd$var$_files","$e179325634270afd$var$_onClick","$e179325634270afd$var$_onSlotChange","$e179325634270afd$var$_getButton","$e179325634270afd$var$_upgradeProperty","$e179325634270afd$export$30b344bef3e55b67","$e179325634270afd$var$upgradeProperty","shareUrl","shareTitle","shareText","shareFiles","shareData","url","title","text","Array","isArray","canShare","files","share","$e179325634270afd$var$getButton","$442be162a818aed4$export$c37129e465f64ef0","options","$1c2cbcdf680d66d4$var$s","$3a4003478dee0771$var$template","$3a4003478dee0771$var$html","$3a4003478dee0771$var$_slotEl","$3a4003478dee0771$var$_resizeObserver","$3a4003478dee0771$var$_observedElements","$3a4003478dee0771$var$_startObserver","$3a4003478dee0771$var$_stopObserver","$3a4003478dee0771$var$_onSlotChange","$3a4003478dee0771$var$_upgradeProperty","$3a4003478dee0771$export$f0e45424cc896229","oldValue","newValue","$3a4003478dee0771$var$stopObserver","$3a4003478dee0771$var$startObserver","$3a4003478dee0771$var$upgradeProperty","ResizeObserver","entries","forEach","unobserve","observe","push","disconnect","$c290816263f90981$var$template","$c290816263f90981$var$html","$c290816263f90981$var$_connected","$dc2f4a51b83babfd$var$defaultGetStoreFunc","$c290816263f90981$var$_supportedConstraints","$c290816263f90981$var$_stream","$c290816263f90981$var$_canvasElement","$c290816263f90981$var$_outputElement","$c290816263f90981$var$_videoElement","$c290816263f90981$var$_captureButtonSlot","$c290816263f90981$var$_captureButton","$c290816263f90981$var$_facingModeButtonSlot","$c290816263f90981$var$_facingModeButton","$c290816263f90981$var$_stopVideoStreaming","$c290816263f90981$var$_requestGetUserMedia","$c290816263f90981$var$_onFacingModeButtonClick","$c290816263f90981$var$_onCapturePhotoButtonClick","$c290816263f90981$var$_onVideoLoadedMetaData","$c290816263f90981$var$_emptyOutputElement","$c290816263f90981$var$_applyPTZ","$c290816263f90981$var$_onCaptureButtonSlotChange","$c290816263f90981$var$_onFacingModeButtonSlotChange","$c290816263f90981$var$_getFacingModeButton","$c290816263f90981$var$_getCaptureButton","$c290816263f90981$var$_upgradeProperty","$c290816263f90981$export$cc30a98fe3890794","$c290816263f90981$var$upgradeProperty","getElementById","$c290816263f90981$var$getCaptureButton","$c290816263f90981$var$getFacingModeButton","isSupported","message","$c290816263f90981$var$requestGetUserMedia","$c290816263f90981$var$stopVideoStreaming","trackCapabilities","getTrackCapabilities","trackSettings","getTrackSettings","$c290816263f90981$var$emptyOutputElement","facingMode","isValidFacingMode","includes","width","height","cameraResolution","split","map","x","Number","widthInAllowedRange","min","max","heightInAllowedRange","pan","panInAllowedRange","$c290816263f90981$var$applyPTZ","tilt","tiltInAllowedRange","zoom","zoomInAllowedRange","noImage","loading","capture","ctx","getContext","videoWidth","videoHeight","drawImage","dataURI","toDataURL","image","Image","src","getSupportedConstraints","mediaDevices","track","getVideoTracks","getCapabilities","getSettings","Boolean","getUserMedia","video","play","catch","finally","stop","srcObject","constraints","ideal","audio","hidden","childNodes","node","remove","constraintName","constraintValue","lower","upper","applyConstraints","advanced","isNaN","Math","$dc2f4a51b83babfd$export$b327150396135fe7","request","Promise","reject","oncomplete","onsuccess","result","onabort","onerror","$dc2f4a51b83babfd$var$defaultGetStore","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","callback","db","transaction","objectStore","$dc2f4a51b83babfd$export$f51a9068ac82ea43","$dc2f4a51b83babfd$export$3988ae62b71be9a3","key","customStore","arguments","undefined","store","$dc2f4a51b83babfd$export$adaa4cf7ef1b65be","put","$0eb43b201e9f90c7$var$getItem","$0eb43b201e9f90c7$var$setItem","data","$0eb43b201e9f90c7$export$4a647155031ece","$0eb43b201e9f90c7$var$STORAGE_PREFIX","$0eb43b201e9f90c7$export$dc86d17a64679bc7","$0eb43b201e9f90c7$export$f9582a3c130d9538","$0eb43b201e9f90c7$export$96fe1132eb44c325","$3969451ff60cb8d5$var$toastContainer","$3969451ff60cb8d5$var$hideAlert","currentTarget","removeChild","parentNode","$3969451ff60cb8d5$export$af04143326425dbd","type","template","div","className","setTimeout","classList","ACCEPTED_MIME_TYPES","capturePhotoEl","cameraResultsEl","fileResultsEl","scanInstructionsEl","scanBtn","scanMethodSelect","fileInput","dropzoneEl","cameraViewEl","fileViewEl","resizeObserverEl","scanFrameEl","globalActionsEl","historyBtn","historyDialog","historyList","deleteHistoryBtn","settingsBtn","settingsDialog","settingsForm","forms","copyIconTemplate","copiedIconTemplate","rafId","shouldRepeatScan","querySelectorAll","$7a2aca835bb05064$export$c37129e465f64ef0","BarcodeDetector","default","err","history","renderHistoryList","beep","audioCtx","AudioContext","webkitAudioContext","audioContext","duration","frequency","volume","settings","oscillator","createOscillator","gainNode","createGain","connect","destination","gain","onended","start","currentTime","style","display","item","li","historyItem","URL","actionsEl","copyBtn","removeBtn","addToHistory","getHistoryError","h","setHistoryError","vibrate","resizeScanFrame","videoEl","rect","getBoundingClientRect","cssText","scan","zoomLevelEl","zoomControls","minZoom","maxZoom","currentZoom","zoomInBtn","closest","zoomOutBtn","once","$facf243fe9164505$export$cc30a98fe3890794","accept","join","capturePhotoVideoEl","formats","getSupportedFormats","barcodeDetector","emptyResults","createResult","resultEl","openWebPage","click","insertBefore","clipboarCopyEl","webShareEl","isValidValue","detectBarcode","source","detect","results","barcode","cancelAnimationFrame","rawValue","requestAnimationFrame","handleFileSelect","file","reader","FileReader","prepend","readAsDataURL","settingInput","checked","supportedFormats","p","displaySupportedFormats","errorMessage","stopPropagation","dataTransfer","dropEffect","fileList","defaultValue","showModal","close","confirm","filter","removeFromHistory","dataset","emptyHistory","copiedTemplate","copyTemplate","copiedTextEl","copyTextEl","replaceChildren"],"version":3,"file":"index.9271e334.js.map"}
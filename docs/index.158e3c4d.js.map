{"mappings":"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","sources":["node_modules/@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.min.js","node_modules/@georapbox/resize-observer-element/dist/resize-observer-defined.min.js","node_modules/@georapbox/capture-photo-element/dist/capture-photo.min.js","src/js/toast-alert.js","src/js/utils/ary.js","src/js/index.js"],"sourcesContent":["/*!\n * @georapbox/clipboard-copy-element\n * A custom element that implements the Clipboard API to copy text content from elements or input values to the clipboard.\n *\n * @version v1.0.2\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/clipboard-copy-element#readme\n * @repository git+https://github.com/georapbox/clipboard-copy-element.git\n * @license MIT\n */\nconst t=document.createElement(\"template\"),e=String.raw;t.innerHTML=e`\n  <slot name=\"button\"><button type=\"button\" part=\"button\"><slot name=\"button-content\">Copy</slot></button></slot>\n`;class o extends HTMLElement{constructor(){super(),this.shadowRoot||(this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))),this._buttonSlot=this.shadowRoot.querySelector('slot[name=\"button\"]'),this.$button=this._getButton(),this._onClick=this._onClick.bind(this),this._onSlotChange=this._onSlotChange.bind(this)}static get observedAttributes(){return[\"disabled\"]}connectedCallback(){this._buttonSlot&&this._buttonSlot.addEventListener(\"slotchange\",this._onSlotChange),this.$button&&this.$button.addEventListener(\"click\",this._onClick),this._upgradeProperty(\"value\"),this._upgradeProperty(\"from\"),this._upgradeProperty(\"disabled\")}disconnectedCallback(){this._buttonSlot.removeEventListener(\"slotchange\",this._onSlotChange),this.$button&&this.$button.removeEventListener(\"click\",this._onClick)}attributeChangedCallback(t){\"disabled\"===t&&this.$button&&(this.$button.disabled=this.disabled,this.$button.setAttribute(\"aria-disabled\",this.disabled),this.$button.part&&this.$button.part.contains(\"button\")&&this.$button.part.toggle(\"button--disabled\",this.disabled))}get disabled(){return this.hasAttribute(\"disabled\")}set disabled(t){t?this.setAttribute(\"disabled\",\"\"):this.removeAttribute(\"disabled\")}get value(){return this.getAttribute(\"value\")}set value(t){this.setAttribute(\"value\",t)}get from(){return this.getAttribute(\"from\")}set from(t){this.setAttribute(\"from\",t)}async _copy(){if(this.value||this.from)try{let t=\"\";if(this.value)t=this.value;else if(this.from){const e=(\"getRootNode\"in Element.prototype?this.$button.getRootNode({composed:!0}):this.$button.ownerDocument).querySelector(this.from);if(!e)return;t=e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e.value:e instanceof HTMLAnchorElement&&e.hasAttribute(\"href\")?e.href:e.textContent}await navigator.clipboard.writeText(t),this.dispatchEvent(new CustomEvent(\"clipboard-copy:success\",{bubbles:!0,composed:!0,detail:{value:t}}))}catch(t){this.dispatchEvent(new CustomEvent(\"clipboard-copy:error\",{bubbles:!0,composed:!0,detail:{error:t}}))}}_getButton(){return this._buttonSlot?this._buttonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"button\"===t.getAttribute(\"slot\"))):null}_onClick(t){t.preventDefault(),this.disabled||(this.dispatchEvent(new Event(\"clipboard-copy:click\",{bubbles:!0,composed:!0})),this._copy())}_onSlotChange(t){t.target&&\"button\"===t.target.name&&(this.$button&&this.$button.removeEventListener(\"click\",this._onClick),this.$button=this._getButton(),this.$button&&(this.$button.addEventListener(\"click\",this._onClick),\"BUTTON\"===this.$button.nodeName||this.$button.hasAttribute(\"role\")||this.$button.setAttribute(\"role\",\"button\")))}_upgradeProperty(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}static defineCustomElement(t=\"clipboard-copy\"){\"undefined\"==typeof window||window.customElements.get(t)||window.customElements.define(t,o)}}o.defineCustomElement();export{o as ClipboardCopy};\n","/*!\n * @georapbox/resize-observer-element\n * A custom element that offers a declarative interface to the ResizeObserver API.\n *\n * @version v1.0.1\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/resize-observer-element#readme\n * @repository git+https://github.com/georapbox/resize-observer-element.git\n * @license MIT\n */\nconst e=document.createElement(\"template\"),t=String.raw;e.innerHTML=t`\n  <style>:host { display: contents; }</style>\n  <slot></slot>\n`;class s extends HTMLElement{constructor(){super(),this.shadowRoot||(this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(e.content.cloneNode(!0))),this._slot=this.shadowRoot.querySelector(\"slot\"),this._resizeObserver=null,this._observedElements=[],this._onSlotChange=this._onSlotChange.bind(this),this._upgradeProperty(\"disabled\")}static get observedAttributes(){return[\"disabled\"]}attributeChangedCallback(e,t,s){\"disabled\"===e&&t!==s&&(this.disabled?this._stopObserver():this._startObserver())}connectedCallback(){\"ResizeObserver\"in window&&(this._resizeObserver=new ResizeObserver((e=>{this.dispatchEvent(new CustomEvent(\"resize-observer:resize\",{bubbles:!0,composed:!0,detail:{entries:e}}))})),this.disabled||this._startObserver(),this._slot.addEventListener(\"slotchange\",this._onSlotChange))}disconnectedCallback(){this._stopObserver(),this._slot.removeEventListener(\"slotchange\",this._onSlotChange)}get disabled(){return this.hasAttribute(\"disabled\")}set disabled(e){e?this.setAttribute(\"disabled\",\"\"):this.removeAttribute(\"disabled\")}_startObserver(){this._slot&&this._resizeObserver&&(this._observedElements.forEach((e=>this._resizeObserver.unobserve(e))),this._observedElements=[],this._slot.assignedElements().forEach((e=>{this._resizeObserver.observe(e),this._observedElements.push(e)})))}_stopObserver(){this._resizeObserver&&this._resizeObserver.disconnect()}_onSlotChange(){this.disabled||this._startObserver()}_upgradeProperty(e){if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];delete this[e],this[e]=t}}static defineCustomElement(e=\"resize-observer\"){\"undefined\"==typeof window||window.customElements.get(e)||window.customElements.define(e,s)}}s.defineCustomElement();export{s as ResizeObserverElement};\n","/*!\n * @georapbox/capture-photo-element\n * A custom element that implements the MediaDevices.getUserMedia() method of the MediaDevices interface to capture a photo in the browser.\n *\n * @version v1.3.1\n * @author George Raptis <georapbox@gmail.com>\n * @homepage https://github.com/georapbox/capture-photo-element#readme\n * @repository git+https://github.com/georapbox/capture-photo-element.git\n * @license MIT\n */\nconst t=document.createElement(\"template\");t.innerHTML='\\n  <style>\\n    :host {\\n      all: initial;\\n      display: block;\\n      box-sizing: border-box;\\n    }\\n    :host *,\\n    :host *::before,\\n    :host *::after {\\n      box-sizing: inherit;\\n    }\\n    :host video {\\n      display: block;\\n    }\\n    :host #output:empty {\\n      display: none;\\n    }\\n    [hidden] {\\n      display: none !important;\\n    }\\n  </style>\\n  <video part=\"video\" playsinline></video>\\n  <canvas hidden></canvas>\\n  <div part=\"actions-container\">\\n    <slot name=\"capture-button\">\\n      <button part=\"capture-button\" type=\"button\"><slot name=\"capture-button-content\">Capture photo</slot></button>\\n    </slot>\\n    <slot name=\"facing-mode-button\"><button part=\"facing-mode-button\" type=\"button\"><slot name=\"facing-mode-button-content\">Toggle facing mode</slot></button></slot>\\n  </div>\\n  <div part=\"output-container\" id=\"output\"></div>\\n';class e extends HTMLElement{constructor(){super(),this._connected=!1,this._supportedConstraints=e.isSupported()?navigator.mediaDevices.getSupportedConstraints():{},this.shadowRoot||(this.attachShadow({mode:\"open\"}),this.shadowRoot.appendChild(t.content.cloneNode(!0))),this._onFacingModeButtonClick=this._onFacingModeButtonClick.bind(this),this._onCapturePhotoButtonClick=this._onCapturePhotoButtonClick.bind(this),this._onVideoLoadedMetaData=this._onVideoLoadedMetaData.bind(this),this._onCaptureButtonSlotChange=this._onCaptureButtonSlotChange.bind(this),this._onFacingModeButtonSlotChange=this._onFacingModeButtonSlotChange.bind(this)}connectedCallback(){if(this._connected=!0,this._canvasElement=this.shadowRoot.querySelector(\"canvas\"),this._outputElement=this.shadowRoot.getElementById(\"output\"),this._videoElement=this.shadowRoot.querySelector(\"video\"),this._videoElement&&this._videoElement.addEventListener(\"loadedmetadata\",this._onVideoLoadedMetaData),this._captureButtonSlot=this.shadowRoot.querySelector('slot[name=\"capture-button\"]'),this._captureButtonSlot&&this._captureButtonSlot.addEventListener(\"slotchange\",this._onCaptureButtonSlotChange),this._captureButton=this._getCaptureButton(),this._captureButton&&this._captureButton.addEventListener(\"click\",this._onCapturePhotoButtonClick),this._facingModeButtonSlot=this.shadowRoot.querySelector('slot[name=\"facing-mode-button\"]'),this._facingModeButtonSlot&&this._facingModeButtonSlot.addEventListener(\"slotchange\",this._onFacingModeButtonSlotChange),this._facingModeButton=this._getFacingModeButton(),this._facingModeButton&&(this._supportedConstraints.facingMode?this._facingModeButton.addEventListener(\"click\",this._onFacingModeButtonClick):this._facingModeButton.hidden=!0),this._upgradeProperty(\"outputDisabled\"),this._upgradeProperty(\"facingMode\"),this._upgradeProperty(\"cameraResolution\"),this._upgradeProperty(\"zoom\"),!e.isSupported())return this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:{name:\"NotSupportedError\",message:\"Not supported\"}}}));this._requestGetUserMedia()}disconnectedCallback(){this._stopVideoStreaming(),this._facingModeButton&&this._facingModeButton.removeEventListener(\"click\",this._onFacingModeButtonClick),this._captureButton&&this._captureButton.removeEventListener(\"click\",this._onCapturePhotoButtonClick),this._videoElement&&this._videoElement.removeEventListener(\"canplay\",this._onVideoLoadedMetaData),this._captureButtonSlot&&this._captureButtonSlot.removeEventListener(\"slotchange\",this._onCaptureButtonSlotChange),this._facingModeButtonSlot&&this._facingModeButtonSlot.removeEventListener(\"slotchange\",this._onFacingModeButtonSlotChange)}attributeChangedCallback(t,e,o){this._connected&&(\"output-disabled\"===t&&this._emptyOutputElement(),\"facing-mode\"===t&&this._supportedConstraints.facingMode&&e!==o&&(this._stopVideoStreaming(),this._requestGetUserMedia(),this.dispatchEvent(new CustomEvent(\"capture-photo:facing-mode-change\",{bubbles:!0,composed:!0,detail:{facingMode:o}}))),\"camera-resolution\"===t&&e!==o&&(this._stopVideoStreaming(),this._requestGetUserMedia(),this.dispatchEvent(new CustomEvent(\"capture-photo:camera-resolution-change\",{bubbles:!0,composed:!0,detail:{cameraResolution:o}}))),\"zoom\"===t&&e!==o&&(this._applyZoom(this.zoom),this.dispatchEvent(new CustomEvent(\"capture-photo:zoom-change\",{bubbles:!0,composed:!0,detail:{zoom:this.zoom}}))))}static get observedAttributes(){return[\"output-disabled\",\"facing-mode\",\"camera-resolution\",\"zoom\"]}get outputDisabled(){return this.hasAttribute(\"output-disabled\")}set outputDisabled(t){t?this.setAttribute(\"output-disabled\",\"\"):this.removeAttribute(\"output-disabled\")}get facingMode(){return this.getAttribute(\"facing-mode\")}set facingMode(t){this.setAttribute(\"facing-mode\",t)}get cameraResolution(){return this.getAttribute(\"camera-resolution\")}set cameraResolution(t){this.setAttribute(\"camera-resolution\",t)}get zoom(){return Number(this.getAttribute(\"zoom\"))||null}set zoom(t){const e=Number(t)||0;this.setAttribute(\"zoom\",e>0?Math.floor(e):0)}get loading(){return this.hasAttribute(\"loading\")}_stopVideoStreaming(){if(!this._videoElement||!this._stream)return;const[t]=this._stream.getVideoTracks();t&&t.stop(),this._videoElement.srcObject=null,this._stream=null}_requestGetUserMedia(){if(!e.isSupported())return;this.setAttribute(\"loading\",\"\");const t={video:{facingMode:{ideal:this.facingMode||\"user\"}},audio:!1};if(\"string\"==typeof this.cameraResolution){const[e,o]=this.cameraResolution.split(\"x\");t.video.width=e,t.video.height=o}navigator.mediaDevices.getUserMedia(t).then((t=>{this._videoElement.srcObject=t,this._stream=t,this._applyZoom(this.zoom)})).catch((t=>{this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute(\"loading\")}))}capture(){if(!this.loading)try{const t=this._canvasElement.getContext(\"2d\"),e=this._videoElement.videoWidth,o=this._videoElement.videoHeight;this._canvasElement.width=e,this._canvasElement.height=o,t.drawImage(this._videoElement,0,0,e,o);const n=this._canvasElement.toDataURL(\"image/png\");if(\"string\"==typeof n&&n.includes(\"data:image\")){if(!this.outputDisabled){const t=new Image;t.src=n,t.width=e,t.height=o,t.part=\"output-image\",this._emptyOutputElement(),this._outputElement&&this._outputElement.appendChild(t)}this.dispatchEvent(new CustomEvent(\"capture-photo:success\",{bubbles:!0,composed:!0,detail:{dataURI:n,width:e,height:o}}))}}catch(t){this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))}}_onFacingModeButtonClick(t){t.preventDefault(),this.loading||(this.facingMode=\"user\"!==this.facingMode&&this.facingMode?\"user\":\"environment\")}_onCapturePhotoButtonClick(t){t.preventDefault(),this.capture()}_onVideoLoadedMetaData(t){const e=t.target;e.play().then((()=>{this.dispatchEvent(new CustomEvent(\"capture-photo:video-play\",{bubbles:!0,composed:!0,detail:{video:e}}))})).catch((t=>{this.dispatchEvent(new CustomEvent(\"capture-photo:error\",{bubbles:!0,composed:!0,detail:{error:t}}))})).finally((()=>{this.removeAttribute(\"loading\")}))}_emptyOutputElement(){this._outputElement&&Array.from(this._outputElement.childNodes).forEach((t=>t.remove()))}_applyZoom(t){if(!this._stream||!t)return;const[e]=this._stream.getVideoTracks();if(\"function\"!=typeof e.getCapabilities||\"function\"!=typeof e.getSettings)return;const o=e.getCapabilities();var n,i,s;\"zoom\"in e.getSettings()&&e.applyConstraints({advanced:[{zoom:(n=Number(t),i=o.zoom.min,s=o.zoom.max,Number.isNaN(i)&&(i=0),Number.isNaN(s)&&(s=0),Math.min(Math.max(n,Math.min(i,s)),Math.max(i,s)))}]})}_onCaptureButtonSlotChange(t){t.target&&\"capture-button\"===t.target.name&&(this._captureButton&&this._captureButton.removeEventListener(\"click\",this._onCapturePhotoButtonClick),this._captureButton=this._getCaptureButton(),this._captureButton&&(this._captureButton.addEventListener(\"click\",this._onCapturePhotoButtonClick),\"BUTTON\"===this._captureButton.nodeName||this._captureButton.hasAttribute(\"role\")||this._captureButton.setAttribute(\"role\",\"button\")))}_onFacingModeButtonSlotChange(t){t.target&&\"facing-mode-button\"===t.target.name&&(this._facingModeButton&&this._facingModeButton.removeEventListener(\"click\",this._onFacingModeButtonClick),this._facingModeButton=this._getFacingModeButton(),this._facingModeButton&&(this._facingModeButton.addEventListener(\"click\",this._onFacingModeButtonClick),\"BUTTON\"===this._facingModeButton.nodeName||this._facingModeButton.hasAttribute(\"role\")||this._facingModeButton.setAttribute(\"role\",\"button\")))}_getFacingModeButton(){return this._facingModeButtonSlot?this._facingModeButtonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"facing-mode-button\"===t.getAttribute(\"slot\"))):null}_getCaptureButton(){return this._captureButtonSlot?this._captureButtonSlot.assignedElements({flatten:!0}).find((t=>\"BUTTON\"===t.nodeName||\"capture-button\"===t.getAttribute(\"slot\"))):null}_upgradeProperty(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}}static isSupported(){return Boolean(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}static defineCustomElement(t=\"capture-photo\"){\"undefined\"==typeof window||window.customElements.get(t)||window.customElements.define(t,e)}}export{e as CapturePhoto};\n","const toastContainer = document.getElementById('toastContainer');\n\nconst hideAlert = evt => {\n  const target = evt.currentTarget;\n  target.removeEventListener('click', hideAlert);\n  toastContainer.removeChild(target.parentNode);\n};\n\nexport const toastAlert = (message = '', type = 'info') => {\n  const types = ['info', 'warning', 'danger'];\n\n  if (!types.includes(type)) {\n    type = 'info';\n  }\n\n  const template = /* html */`\n    ${message}\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  `;\n\n  const div = document.createElement('div');\n  div.className = `alert alert-${type} alert-dismissible text-break mb-2 fade`;\n  div.innerHTML = template;\n  div.querySelector('button').addEventListener('click', hideAlert);\n  toastContainer.appendChild(div);\n  setTimeout(() => div.classList.add('show'), 100);\n};\n","/**\n * Creates a function that accepts up to `n` arguments, ignoring any additional arguments.\n *\n * @param {function} fn The function to cap arguments for.\n * @param {Number} n The arity cap.\n * @throws {TypeError} Throws if `fn` is not function.\n * @throws {TypeError} Throws if `n` is not number.\n * @returns {function} Returns the new capped function.\n * @example\n *\n * const array = ['1', '2', '3'];\n *\n * const toInteger = ary(parseInt, 1);\n *\n * array.map(toInteger); // => [1, 2, 3]\n */\nexport const ary = (fn, n) => {\n  if (typeof fn !== 'function') {\n    throw new TypeError('Expected a function for first argument');\n  }\n\n  if (typeof n !== 'number') {\n    throw new TypeError('Expected a number for second argument');\n  }\n\n  return (...args) => {\n    const arityCap = n > 0 ? n : 0;\n\n    return fn(...args.slice(0, arityCap));\n  };\n};\n","import '@georapbox/clipboard-copy-element/dist/clipboard-copy-defined.min.js';\nimport '@georapbox/resize-observer-element/dist/resize-observer-defined.min.js';\nimport { CapturePhoto } from '@georapbox/capture-photo-element/dist/capture-photo.min.js';\nimport { toastAlert } from './toast-alert.js';\nimport { ary } from './utils/ary.js';\n\n(async function () {\n  const ACCEPTED_MIME_TYPES = ['image/jpg', 'image/jpeg', 'image/png', 'image/apng', 'image/gif', 'image/webp', 'image/avif'];\n  const capturePhotoEl = document.querySelector('capture-photo');\n  const cameraResultsEl = document.getElementById('cameraResults');\n  const fileResultsEl = document.getElementById('fileResults');\n  const scanInstructionsEl = document.getElementById('scanInstructions');\n  const scanBtn = document.getElementById('scanBtn');\n  const scanMethodSelect = document.getElementById('scanMethod');\n  const fileInput = document.getElementById('fileInput');\n  const dropzoneEl = document.getElementById('dropzone');\n  const cameraViewEl = document.getElementById('cameraView');\n  const fileViewEl = document.getElementById('fileView');\n  const resizeObserverEl = document.querySelector('resize-observer');\n  const scanFrameEl = document.getElementById('scanFrame');\n  let shouldRepeatScan = true;\n  let rafId;\n\n  const beep = (() => {\n    const audioCtx = new (window.AudioContext || window.webkitAudioContext || window.audioContext);\n\n    return (duration, frequency, volume, type, callback) => {\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      if (volume) {\n        gainNode.gain.value = volume;\n      }\n\n      if (frequency) {\n        oscillator.frequency.value = frequency;\n      }\n\n      if (type) {\n        oscillator.type = type;\n      }\n\n      if (typeof callback === 'function') {\n        oscillator.onended = callback;\n      }\n\n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + ((duration || 500) / 1000));\n    };\n  })();\n\n  function resizeScanFrame(videoEl) {\n    if (!videoEl) {\n      return;\n    }\n\n    const rect = videoEl.getBoundingClientRect();\n\n    scanFrameEl.style.cssText = `width: ${rect.width}px; height: ${rect.height}px`;\n  }\n\n  if (!('BarcodeDetector' in window)) {\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = true;\n    scanMethodSelect.hidden = true;\n    toastAlert('BarcodeDetector API is not supported by your browser.', 'danger');\n    return;\n  }\n\n  fileInput.accept = ACCEPTED_MIME_TYPES.join(',');\n\n  document.addEventListener('capture-photo:error', evt => {\n    capturePhotoEl.hidden = true;\n    cameraViewEl.hidden = true;\n    fileViewEl.hidden = false;\n    scanMethodSelect.hidden = true;\n\n    const error = evt.detail.error;\n\n    if (error.name === 'NotFoundError') {\n      return;\n    }\n\n    const errorMessage = error.name === 'NotAllowedError' ? 'Permission to use webcam was denied. Reload the page to give appropriate permissions to webcam.' : error.message;\n\n    toastAlert(errorMessage, 'danger');\n  }, {\n    once: true\n  });\n\n  capturePhotoEl.addEventListener('capture-photo:video-play', evt => {\n    scanFrameEl.hidden = false;\n    resizeScanFrame(evt.detail.video);\n    scan();\n  }, {\n    once: true\n  });\n\n  CapturePhoto.defineCustomElement();\n\n  const capturePhotoVideoEl = capturePhotoEl.shadowRoot.querySelector('video');\n\n  const barcodeDetector = new window.BarcodeDetector({\n    formats: await window.BarcodeDetector.getSupportedFormats()\n  });\n\n  function emptyResults(el) {\n    el.querySelectorAll('.results__item').forEach(el => el.remove());\n  }\n\n  function createResult(value, resultEl) {\n    if (!value) {\n      return;\n    }\n\n    let el;\n\n    try {\n      new URL(value);\n      el = document.createElement('a');\n      el.href = value;\n      el.setAttribute('target', '_blank');\n      el.setAttribute('rel', 'noreferrer noopener');\n    } catch (err) {\n      el = document.createElement('span');\n    }\n\n    el.className = 'results__item';\n    el.textContent = value;\n\n    resultEl.appendChild(el);\n  }\n\n  function detectBarcode(source) {\n    return new Promise((resolve, reject) => {\n      barcodeDetector.detect(source).then(results => {\n        if (Array.isArray(results) && results.length > 0) {\n          resolve(results[0]);\n        } else {\n          reject({\n            message: 'Could not detect barcode from provided source.'\n          });\n        }\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  async function scan() {\n    scanInstructionsEl.hidden = false;\n\n    try {\n      const barcode = await detectBarcode(capturePhotoVideoEl);\n      window.cancelAnimationFrame(rafId);\n      emptyResults(cameraResultsEl);\n      createResult(barcode.rawValue, cameraResultsEl);\n      scanInstructionsEl.hidden = true;\n      scanBtn.hidden = false;\n      scanFrameEl.hidden = true;\n      beep(200, 860, 0.03, 'square');\n      return;\n    } catch (err) {\n      // Fail silently...\n    }\n\n    if (shouldRepeatScan) {\n      rafId = window.requestAnimationFrame(ary(scan, 0));\n    }\n  }\n\n  function handleFileSelect(file) {\n    const image = new Image();\n    const reader = new FileReader();\n\n    reader.addEventListener('load', evt => {\n      const data = evt.target.result;\n\n      image.addEventListener('load', async () => {\n        try {\n          const barcode = await detectBarcode(image);\n          emptyResults(fileResultsEl);\n          createResult(barcode.rawValue, fileResultsEl);\n        } catch (err) {\n          emptyResults(fileResultsEl);\n          createResult('-', fileResultsEl);\n        }\n      });\n\n      image.src = data;\n      dropzoneEl.querySelectorAll('img').forEach(el => el.remove());\n      dropzoneEl.prepend(image);\n    });\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }\n\n  scanBtn.addEventListener('click', () => {\n    scanBtn.hidden = true;\n    scanFrameEl.hidden = false;\n    emptyResults(cameraResultsEl);\n    scan();\n  });\n\n  scanMethodSelect.addEventListener('change', evt => {\n    const value = evt.target.value;\n\n    [cameraViewEl, fileViewEl].forEach(el => {\n      el.hidden = el.id !== value;\n    });\n\n    if (value === 'cameraView') {\n      shouldRepeatScan = true;\n\n      if (\n        !capturePhotoEl.hidden // Assumes that element is hidden because of error.\n        && !capturePhotoEl.loading\n        && !cameraResultsEl.querySelector('.results__item')\n      ) {\n        scan();\n      }\n    }\n\n    if (value === 'fileView') {\n      shouldRepeatScan = false;\n    }\n  });\n\n  fileInput.addEventListener('change', evt => {\n    const file = evt.target.files[0];\n    handleFileSelect(file);\n  });\n\n  dropzoneEl.addEventListener('dragover', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = 'copy';\n  });\n\n  dropzoneEl.addEventListener('drop', evt => {\n    evt.stopPropagation();\n    evt.preventDefault();\n\n    const fileList = evt.dataTransfer.files;\n    const [file] = fileList;\n\n    if (!file || !ACCEPTED_MIME_TYPES.includes(file.type)) {\n      return;\n    }\n\n    fileInput.value = fileInput.defaultValue;\n\n    handleFileSelect(file);\n  });\n\n  resizeObserverEl.addEventListener('resize-observer:resize', () => {\n    resizeScanFrame(capturePhotoEl.shadowRoot.querySelector('video'));\n  });\n}());\n"],"names":["$e51fb4ac65530b13$var$t","document","createElement","$e51fb4ac65530b13$var$e","String","raw","innerHTML","$e51fb4ac65530b13$export$ea3b71af1761ff40","HTMLElement","observedAttributes","connectedCallback","this","_buttonSlot","addEventListener","_onSlotChange","$button","_onClick","_upgradeProperty","disconnectedCallback","removeEventListener","attributeChangedCallback","t","disabled","setAttribute","part","contains","toggle","hasAttribute","removeAttribute","value","getAttribute","from","async","e","Element","prototype","getRootNode","composed","ownerDocument","querySelector","HTMLInputElement","HTMLTextAreaElement","HTMLAnchorElement","href","textContent","navigator","clipboard","writeText","dispatchEvent","CustomEvent","bubbles","detail","t1","error","_getButton","assignedElements","flatten","find","nodeName","preventDefault","Event","_copy","target","name","Object","hasOwnProperty","call","static","window","customElements","get","define","constructor","super","shadowRoot","attachShadow","mode","appendChild","content","cloneNode","bind","defineCustomElement","$ecd65984412a2580$var$e","$ecd65984412a2580$var$t","$ecd65984412a2580$export$f0e45424cc896229","s","_stopObserver","_startObserver","_resizeObserver","ResizeObserver","entries","_slot","_observedElements","forEach","unobserve","observe","push","disconnect","$1aa3411f32e58366$var$t","$1aa3411f32e58366$export$cc30a98fe3890794","_connected","_canvasElement","_outputElement","getElementById","_videoElement","_onVideoLoadedMetaData","_captureButtonSlot","_onCaptureButtonSlotChange","_captureButton","_getCaptureButton","_onCapturePhotoButtonClick","_facingModeButtonSlot","_onFacingModeButtonSlotChange","_facingModeButton","_getFacingModeButton","_supportedConstraints","facingMode","_onFacingModeButtonClick","hidden","isSupported","message","_requestGetUserMedia","_stopVideoStreaming","o","_emptyOutputElement","cameraResolution","_applyZoom","zoom","outputDisabled","Number","Math","floor","loading","_stream","getVideoTracks","stop","srcObject","video","ideal","audio","e1","split","width","height","mediaDevices","getUserMedia","then","catch","finally","capture","getContext","videoWidth","videoHeight","drawImage","n","toDataURL","includes","Image","src","dataURI","t2","play","Array","childNodes","remove","getCapabilities","getSettings","i","applyConstraints","advanced","min","max","isNaN","Boolean","getSupportedConstraints","$3969451ff60cb8d5$var$toastContainer","$3969451ff60cb8d5$var$hideAlert","evt","currentTarget","removeChild","parentNode","$3969451ff60cb8d5$export$af04143326425dbd","type","template","div","className","setTimeout","classList","add","$d12fad1f23d6cb00$export$24730179a5f99706","fn","TypeError","args","arityCap","slice","ACCEPTED_MIME_TYPES","capturePhotoEl","cameraResultsEl","fileResultsEl","scanInstructionsEl","scanBtn","scanMethodSelect","fileInput","dropzoneEl","cameraViewEl","fileViewEl","resizeObserverEl","scanFrameEl","rafId","shouldRepeatScan","beep","audioCtx","AudioContext","webkitAudioContext","audioContext","duration","frequency","volume","callback","oscillator","createOscillator","gainNode","createGain","connect","destination","gain","onended","start","currentTime","resizeScanFrame","videoEl","rect","getBoundingClientRect","style","cssText","accept","join","errorMessage","once","scan","capturePhotoVideoEl","barcodeDetector","BarcodeDetector","formats","getSupportedFormats","emptyResults","el","querySelectorAll","createResult","resultEl","URL","err","detectBarcode","source","Promise","resolve","reject","detect","results","isArray","length","barcode","cancelAnimationFrame","rawValue","requestAnimationFrame","handleFileSelect","file","image","reader","FileReader","data","result","prepend","readAsDataURL","id","files","stopPropagation","dataTransfer","dropEffect","fileList","defaultValue"],"version":3,"file":"index.158e3c4d.js.map"}